{"version":3,"sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./src/app/Material/Material.module.ts","./src/app/admin-prods/admin-prods.component.ts","./src/app/admin-prods/admin-prods.component.html","./src/app/admin/admin-clients/admin-clients.component.ts","./src/app/admin/admin-clients/admin-clients.component.html","./src/app/admin/admin-sellers/admin-sellers.component.ts","./src/app/admin/admin-sellers/admin-sellers.component.html","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/buys/buys.component.ts","./src/app/buys/buys.component.html","./src/app/clients/clients.component.ts","./src/app/clients/clients.component.html","./src/app/commissions/commissions.component.html","./src/app/commissions/commissions.component.ts","./src/app/commissions/commissionsDash.component.ts","./src/app/commissions/commissionsDash.component.html","./src/app/constants.ts","./src/app/credit-note/credit-note.component.ts","./src/app/credit-note/credit-note.component.html","./src/app/dashboard/dashboard.component.ts","./src/app/dashboard/dashboard.component.html","./src/app/edit-product-prices/edit-product-prices.component.html","./src/app/edit-product-prices/edit-product-prices.component.ts","./src/app/forms/clients-form/clients-form.component.ts","./src/app/forms/clients-form/clients-form.component.html","./src/app/forms/product-form/product-form.component.ts","./src/app/forms/product-form/product-form.component.html","./src/app/forms/sellers-form/sellers-form.component.html","./src/app/forms/sellers-form/sellers-form.component.ts","./src/app/globals.ts","./src/app/log-check/log-check.component.html","./src/app/log-check/log-check.component.ts","./src/app/mat-navbar/mat-navbar.component.html","./src/app/mat-navbar/mat-navbar.component.ts","./src/app/menu/menu.component.html","./src/app/menu/menu.component.ts","./src/app/payment/payment.component.ts","./src/app/payment/payment.component.html","./src/app/payments/payments.component.ts","./src/app/payments/payments.component.html","./src/app/pieChart/pieChart.component.ts","./src/app/pieChart/pieChart.component.html","./src/app/pruebas/prueba.component.ts","./src/app/replaces/replaces.component.html","./src/app/replaces/replaces.component.ts","./src/app/services/admin-auth-guard.service.ts","./src/app/services/auth-guard.service.ts","./src/app/services/auth.service.ts","./src/app/services/category.service.ts","./src/app/services/commissions.service.ts","./src/app/services/orders.service.ts","./src/app/services/print.service.ts","./src/app/services/product.service.ts","./src/app/services/stock.service.ts","./src/app/services/user.service.ts","./src/app/services/utility.service.ts","./src/app/stock/stock.component.ts","./src/app/stock/stock.component.html","./src/environments/environment.ts","./src/main.ts","./node_modules/moment/locale|sync|/^/.*$"],"names":[],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0B","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 98255;\nmodule.exports = webpackEmptyAsyncContext;","import { NgModule } from '@angular/core';\r\nimport {MatToolbarModule} from '@angular/material/toolbar';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatMenuModule} from '@angular/material/menu';\r\nimport {MatFormFieldModule} from '@angular/material/form-field';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {MatCardModule} from '@angular/material/card';\r\nimport {MatTableModule} from '@angular/material/table';\r\nimport {MatPaginatorModule} from '@angular/material/paginator';\r\nimport {MatSortModule} from '@angular/material/sort';\r\nimport {MatGridListModule} from '@angular/material/grid-list';\r\nimport {MatListModule} from '@angular/material/list';\r\nimport {MatChipsModule} from '@angular/material/chips';\r\nimport {MatExpansionModule} from '@angular/material/expansion';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\nimport {MatDatepickerModule} from '@angular/material/datepicker';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatMomentDateModule } from '@angular/material-moment-adapter';\r\nimport {MatBadgeModule} from '@angular/material/badge';\r\nimport {MatCheckboxModule} from '@angular/material/checkbox';\r\nimport {MatRadioModule} from '@angular/material/radio';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\n\r\n\r\nconst MaterialsComponents = [\r\n\r\n  MatToolbarModule,\r\n  MatIconModule,\r\n  MatButtonModule,\r\n  MatMenuModule,\r\n  MatFormFieldModule,\r\n  MatInputModule,\r\n  MatSelectModule,\r\n  MatCardModule,\r\n  MatTableModule,\r\n  MatPaginatorModule,\r\n  MatSortModule,\r\n  MatGridListModule,\r\n  MatListModule,\r\n  MatChipsModule,\r\n  MatExpansionModule,\r\n  MatAutocompleteModule,\r\n  MatDatepickerModule,\r\n  MatNativeDateModule,\r\n  MatMomentDateModule,\r\n  MatBadgeModule,\r\n  MatCheckboxModule,\r\n  MatRadioModule,\r\n  MatSidenavModule\r\n]\r\n@NgModule({\r\n  imports: [\r\n    MaterialsComponents\r\n  ],\r\n  exports: [\r\n    MaterialsComponents\r\n  ]\r\n})\r\nexport class MaterialModule {}\r\n","import { CommissionsService } from './../services/commissions.service';\r\nimport { CategoryService } from '../services/category.service';\r\nimport { AngularFireDatabase, AngularFireList } from '@angular/fire/database';\r\nimport { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { ProductService } from 'src/app/services/product.service';\r\nimport {MatPaginator} from '@angular/material/paginator';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\nimport { jsPDF } from 'jspdf';\r\nimport * as XLSX from 'xlsx';\r\n\r\n\r\n@Component({\r\n  selector: 'app-admin-prods',\r\n  templateUrl: './admin-prods.component.html',\r\n  styleUrls: ['./admin-prods.component.scss']\r\n})\r\nexport class AdminProdsComponent implements OnInit {\r\n\r\n\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  currentItemsToShow: any[];\r\n  toSave: any[] = [];\r\n  pageSize: number = 20;\r\n  pageIndex: number = 0;\r\n  prodCat: String;\r\n  prodCategory:any = {};\r\n\r\n  dist:number;\r\n  com:number;\r\n  gym:number;\r\n  rechargeDelForm: any = {};\r\n  recharges: any;\r\n  rechargeId:any;\r\n  products: any;\r\n  prod: any = {};\r\n  categoryPDF: any;\r\n  clientCategories: any;\r\n\r\n  filteredProducts:any[] = [];\r\n  prodsCategories: any[];\r\n  subscription: Subscription;\r\n  subscription2: Subscription\r\n  subscription3: Subscription\r\n\r\n  recharged: boolean;\r\n  mobile: boolean = false;\r\n  prodAdded: boolean = false;\r\n  saving: boolean = false;\r\n\r\n  constructor(private productService: ProductService, private commissionsService: CommissionsService,\r\n    private router: Router, private categoryService: CategoryService) {\r\n\r\n      this.subscription = this.categoryService.getAllClientsCategories().subscribe(clientCategories => {\r\n        this.clientCategories = clientCategories;\r\n      })\r\n      categoryService.getAllProdsCategories().subscribe((prodsCategories)=>{\r\n        this.prodsCategories = prodsCategories;\r\n      });\r\n      this.subscription2 = this.productService.getAllProducts().subscribe(products => {\r\n        this.filteredProducts = this.products = products;\r\n        this.filteredProducts.sort(this.compareTitle);\r\n        this.filteredProducts.sort(this.compareCategory);\r\n\r\n        this.onPageChange({previousPageIndex: 0, pageIndex: this.pageIndex, pageSize: this.pageSize, length: this.filteredProducts.length})\r\n        //this.createStockValue(this.products);\r\n        this.subscription3 = this.productService.getAllRecharges().subscribe(recharges => {\r\n          this.recharges = recharges;\r\n          if (!recharges) {\r\n            this.productService.createRecharge();          }\r\n\r\n          this.productService.recharge(this.products, this.recharges[0].payload.val());\r\n          //this.recharge(this.recharges[0].payload.val().distRecharge, this.recharges[0].payload.val().comRecharge, this.recharges[0].payload.val().kiosRecharge, this.recharges[0].payload.val().gymRecharge);\r\n        });\r\n      });\r\n\r\n      // if (this.recharges) this.recharge(this.recharges[0].payload.val().distRecharge, this.recharges[0].payload.val().comRecharge, this.recharges[0].payload.val().kiosRecharge, this.recharges[0].payload.val().gymRecharge);\r\n    }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  // filter(query: string) {\r\n  //   this.filteredProducts = (query) ?\r\n  //     this.products.filter((p: { payload: { val: () => { (): any; new(): any; title: string; }; }; }) => p.payload.val().title.toLowerCase().includes(query.toLowerCase())) :\r\n  //     this.products;\r\n  // }\r\n\r\n  filter(query: string) {\r\n    if (query != \"\") {\r\n      this.filteredProducts = (query) ?\r\n      this.products.filter((p: { payload: { val: () => { (): any; new(): any; title: string; }; }; }) => p.payload.val().title.toLowerCase().includes(query.toLowerCase())) :\r\n      [];\r\n    }\r\n    else this.filteredProducts = this.products;\r\n    this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 20, length: this.filteredProducts.length});\r\n    if (this.paginator) this.paginator.pageIndex = 0;\r\n  }\r\n\r\n  saveProd(productForm: any, product: any) {\r\n    // if (confirm('Está segur@ que quiere guardar estos valores?')) {\r\n      this.recharged = true;\r\n      let recharges = this.recharges[0].payload.val()\r\n      let prod = {\r\n        \"disc1\": productForm.disc1,\r\n        \"disc2\": productForm.disc2,\r\n        \"disc3\": productForm.disc3,\r\n        \"disc4\": productForm.disc4,\r\n        \"buyPrice\": productForm.buyPrice,\r\n        // \"price1\": product.payload.val().price1,\r\n        // \"price2\": product.payload.val().price2,\r\n        // \"price3\": product.payload.val().price3,\r\n        // \"price4\": product.payload.val().price4,\r\n        \"price1\": product.payload.val().buyPrice * (1 + recharges.distRecharge/100),\r\n        \"price2\": product.payload.val().buyPrice * (1 + recharges.comRecharge/100),\r\n        \"price3\": product.payload.val().buyPrice * (1 + recharges.kiosRecharge/100),\r\n        \"price4\": product.payload.val().buyPrice * (1 + recharges.gymRecharge/100),\r\n        \"discPrice1\": 0,\r\n        \"discPrice2\":0,\r\n        \"discPrice3\": 0,\r\n        \"discPrice4\": 0,\r\n        \"stock\": productForm.stock,\r\n        \"prodsCategory\": productForm.prodsCategory,\r\n        \"title\": productForm.title\r\n      }\r\n      prod.discPrice1 = prod.price1*(1-prod.disc1/100);\r\n      prod.discPrice2 = prod.price2*(1-prod.disc2/100);\r\n      prod.discPrice3 = prod.price3*(1-prod.disc3/100);\r\n      prod.discPrice4 = prod.price4*(1-prod.disc4/100);\r\n\r\n      this.productService.update(product.key, prod).then(()=>{this.recharged = false})\r\n      //this.productService.recharge(this.products, this.recharges[0].payload.val())\r\n      //this.toSave.push({\"key\": product.key, \"prod\": prod})\r\n      //location.reload();\r\n      //this.router.navigate(['/admin/prods']);\r\n    // }\r\n  }\r\n\r\n  delete(id: string) {\r\n    if (confirm('Está segur@ que quiere eliminar este producto?')) {\r\n      this.productService.delete(id);\r\n    }\r\n  }\r\n\r\n  saveRecharges(recharge:any) {\r\n    if (confirm('Está segur@ que quiere cambiar la remarcación?')) {\r\n      let recharges = {\r\n        \"distRecharge\": recharge.dist,\r\n        \"comRecharge\": recharge.com,\r\n        \"kiosRecharge\": recharge.kios,\r\n        \"gymRecharge\": recharge.gym\r\n      }\r\n      this.productService.saveRecharges(recharges);\r\n      this.productService.recharge(this.products, recharges);\r\n      location.reload();\r\n    }\r\n  }\r\n\r\n  // recharge(distRecharge: number, comRecharge: number, kiosRecharge: number, gymRecharge: number) {\r\n  //   if (this.recharges) {\r\n  //     this.recharged=true;\r\n  //     setTimeout(()=> {\r\n  //       this.recharged = false;\r\n  //      }, 1000);\r\n  //     this.productService.recharge(this.products, distRecharge, comRecharge, kiosRecharge, gymRecharge);\r\n  //     return\r\n  //   }\r\n  //   this.productService.createRecharge();\r\n  // }\r\n\r\n  applyDiscount(p: any, priceNumber: any, disc: number){\r\n    this.productService.applyDiscount(p, priceNumber, disc);\r\n  }\r\n\r\n  onPageChange($event: any) {\r\n    this.pageIndex = $event.pageIndex;\r\n    this.pageSize = $event.pageSize;\r\n    this.currentItemsToShow = this.filteredProducts.slice(\r\n      $event.pageIndex * $event.pageSize,\r\n      $event.pageIndex * $event.pageSize + $event.pageSize\r\n    );\r\n  }\r\n\r\n  compareCategory( a: any, b: any ) {\r\n    if ( a.payload.val().prodsCategory.toLowerCase() < b.payload.val().prodsCategory.toLowerCase()){\r\n      return -1;\r\n    }\r\n    if ( a.payload.val().prodsCategory.toLowerCase() > b.payload.val().prodsCategory.toLowerCase()){\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  compareTitle( a: any, b: any ) {\r\n    if ( a.payload.val().title.toLowerCase() < b.payload.val().title.toLowerCase()){\r\n      return -1;\r\n    }\r\n    if ( a.payload.val().title.toLowerCase() > b.payload.val().title.toLowerCase()){\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  exportExcel(prod: any) {\r\n    this.products.sort(this.compareTitle)\r\n    this.products.sort(this.compareCategory)\r\n    if (confirm('Descargar Excel')) {\r\n      let data: any[] = [];\r\n      data.push([\"PRODUCTO\", \"DISTRIBUIDOR\", \"COMERCIO\", \"KIOSKO\", \"GIMNASIO\", \"CATEGORIA\"])\r\n      this.filteredProducts.forEach((prod)=>{\r\n        data.push([prod.payload.val().title, prod.payload.val().discPrice1.toFixed(1),\r\n          prod.payload.val().discPrice2.toFixed(1), prod.payload.val().discPrice3.toFixed(1),\r\n          prod.payload.val().discPrice4.toFixed(1), prod.payload.val().prodsCategory])\r\n      });\r\n\r\n      // (C2) CREATE NEW EXCEL \"FILE\"\r\n      var workbook = XLSX.utils.book_new(),\r\n          worksheet = XLSX.utils.aoa_to_sheet(data);\r\n      workbook.SheetNames.push(\"Precios\");\r\n      workbook.Sheets[\"Precios\"] = worksheet;\r\n\r\n      var wscols = [\r\n        {wch:40},\r\n        {wch:15},\r\n        {wch:15},\r\n        {wch:15},\r\n        {wch:15},\r\n        {wch:15}\r\n    ];\r\n\r\n    worksheet['!cols'] = wscols;\r\n\r\n      // (C3) \"FORCE DOWNLOAD\" XLSX FILE\r\n      XLSX.writeFile(workbook, \"precios.xlsx\");\r\n    }\r\n\r\n  }\r\n\r\n  exportPDF(prod: any) {\r\n    if (confirm('Descargar PDF')) {\r\n      this.products.sort(this.compareTitle)\r\n      this.products.sort(this.compareCategory)\r\n\r\n      const line1 = 20;\r\n      const line2 = line1 + 10;\r\n      const line3 = line2 + 10;\r\n      const col1 = 20;\r\n      const col2 = 120;\r\n      const col3 = 160;\r\n\r\n      var doc = new jsPDF();\r\n      let pageHeight= 0;\r\n      doc.setFontSize(9);\r\n      doc.text('GENTECH MAR DEL PLATA', col1, line1);\r\n      doc.text('CATEGORÍA: ' + prod.categoryPDF, 120, line1);\r\n      doc.text('PRODUCTO', col1, line2);\r\n      if (prod.categoryPDF == \"Kiosko\" || prod.categoryPDF == \"Gimnasio\") {\r\n        doc.text('Importe', 120, line2);\r\n      }\r\n      else {\r\n        doc.text('Importe s/IVA', 120, line2);\r\n        doc.text('Importe c/IVA', 160, line2);\r\n      }\r\n\r\n      doc.setFontSize(8);\r\n\r\n      let cont = 0;\r\n      let price = 0;\r\n      let yLimit = 400 // Height position of new content\r\n      let j = 0;\r\n      let y = 0;\r\n      for (let i=0;i<this.products.length;i++) {\r\n        pageHeight = doc.internal.pageSize.height\r\n        if (y >= pageHeight -70 ) {\r\n          doc.addPage();\r\n          j = i;\r\n          cont = line1;\r\n        }\r\n        y = 7*(i+1-j) - cont;\r\n        doc.text(this.products[i].payload.val().title, col1, line3 + y);\r\n        switch (prod.categoryPDF) {\r\n          case \"Distribuidor\":\r\n            doc.text(this.products[i].payload.val().discPrice1.toFixed(1).toString(), col2, line3 + y);\r\n            doc.text((1.21*this.products[i].payload.val().discPrice1).toFixed(1).toString(), col3, line3 + y);\r\n            break;\r\n          case \"Comercio\":\r\n            doc.text(this.products[i].payload.val().discPrice2.toFixed(1).toString(), col2, line3 + y);\r\n            doc.text((1.21*this.products[i].payload.val().discPrice2).toFixed(1).toString(), col3, line3 + y);\r\n            break;\r\n          case \"Kiosko\":\r\n            doc.text(this.products[i].payload.val().discPrice3.toFixed(1).toString(), col2, line3 + y);\r\n            break;\r\n          case \"Gimnasio\":\r\n            doc.text(this.products[i].payload.val().discPrice4.toFixed(1).toString(), col2, line3 + y);\r\n            break;\r\n        }\r\n      }\r\n      doc.setFontSize(8);\r\n\r\n      // Save the PDF\r\n      doc.save('ListaDePreciosGentech-' + prod.categoryPDF +'.pdf');\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n    this.subscription3.unsubscribe();\r\n  }\r\n\r\n  addProdCategory(prodCategory: any) {\r\n    this.categoryService.addProdCategory(prodCategory.title);\r\n    location.reload();\r\n    //this.commissionsService.addProdCategory(prodCategory.title);\r\n  }\r\n}\r\n\r\n\r\n\r\n","\r\n<!-- <div *ngIf=\"!screenOn\">\r\n  <div class=\"SCContainer ml-5 ms-5 spinner-border text-primary\" role=\"status\">\r\n    <span class=\"visually-hidden\"></span>\r\n  </div>\r\n</div> -->\r\n<div class=\"SCContainer ms-1\" *ngIf=\"true\">\r\n  <div><h1 style=\"display: inline; margin:10px;\">ADMINISTRAR PRODUCTOS</h1></div>\r\n  <hr>\r\n  <div>\r\n    <form #f2=\"ngForm\" (ngSubmit)=\"exportPDF(f2.value)\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-2 ms-2 mt-3\"><h4>IMPRIMIR LISTADO:</h4></div>\r\n        <div class=\"col-md-3 mt-1 ms-2\">\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>Categoría de cliente</mat-label>\r\n            <mat-select #categoryPDF=\"ngModel\" [(ngModel)]=\"prod.categoryPDF\" name=\"categoryPDF\" required>\r\n              <mat-option *ngFor=\"let c of clientCategories\" [value]=\"c.name\">\r\n                {{c.name}}\r\n              </mat-option>\r\n            </mat-select>\r\n            <div class=\"alert alert-danger\" *ngIf=\"categoryPDF.touched && categoryPDF.invalid\">La categoría es obligatoria</div>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"col-md-2 ms-2 mt-2\">\r\n          <button mat-icon-button type=\"submit\" color=\"primary\" [disabled]=\"!f2.valid\">Descargar PDF&nbsp;&nbsp;<mat-icon>picture_as_pdf</mat-icon></button>\r\n        </div>\r\n        <div class=\"col-md-2\">\r\n          <button class=\"m-2\" mat-icon-button type=\"button\" (click)=\"exportExcel(f2.value)\" color=\"accent\" [disabled]=\"!f2.valid\">Descargar Excel&nbsp;&nbsp;<mat-icon>grid_on</mat-icon></button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n    <hr>\r\n\r\n    <form #f3=\"ngForm\" (ngSubmit)=\"addProdCategory(f3.value)\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-2 ms-2 mt-3\"><h4>CREAR CATEGORÍA:</h4></div>\r\n        <div class=\"col-6 col-md-3 mt-1 ms-2\">\r\n          <mat-form-field appearance=\"legacy\">\r\n            <mat-label>Nueva Categoría de Prod</mat-label>\r\n            <input #title=\"ngModel\" matInput [(ngModel)]=\"prodCategory.title\" name=\"title\" placeholder=\"\" maxlength=\"40\" required>\r\n            <div class=\"alert alert-danger\" *ngIf=\"title.touched && title.invalid\">El nombre es obligatorio. Máximo 30 caracteres</div>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"col col-3 mt-2\">\r\n          <button class=\"ms-2\" mat-raised-button type=\"submit\" color=\"primary\" [disabled]=\"!f3.valid\">Agregar</button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n\r\n    <hr>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col col-md-5 ms-2 mt-3\">\r\n        <div class=\"input-group\">\r\n          <div>\r\n            <mat-icon matSuffix>search</mat-icon>\r\n          </div>\r\n          <div> <input class=\"border-end-0 border rounded-pill\" matInput #query (keyup)=\"filter(query.value)\" type=\"text\" placeholder=\"   Buscar producto...\"></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col col-md-3 mt-1 ms-sm-2\">\r\n        <div>\r\n          <a mat-raised-button class=\"ms-2\" color=\"accent\" routerLink=\"/admin/prods/new\">Nuevo Producto</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"admin-prod-recharge ms-1\">\r\n      <div>\r\n        <span><b><u>Remarcación de precios:</u></b>&nbsp;&nbsp;(para modificar debe completar los 4 campos)</span>\r\n      </div>\r\n      <div>\r\n        <form #f=\"ngForm\" (ngSubmit)=\"saveRecharges(f.value)\">\r\n          <p *ngIf=\"this.recharges\">\r\n            <mat-form-field appearance=\"legacy\">\r\n              <input #dist=\"ngModel\" matInput [(ngModel)]=\"rechargeDelForm.dist\" name=\"dist\" placeholder=\"distribuidor: {{this.recharges[0].payload.val().distRecharge}}%\" required>\r\n              <div class=\"alert alert-danger\" *ngIf=\"dist.touched && dist.invalid\">campo obligatorio</div>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field appearance=\"legacy\">\r\n              <input #com=\"ngModel\" matInput [(ngModel)]=\"rechargeDelForm.com\" name=\"com\" placeholder=\"comercio: {{this.recharges[0].payload.val().comRecharge}}%\" required>\r\n              <div class=\"alert alert-danger\" *ngIf=\"com.touched && com.invalid\">campo obligatorio</div>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field appearance=\"legacy\">\r\n              <input #kios=\"ngModel\" matInput [(ngModel)]=\"rechargeDelForm.kios\" name=\"kios\" placeholder=\"kios: {{this.recharges[0].payload.val().kiosRecharge}}%\" required>\r\n              <div class=\"alert alert-danger\" *ngIf=\"com.touched && com.invalid\">campo obligatorio</div>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field appearance=\"legacy\">\r\n              <input #gym=\"ngModel\" matInput [(ngModel)]=\"rechargeDelForm.gym\" name=\"gym\" placeholder=\"gimnasio: {{this.recharges[0].payload.val().gymRecharge}}%\" required>\r\n              <div class=\"alert alert-danger\" *ngIf=\"gym.touched && gym.invalid\">campo obligatorio</div>\r\n            </mat-form-field>\r\n\r\n            <button mat-raised-button type=\"submit\" color=\"primary\" [disabled]=\"!f.valid\" >Aplicar</button>\r\n        </p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-1 ms-2\">\r\n        <button mat-raised-button type=\"button\" routerLink=\"/editProductPrices\" color=\"primary\">Editar Precios</button>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div>\r\n      <br>\r\n      <span *ngIf=\"this.recharged\" class=\"text-danger border border-danger p-2 my-5 rounded\">&nbsp;&nbsp;Aplicando</span>\r\n      <div class=\"admin-prods-form\" *ngFor=\"let product of currentItemsToShow; index as i;\">\r\n        <form #f2=\"ngForm\" (ngSubmit)=\"saveProd(f2.value, product)\">\r\n          <mat-form-field appearance=\"legacy\" style=\"width:25vw;min-width:320px;margin-right: 10px; \">\r\n            <input #title=\"ngModel\" matInput [(ngModel)]=\"product.payload.val().title\" name=\"title\" placeholder=\"\" required>\r\n            <mat-hint>Producto</mat-hint>\r\n            <div class=\"alert alert-danger\" *ngIf=\"title.touched && title.invalid\">El nombre es obligatorio</div>\r\n          </mat-form-field>\r\n\r\n          <mat-form-field appearance=\"legacy\" style=\"width:5vw;min-width:63px;\">\r\n            <input #buyPrice=\"ngModel\" matInput [(ngModel)]=\"product.payload.val().buyPrice\" name=\"buyPrice\" placeholder=\"\" required [min]=\"0\">\r\n            <div class=\"alert alert-danger\" *ngIf=\"buyPrice.touched && buyPrice.invalid\">\r\n              <div *ngIf=\"buyPrice.errors?.required\">Price is required</div>\r\n              <div *ngIf=\"buyPrice.errors?.min\">Precio inválido. Dede usar punto en vez de coma.</div>\r\n            </div>\r\n            <mat-hint>Precio de compra($)</mat-hint>\r\n          </mat-form-field>\r\n\r\n          <mat-form-field appearance=\"legacy\" style=\"width:5vw;min-width:63px;background-color: rgb(240, 240, 240);\">\r\n            <input matInput placeholder=\"${{product.payload.val().discPrice1 | number:'1.1-1'}}\" readonly>\r\n            <mat-hint>Precio distribuidor</mat-hint>\r\n          </mat-form-field>\r\n\r\n          <mat-form-field appearance=\"legacy\" style=\"width:2vw;min-width:25px;\">\r\n            <input #disc1=\"ngModel\" matInput [(ngModel)]=\"product.payload.val().disc1\" name=\"disc1\" placeholder=\"\" required [min]=\"-100\">\r\n            <div class=\"alert alert-danger\" *ngIf=\"disc1.touched && disc1.invalid\">\r\n              <div *ngIf=\"disc1.errors?.required\">campo obligatorio</div>\r\n            </div>\r\n            <mat-hint>Desc.(%)</mat-hint>\r\n          </mat-form-field>\r\n\r\n          <mat-form-field appearance=\"legacy\" style=\"width:5vw;min-width:63px;background-color: rgb(240, 240, 240);\">\r\n            <input matInput placeholder=\"${{product.payload.val().discPrice2 | number:'1.1-1'}}\" readonly>\r\n            <mat-hint>Precio comercio</mat-hint>\r\n          </mat-form-field>\r\n\r\n          <mat-form-field appearance=\"legacy\" style=\"width:2vw;min-width:28px;\">\r\n            <input #disc2=\"ngModel\" matInput [(ngModel)]=\"product.payload.val().disc2\" name=\"disc2\" placeholder=\"\" required [min]=\"-100\">\r\n            <div class=\"alert alert-danger\" *ngIf=\"disc2.touched && disc2.invalid\">\r\n              <div *ngIf=\"disc2.errors?.required\">campo obligatorio</div>\r\n            </div>\r\n            <mat-hint>Desc.(%)</mat-hint>\r\n          </mat-form-field>\r\n\r\n          <mat-form-field appearance=\"legacy\" style=\"width:5vw;min-width:63px;background-color: rgb(240, 240, 240);\">\r\n            <input matInput placeholder=\"${{product.payload.val().discPrice3 | number:'1.1-1'}}\" readonly>\r\n            <mat-hint>Precio kiosko</mat-hint>\r\n          </mat-form-field>\r\n          <mat-form-field appearance=\"legacy\" style=\"width:2vw;min-width:28px;\">\r\n            <input #disc3=\"ngModel\" matInput [(ngModel)]=\"product.payload.val().disc3\" name=\"disc3\" placeholder=\"\" required>\r\n            <div class=\"alert alert-danger\" *ngIf=\"disc3.touched && disc3.invalid\">\r\n              <div *ngIf=\"disc3.errors?.required\">campo obligatorio</div>\r\n            </div>\r\n            <mat-hint>Desc.(%)</mat-hint>\r\n          </mat-form-field>\r\n\r\n\r\n          <mat-form-field appearance=\"legacy\" style=\"width:5vw;min-width:63px;background-color: rgb(240, 240, 240);\">\r\n            <input matInput placeholder=\"${{product.payload.val().discPrice4 | number:'1.1-1'}}\" readonly>\r\n            <mat-hint>Precio gimnasio</mat-hint>\r\n          </mat-form-field>\r\n\r\n          <mat-form-field appearance=\"legacy\" style=\"width:2vw;min-width:28px;\">\r\n            <input #disc4=\"ngModel\" matInput [(ngModel)]=\"product.payload.val().disc4\" name=\"disc4\" placeholder=\"\" required>\r\n            <div class=\"alert alert-danger\" *ngIf=\"disc4.touched && disc4.invalid\">\r\n              <div *ngIf=\"disc4.errors?.required\">campo obligatorio</div>\r\n            </div>\r\n            <mat-hint>Desc.(%)</mat-hint>\r\n          </mat-form-field>\r\n\r\n          <mat-form-field appearance=\"legacy\" style=\"width:2vw;min-width:28px;margin:3px\">\r\n            <input #stock=\"ngModel\" matInput [(ngModel)]=\"product.payload.val().stock\" name=\"stock\" placeholder=\"\" required>\r\n            <div class=\"alert alert-danger\" *ngIf=\"stock.touched && stock.invalid\">\r\n              <div *ngIf=\"stock.errors?.required\">campo obligatorio</div>\r\n            </div>\r\n            <mat-hint>Stock</mat-hint>\r\n          </mat-form-field>\r\n\r\n          <mat-form-field appearance=\"legacy\" style=\"width:5vw;min-width:80px;\">\r\n            <mat-label>Categorias</mat-label>\r\n            <mat-select #prodsCategory=\"ngModel\" [(ngModel)]=\"product.payload.val().prodsCategory\" name=\"prodsCategory\" required>\r\n              <mat-option *ngFor=\"let c of prodsCategories\" [value]=\"c.payload.val().name\">\r\n                {{c.payload.val().name}}\r\n              </mat-option>\r\n            </mat-select>\r\n            <div class=\"alert alert-danger\" *ngIf=\"prodsCategory.touched && prodsCategory.invalid\">Category is required</div>\r\n          </mat-form-field>\r\n\r\n          <button mat-raised-button type=\"submit\" color=\"primary\" [disabled]=\"!f2.valid\">Guardar</button>\r\n          <button (click)=\"delete(product.key)\" mat-raised-button type=\"button\" color=\"warn\">Eliminar</button>\r\n          <br><br>\r\n          <span *ngIf=\"!f2.valid\" class=\"text-danger border border-danger p-2 my-5 rounded\">&nbsp;&nbsp;ERROR: hay datos inválidos! recuerde usar punto en vez de coma para los decimales</span>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <mat-paginator (page)=\"onPageChange($event)\" [length]=\"this.filteredProducts.length\" [pageSize]=\"20\" [pageSizeOptions]=\"[20, 30]\"></mat-paginator>\r\n  </div>\r\n</div>\r\n\r\n","import { PrintService } from './../../services/print.service';\r\nimport { AfterViewInit, Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { Sort } from '@angular/material/sort';\r\nimport { OrdersService } from 'src/app/services/orders.service';\r\nimport { AppUser } from 'src/app/models/app-user';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { UtilityService } from 'src/app/services/utility.service';\r\nimport { Subscription } from 'rxjs';\r\nimport {TOLERATED_DAYS} from 'src/app/constants'\r\n\r\n@Component({\r\n  selector: 'admin-clients',\r\n  templateUrl: './admin-clients.component.html',\r\n  styleUrls: ['./admin-clients.component.scss']\r\n})\r\nexport class AdminClientsComponent implements OnInit, AfterViewInit {\r\n\r\n  //paginator\r\n  actualPage: number = 0;\r\n  totalPages: number = 1;\r\n  itemsPerPage: number = 10;\r\n\r\n  TOLERATED_DAYS = TOLERATED_DAYS;\r\n  appUser: AppUser;\r\n  dataSource: any;\r\n  clients:any[];\r\n  sortedData:any[];\r\n  filteredClients:any[];\r\n  orders: any[];\r\n  payments: any[];\r\n  orderOrPayment: boolean;\r\n  pos: number;\r\n  query: {client: string, seller: string} = {client: \"\", seller: \"\"}\r\n  totalDebt: number = 0;\r\n\r\n  //ordersInDebt: any[];\r\n  clientsInDebt: any[];\r\n\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n  subscription3: Subscription;\r\n  subscription4: Subscription;\r\n\r\n  showClientsInDebt: boolean;\r\n  loading: boolean = true;\r\n  fromEditing: boolean = false;\r\n\r\n  //nuevos\r\n  clientValue: string;\r\n  sellerValue: string;\r\n  currentItemsToShow: any[] = [];\r\n  includedClients: any[] = [];\r\n\r\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\r\n\r\n  constructor(public ordersService: OrdersService,\r\n    private auth: AuthService, public printService: PrintService, public utilityService: UtilityService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.subscription = this.auth.appUser$.subscribe(appUser => {\r\n      this.appUser = appUser;\r\n      this.ordersService.clients\r\n      this.subscription2 = this.ordersService.getAllClients().subscribe(clients => {\r\n        this.clients = clients;\r\n\r\n        this.includedClients = [];\r\n        this.filteredClients = [];\r\n\r\n        this.clients.forEach((client)=>{\r\n          if (this.appUser && (this.appUser.isAdmin || this.appUser.isSalesManager)) {\r\n            this.includedClients.push(client);\r\n          }\r\n        });\r\n\r\n        this.filteredClients = this.includedClients;\r\n        // this.ordersService.setFilteredClients(this.filteredClients)\r\n\r\n        if (this.ordersService.getFromEditing()) {\r\n          this.actualPage = this.ordersService.getClientsActualPage();\r\n          this.totalPages = this.ordersService.getClientsTotalPages();\r\n          this.itemsPerPage = this.ordersService.getClientItemsPerPage();\r\n          this.query = this.ordersService.getQuery();\r\n          this.filter(this.query.client);\r\n          this.filterBySeller(this.query.seller)\r\n          this.clientValue = this.query.client;\r\n          this.sellerValue = this.query.seller;\r\n        }\r\n\r\n        //this.filteredClients.forEach((client)=>{console.log('subscription2', client.payload.val().fantasyName);})\r\n\r\n\r\n        this.refreshPages();\r\n\r\n        this.subscription3 = this.ordersService.getAllPayments().subscribe(payments => {\r\n          this.payments = payments;\r\n          this.subscription4 = this.ordersService.getAllOrders().subscribe(orders => {\r\n            this.orders = orders;\r\n            this.clientsInDebt = this.ordersService.getClientsInDebt(this.clients, this.orders);\r\n            this.clientsInDebt.forEach((client)=>{\r\n              client.paymentDate = this.getClientLastPayment(client.payload.val().fantasyName).payload.val().date;\r\n              this.totalDebt += this.ordersService.getDebt(client.payload.val().fantasyName);\r\n            });\r\n            this.loading = false;\r\n          });\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n\r\n  }\r\n\r\n  filter(query: string) {\r\n    if (query == \"\") {\r\n      this.filteredClients = this.includedClients;\r\n    }\r\n    else {\r\n      this.query.client = query;\r\n      this.filteredClients = [];\r\n      this.includedClients.forEach((client)=>{\r\n        if (client.payload.val().fantasyName.toLowerCase().includes(query.toLowerCase().trim())\r\n        && client.payload.val().designatedSeller.toLowerCase().includes(this.query.seller.toLowerCase().trim()))\r\n        this.filteredClients.push(client);\r\n      });\r\n    }\r\n    this.actualPage = 0;\r\n    this.refreshPages();\r\n  }\r\n\r\n  filterBySeller(query: string) {\r\n    this.query.seller = query;\r\n    this.filteredClients = [];\r\n    this.includedClients.forEach((client)=>{\r\n      if (client.payload.val().fantasyName.toLowerCase().includes(this.query.client.toLowerCase())\r\n      && client.payload.val().designatedSeller.toLowerCase().includes(query.toLowerCase())) {\r\n        this.filteredClients.push(client)\r\n      }\r\n    });\r\n    this.actualPage = 0;\r\n    this.refreshPages();\r\n  }\r\n\r\n  sortData(sort: Sort) {\r\n    const data = this.filteredClients;\r\n    if (!sort.active || sort.direction === '') {\r\n      this.sortedData = data;\r\n      return;\r\n    }\r\n\r\n    this.sortedData = data.sort((a: any, b: any) => {\r\n      const isAsc = sort.direction === 'asc';\r\n      switch (sort.active) {\r\n        case 'cliente': return this.compare(a.payload.val().fantasyName, b.payload.val().fantasyName, isAsc);\r\n        default: return 0;\r\n      }\r\n    });\r\n  }\r\n  compare(a: number | string, b: number | string, isAsc: boolean) {\r\n    return (a < b ? -1 : 1) * (isAsc ? 1 : -1);\r\n  }\r\n\r\n  searchPayments(fantasyName: string) {\r\n    this.ordersService.fantasyName = fantasyName;\r\n  }\r\n\r\n  searchOrders(fantasyName: string) {\r\n    this.ordersService.fantasyName = fantasyName;\r\n  }\r\n\r\n  getClientLastPayment(fantasyName: string) {\r\n    let payment = this.ordersService.getClientLastPayment(fantasyName, this.payments);\r\n    return payment;\r\n  }\r\n\r\n  hideTable() {\r\n    this.showClientsInDebt = !this.showClientsInDebt;\r\n  }\r\n\r\n  savePagination() {\r\n    this.ordersService.setClientsActualPage(this.actualPage);\r\n    this.ordersService.setClientsTotalPages(this.totalPages);\r\n    this.ordersService.setClientItemsPerPage(this.itemsPerPage);\r\n    this.ordersService.setFromEditing(false);\r\n    this.ordersService.setQuery(this.query)\r\n  }\r\n\r\n  //funciones paginator bootstrap\r\n  prevPage() {\r\n    if (this.actualPage == 0) return\r\n    this.actualPage -= 1;\r\n    this.refreshPages()\r\n  }\r\n\r\n  nextPage() {\r\n    if (this.actualPage == this.totalPages) return\r\n    this.actualPage += 1;\r\n    this.refreshPages();\r\n  }\r\n\r\n  refreshPages() {\r\n    this.totalPages = Math.ceil(this.filteredClients.length/this.itemsPerPage);\r\n    this.currentItemsToShow = [];\r\n\r\n    for (let i = this.actualPage*this.itemsPerPage; i<this.actualPage*this.itemsPerPage + this.itemsPerPage; i++) {\r\n      if (i == this.filteredClients.length) return\r\n      this.currentItemsToShow.push(this.filteredClients[i])\r\n    }\r\n  }\r\n  //funciones paginator bootstrap\r\n\r\n\r\n  ngOnDestroy() {\r\n    this.subscription?.unsubscribe();\r\n    this.subscription2?.unsubscribe();\r\n    this.subscription3?.unsubscribe();\r\n    this.subscription4?.unsubscribe();\r\n  }\r\n}\r\n\r\n","<!-- <div *ngIf=\"loading\" class=\"SCContainer ml-5 ms-5 spinner-border text-primary\" role=\"status\">\r\n  <span class=\"visually-hidden\"></span>\r\n</div> -->\r\n<div class=\"SCContainer ms-1\">\r\n  <div><h1>ADMINISTRAR CLIENTES</h1></div>\r\n  <hr>\r\n  <div class=\"col row-ms\">\r\n    <div class=\"col-12 col-ms-5 row\">\r\n      <div class=\"col-12\">\r\n        <a mat-raised-button color=\"accent\" routerLink=\"/admin/clients/new\">Nuevo Cliente</a>\r\n        <button *ngIf=\"clientsInDebt && clientsInDebt.length > 0\" class=\"m-1\" mat-raised-button (click)=\"hideTable()\" color=\"primary\" >Mostrar/Ocultar clientes en mora</button>\r\n        <div *ngIf=\"!clientsInDebt\" class=\"spinner-border ms-3 text-primary spinner-border-sm\" role=\"status\">\r\n        </div>\r\n      </div>\r\n  </div>\r\n\r\n  <div>\r\n    <div *ngIf=\"showClientsInDebt\" class=\"row my-3\">\r\n      <div>CLIENTES EN MORA: &nbsp;&nbsp;\r\n        <span *ngIf=\"clientsInDebt\" matBadge=\"{{clientsInDebt.length}}\" matBadgeSize=\"large\"></span>&nbsp;&nbsp;&nbsp;&nbsp;\r\n      </div>\r\n      <div class=\"col-8\">\r\n        <table class=\"table table-striped table-sm mat-elevation-z8\">\r\n          <thead>\r\n            <tr>\r\n              <th>Cliente</th>\r\n              <th>Vendedor</th>\r\n              <th>Deuda a {{TOLERATED_DAYS}}d</th>\r\n              <th>Saldo hoy</th>\r\n              <th>Último Pago</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor=\"let client of this.clientsInDebt; let i = index\">\r\n              <td>{{client.payload.val().fantasyName}}</td>\r\n              <td>{{client.payload.val().designatedSeller}}</td>\r\n              <td>${{this.ordersService.getDebt(client.payload.val().fantasyName) | number:'1.1-1'}}</td>\r\n              <td>${{this.ordersService.calcDebt(client.payload.val().fantasyName) | number:'1.1-1'}}</td>\r\n              <td>{{client.paymentDate | date:\"dd/MM/yyyy\"}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>TOTAL:</td>\r\n              <td>$ {{totalDebt | number:'1.1-1'}}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n  <!-- ----------------------------- -->\r\n  <div class=\"row\">\r\n    <div class=\"col col-md-3 ms-2 mt-3\"><h1 style=\"display: inline; margin:10px;\">CLIENTES</h1></div>\r\n    <div class=\"col col-md-3 mt-2 ms-sm-2\"><button mat-icon-button (click)=\"this.printService.exportClients(this.clients)\" color=\"primary\" >Descargar Listado&nbsp;&nbsp;<mat-icon>picture_as_pdf</mat-icon></button></div>\r\n  </div>\r\n\r\n  <hr>\r\n  <h3>*IMPORTANTE: si la deuda es negativa el cliente tiene saldo a favor</h3>\r\n\r\n  <div>\r\n    <div>\r\n      <div class=\"row\" *ngIf=\"appUser && (appUser.isAdmin || appUser.isSalesManager)\">\r\n        <div class=\"col col-md-3 ms-2 my-2\">\r\n          <div class=\"input-group\">\r\n            <div>\r\n              <mat-icon matSuffix>search</mat-icon>\r\n            </div>\r\n            <div><input class=\"border-end-0 border rounded-pill\" [(ngModel)]=\"clientValue\" #query (ngModelChange)=\"filter(query.value)\" (keyup)=\"filter(query.value)\" type=\"text\" placeholder=\"   Nombre de Fantasía...\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col col-md-3 ms-2 my-2\">\r\n          <div class=\"input-group\">\r\n            <div>\r\n              <mat-icon matSuffix>search</mat-icon>\r\n            </div>\r\n            <div><input class=\"border-end-0 border rounded-pill\" [(ngModel)]=\"sellerValue\" #sellerquery (keyup)=\"filterBySeller(sellerquery.value)\" type=\"text\" placeholder=\"   Vendedor...\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <table class=\"table table-striped table-sm mat-elevation-z8\" matSort (matSortChange)=\"sortData($event)\">\r\n    <thead>\r\n      <tr>\r\n        <th mat-sort-header=\"businessName\">Razón social</th>\r\n        <th mat-sort-header=\"fantasyName\">Nombre de Fantasía</th>\r\n        <th mat-sort-header=\"seller\">Vendedor</th>\r\n        <th mat-sort-header=\"cuit\">CUIT</th>\r\n        <th mat-sort-header=\"address\">Dirección</th>\r\n        <th mat-sort-header=\"phone\">Teléfono</th>\r\n        <th mat-sort-header=\"debt\">Deuda a {{TOLERATED_DAYS}}d*</th>\r\n        <th mat-sort-header=\"debt_today\">Deuda hoy</th>\r\n        <th mat-sort-header=\"resume\">Estado de cuenta</th>\r\n        <th mat-sort-header=\"edit\">Editar</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let client of currentItemsToShow; let i = index\">\r\n        <td>{{client.payload.val().businessName}}&nbsp;&nbsp;&nbsp;</td>\r\n        <td>{{client.payload.val().fantasyName}}</td>\r\n        <td>{{client.payload.val().designatedSeller}}</td>\r\n        <td>{{client.payload.val().cuit}}</td>\r\n        <td>{{client.payload.val().address}}</td>\r\n        <td>{{client.payload.val().phone}}&nbsp;&nbsp;</td>\r\n        <td>$ {{this.ordersService.getDebt(client.payload.val().fantasyName) | number:'1.1-1'}}</td>\r\n        <td>${{this.ordersService.calcDebt(client.payload.val().fantasyName) | number:'1.1-1'}}</td>\r\n        <td><button mat-icon-button (click)=\"this.printService.exportResume(client.payload.val())\" color=\"primary\" ><mat-icon>picture_as_pdf</mat-icon></button></td>\r\n        <td><a (click)=\"savePagination()\" [routerLink]=\"['/admin/clients', client.key]\">Editar</a></td>\r\n        <td><a style=\"margin-left:10px;\" mat-icon-button routerLink=\"/payments/payments\" (click) =\"searchPayments(client.payload.val().fantasyName)\"><mat-icon>control_point</mat-icon></a><span>Ver cobros al cliente</span></td>\r\n        <td><a style=\"margin-left:10px;\" mat-icon-button routerLink=\"/orders/orders\" (click) =\"searchOrders(client.payload.val().fantasyName)\"><mat-icon>control_point</mat-icon></a><span style=\"margin-right:10px;\">Ver pedidos del cliente</span></td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <!-- <mat-paginator *ngIf=\"this.filteredClients\" [length]=\"this.filteredClients.length\" [pageSize]=\"10\" [pageSizeOptions]=\"[10, 20, 30]\" (page)=\"onPageChange($event)\"></mat-paginator> -->\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination\">\r\n      <li class=\"page-item disabled\"><a class=\"page-link\">Página actual <strong>{{actualPage + 1}}</strong></a></li>\r\n      <li class=\"page-item disabled me-1\"><a class=\"page-link\">Total <strong>{{totalPages}}</strong></a></li>\r\n      <li *ngIf=\"actualPage > 0\" class=\"page-item\"><a class=\"page-link\" (click)=\"prevPage()\"><< Anterior</a></li>\r\n      <li *ngIf=\"actualPage < totalPages -1\" class=\"page-item\"><a class=\"page-link\" (click)=\"nextPage()\">Próxima >></a></li>\r\n      <li class=\"page-item ms-3\" [ngClass]=\"{'disabled': itemsPerPage == 10}\"><a class=\"page-link\" (click)=\"this.itemsPerPage=10;this.actualPage =0;refreshPages()\">10 por página</a></li>\r\n      <li class=\"page-item\" [ngClass]=\"{'disabled': itemsPerPage == 20}\"><a class=\"page-link\" (click)=\"this.itemsPerPage=20;this.actualPage =0;refreshPages()\">20 por página</a></li>\r\n    </ul>\r\n  </nav>\r\n </div>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { Sort } from '@angular/material/sort';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { Subscription } from 'rxjs';\r\nimport { OrdersService } from 'src/app/services/orders.service';\r\n\r\n@Component({\r\n  selector: 'admin-sellers',\r\n  templateUrl: './admin-sellers.component.html',\r\n  styleUrls: ['./admin-sellers.component.scss']\r\n})\r\nexport class AdminSellersComponent implements OnInit {\r\n\r\n  displayedColumns: string[] = ['name', 'phone', 'edit'];\r\n  dataSource: any;\r\n  sellers:any[];\r\n  sortedData:any[];\r\n  filteredSellers:any[];\r\n  subscription: Subscription;\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n\r\n  constructor(private ordersService: OrdersService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n     this.subscription = this.ordersService.getAllSellers().subscribe(sellers => {\r\n       this.filteredSellers = this.sellers = sellers;\r\n       this.dataSource = new MatTableDataSource<any>(this.filteredSellers);\r\n       this.dataSource.paginator = this.paginator;\r\n     });\r\n  }\r\n\r\n  filter(query: string) {\r\n    this.filteredSellers = (query) ?\r\n      this.sellers.filter(c => c.payload.val().name.toLowerCase().includes(query.toLowerCase())) :\r\n      this.sellers;\r\n    this.dataSource = new MatTableDataSource<any>(this.filteredSellers);\r\n    this.dataSource.paginator = this.paginator;\r\n  }\r\n\r\n  sortData(sort: Sort) {\r\n    const data = this.filteredSellers.slice();\r\n    if (!sort.active || sort.direction === '') {\r\n      this.sortedData = data;\r\n      return;\r\n    }\r\n    this.sortedData = data.sort((a, b) => {\r\n      const isAsc = sort.direction === 'asc';\r\n      switch (sort.active) {\r\n        case 'name': return compare(a.payload.val().name, b.payload.val().name, isAsc);\r\n        case 'phone': return compare(a.payload.val().phone, b.payload.val().phone, isAsc);\r\n        default: return 0;\r\n      }\r\n    });\r\n    this.dataSource = new MatTableDataSource<any>(this.sortedData);\r\n    this.dataSource.paginator = this.paginator;\r\n  }\r\n\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n}\r\n\r\nfunction compare(a: number | string, b: number | string, isAsc: boolean) {\r\n  return (a < b ? -1 : 1) * (isAsc ? 1 : -1);\r\n}\r\n","<div class=\"SCContainer\">\r\n  <div><h1 style=\"display: inline; margin:10px;\">ADMINISTRAR VENDEDORES</h1></div>\r\n  <hr>\r\n  <p>\r\n    <a mat-raised-button color=\"accent\" routerLink=\"/admin/sellers/new\">Nuevo Vendedor</a>\r\n  </p>\r\n  <div>\r\n    <table><tr>\r\n      <td>\r\n        <mat-icon matSuffix>search</mat-icon>\r\n      </td>\r\n      <td>\r\n        <input matInput #query (keyup)=\"filter(query.value)\" type=\"text\" placeholder=\"   Buscar por Nombre...\">\r\n      </td>\r\n    </tr></table>\r\n  </div>\r\n\r\n    <table class=\"table table-striped mat-elevation-z8\" mat-table mat-table [dataSource]=\"dataSource\" matSort (matSortChange)=\"sortData($event)\" class=\"mat-elevation-z8\">\r\n\r\n          <!-- name Column -->\r\n      <ng-container matColumnDef=\"name\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header=\"name\"><h2>Nombre Completo</h2></th>\r\n        <td mat-cell *matCellDef=\"let s\"> {{s.payload.val().name}} &nbsp;&nbsp;</td>\r\n      </ng-container>\r\n\r\n      <!-- phone Column -->\r\n      <ng-container matColumnDef=\"phone\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header=\"phone\"><h2>Teléfono </h2></th>\r\n        <td mat-cell *matCellDef=\"let s\"> {{s.payload.val().phone}} &nbsp;&nbsp;</td>\r\n      </ng-container>\r\n\r\n        <!-- Edit Column -->\r\n        <ng-container matColumnDef=\"edit\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header=\"edit\"></th>\r\n          <td mat-cell *matCellDef=\"let s\"><a [routerLink]=\"['/admin/sellers', s.key]\">Edit</a></td>\r\n        </ng-container>\r\n\r\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n    </table>\r\n\r\n    <mat-paginator [pageSizeOptions]=\"[10, 20]\" showFirstLastButtons></mat-paginator>\r\n </div>\r\n\r\n","import { ReplacesComponent } from './replaces/replaces.component';\r\nimport { LogCheckComponent } from './log-check/log-check.component';\r\nimport { AdminClientsComponent } from './admin/admin-clients/admin-clients.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from './services/auth-guard.service';\r\nimport { ClientsComponent} from './clients/clients.component';\r\nimport { ClientsFormComponent } from './forms/clients-form/clients-form.component';\r\nimport { ProductFormComponent } from './forms/product-form/product-form.component';\r\nimport { AdminSellersComponent } from './admin/admin-sellers/admin-sellers.component';\r\nimport { SellersFormComponent } from './forms/sellers-form/sellers-form.component';\r\nimport { StockComponent } from './stock/stock.component';\r\nimport { AdminAuthGuard } from './services/admin-auth-guard.service';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\nimport { BuysComponent } from './buys/buys.component';\r\nimport { AdminProdsComponent } from './admin-prods/admin-prods.component';\r\nimport { PaymentsComponent } from './payments/payments.component';\r\nimport { PaymentComponent } from './payment/payment.component';\r\nimport { CreditNoteComponent } from './credit-note/credit-note.component';\r\nimport { CommissionsDashComponent } from './commissions/commissionsDash.component';\r\nimport { CommissionsComponent } from './commissions/commissions.component';\r\nimport { PruebaComponent } from './pruebas/prueba.component';\r\nimport { EditProductPricesComponent } from './edit-product-prices/edit-product-prices.component';\r\n\r\nconst routes: Routes = [\r\n  //{ path: \"\", redirectTo: \"home\", pathMatch: \"full\" },\r\n\r\n  { path: \"\", component: LogCheckComponent },\r\n  { path: \"dashboard\", component: DashboardComponent },\r\n  { path: \"payments/creditNote\", component: CreditNoteComponent },\r\n  { path: \"payments/payment\", component: PaymentComponent },\r\n  { path: \"payments/payments/:id\", component: PaymentComponent, canActivate: [AuthGuard, AdminAuthGuard] },\r\n  { path: \"payments/payments\", component: PaymentsComponent },\r\n  { path: \"client/client\", component: ClientsComponent },\r\n  { path: \"pruebas/prueba\", component: PruebaComponent },\r\n  { path: \"stock/stock\", component: StockComponent},\r\n  { path: \"buys\", component: BuysComponent, canActivate: [AuthGuard, AdminAuthGuard] },\r\n  { path: \"editProductPrices\", component: EditProductPricesComponent, canActivate: [AuthGuard, AdminAuthGuard] },\r\n\r\n  { path: \"admin/clients/new\", component: ClientsFormComponent, canActivate: [AuthGuard, AdminAuthGuard] },\r\n  { path: \"admin/clients/:id\", component: ClientsFormComponent, canActivate: [AuthGuard, AdminAuthGuard] },\r\n  { path: \"admin/clients\", component: AdminClientsComponent },\r\n\r\n  { path: \"admin/prods/new\", component: ProductFormComponent, canActivate: [AuthGuard, AdminAuthGuard] },\r\n  { path: \"admin/prods/:id\", component: ProductFormComponent, canActivate: [AuthGuard, AdminAuthGuard] },\r\n  { path: \"admin/prods\", component: AdminProdsComponent, canActivate: [AuthGuard, AdminAuthGuard] },\r\n\r\n  { path: \"admin/sellers/new\", component: SellersFormComponent, canActivate: [AuthGuard, AdminAuthGuard] },\r\n  { path: \"admin/sellers/:id\", component: SellersFormComponent, canActivate: [AuthGuard, AdminAuthGuard] },\r\n  { path: \"admin/sellers\", component: AdminSellersComponent, canActivate: [AuthGuard, AdminAuthGuard] },\r\n  { path: \"replaces/replaces\", component: ReplacesComponent, canActivate: [AuthGuard, AdminAuthGuard]},\r\n  { path: \"commissions/commissionsDash\", component: CommissionsDashComponent},\r\n  { path: \"commissions/commissions\", component: CommissionsComponent},\r\n  { path: 'orders/order', loadChildren: () => import('./modules/order-lazy/order.module').then(m => m.OrderModule)},\r\n  { path: 'orders/orders', loadChildren: () => import('./modules/orders-lazy/orders.module').then(m => m.OrdersModule)},\r\n  { path: 'client/clients', loadChildren: () => import('./modules/clients-lazy/clients-lazy.module').then(m => m.ClientsLazyModule) },\r\n  { path: 'stock/buy', loadChildren: () => import('./modules/buy-lazy/buy-lazy.module').then(m => m.BuyLazyModule) }\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, { scrollPositionRestoration: 'enabled' })],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n\r\n\r\n","import { Router } from '@angular/router';\r\nimport { Component, HostListener, OnDestroy, OnInit } from '@angular/core';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { AuthService } from './services/auth.service';\r\nimport { UserService } from './services/user.service';\r\nimport { isMobile } from './globals';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit, OnDestroy{\r\n  user: any\r\n  mediaSub: Subscription;\r\n  itemValue = '';\r\n  items: Observable<any>;\r\n  subscription: Subscription\r\n  loading = true;\r\n  isMobile = isMobile;\r\n  //MOBILE_SIZE: number = 1000;\r\n\r\n  constructor(private auth: AuthService, private userService: UserService,\r\n     private router: Router) {\r\n      //this.isMobile = window.innerWidth <= this.MOBILE_SIZE;\r\n      this.subscription = auth.user$.subscribe(user => {\r\n        if (!user) return;\r\n        this.user = user;\r\n        this.userService.save(user);\r\n\r\n        let returnUrl = localStorage.getItem('returnUrl');\r\n        if (!returnUrl) return;\r\n\r\n        localStorage.removeItem('returnUrl');\r\n        router.navigateByUrl(returnUrl);\r\n      });\r\n      this.loading = false\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  // @HostListener('window:resize', ['$event'])\r\n  // onResize(event: any) {\r\n  //   this.isMobile = window.innerWidth <= this.MOBILE_SIZE;\r\n  // }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription?.unsubscribe();\r\n  }\r\n}\r\n","<div *ngIf=\"loading\" class=\"SCContainer mt-5 ms-5 spinner-border text-primary\" role=\"status\">\r\n  <span class=\"visually-hidden\"></span>\r\n</div>\r\n<mat-navbar *ngIf=\"!loading && user\" id=\"over-router\"></mat-navbar>\r\n<app-menu *ngIf=\"!loading && isMobile\"></app-menu>\r\n<div class=\"container-fluid\" *ngIf=\"!isMobile\">\r\n  <router-outlet></router-outlet>\r\n</div>\r\n\r\n\r\n","\r\nimport { MatNavbarComponent } from './mat-navbar/mat-navbar.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { AppComponent } from './app.component';\r\nimport { MaterialModule } from './Material/Material.module';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { OrderComponent } from './orders/order.component';\r\nimport { AdminClientsComponent } from './admin/admin-clients/admin-clients.component';\r\nimport { environment } from '../environments/environment';\r\n// import { environment } from '../environments/environment.test';\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { AngularFireAuthModule } from '@angular/fire/auth';\r\nimport { AngularFireDatabaseModule } from '@angular/fire/database';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CustomFormsModule } from 'ng2-validation';\r\nimport { FlexLayoutModule  } from '@angular/flex-layout';\r\n\r\nimport { AuthService } from './services/auth.service';\r\nimport { AuthGuard } from './services/auth-guard.service';\r\nimport { UserService } from './services/user.service';\r\nimport { ProductService } from './services/product.service';\r\nimport { ClientsFormComponent } from './forms/clients-form/clients-form.component';\r\nimport { AdminSellersComponent } from './admin/admin-sellers/admin-sellers.component';\r\nimport { SellersFormComponent } from './forms/sellers-form/sellers-form.component';\r\nimport { ProductFormComponent } from './forms/product-form/product-form.component';\r\nimport { ReactiveFormsModule} from '@angular/forms';\r\nimport { StockComponent } from './stock/stock.component';\r\nimport { BuyComponent } from './buy/buy.component';\r\nimport { AdminAuthGuard } from './services/admin-auth-guard.service';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\nimport { DatePipe } from '@angular/common';\r\nimport { BuysComponent } from './buys/buys.component';\r\nimport { PieChartComponent } from './pieChart/pieChart.component';\r\nimport { ChartsModule } from 'ng2-charts';\r\nimport { AdminProdsComponent } from './admin-prods/admin-prods.component';\r\nimport { MAT_RADIO_DEFAULT_OPTIONS } from '@angular/material/radio';\r\nimport { LogCheckComponent } from './log-check/log-check.component';\r\nimport { PaymentsComponent } from './payments/payments.component';\r\nimport { PaymentComponent } from './payment/payment.component';\r\nimport { CreditNoteComponent } from './credit-note/credit-note.component';\r\nimport { CommissionsDashComponent } from './commissions/commissionsDash.component';\r\nimport { CommissionsComponent } from './commissions/commissions.component';\r\nimport { ReplacesComponent } from './replaces/replaces.component';\r\nimport { PruebaComponent } from './pruebas/prueba.component';\r\nimport { EditProductPricesComponent } from './edit-product-prices/edit-product-prices.component';\r\nimport { UtilityService } from './services/utility.service';\r\nimport { MenuComponent } from './menu/menu.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    MatNavbarComponent,\r\n    AdminClientsComponent,\r\n    ProductFormComponent,\r\n    ClientsFormComponent,\r\n    AdminSellersComponent,\r\n    SellersFormComponent,\r\n    StockComponent,\r\n    DashboardComponent,\r\n    BuysComponent,\r\n    PieChartComponent,\r\n    AdminProdsComponent,\r\n    LogCheckComponent,\r\n    PaymentsComponent,\r\n    PaymentComponent,\r\n    CreditNoteComponent,\r\n    CommissionsDashComponent,\r\n    CommissionsComponent,\r\n    ReplacesComponent,\r\n    PruebaComponent,\r\n    EditProductPricesComponent,\r\n    PaymentsComponent,\r\n    MenuComponent\r\n  ],\r\n  imports: [\r\n    BrowserAnimationsModule,\r\n    BrowserModule,\r\n    FormsModule,\r\n    CustomFormsModule,\r\n    AppRoutingModule,\r\n    MaterialModule,\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    AngularFireAuthModule,\r\n    AngularFireDatabaseModule,\r\n    FlexLayoutModule,\r\n    ReactiveFormsModule,\r\n    ChartsModule\r\n  ],\r\n  providers: [AuthGuard, AdminAuthGuard, ProductService, AuthService, UtilityService,\r\n    UserService, DatePipe, PieChartComponent, {\r\n      provide: MAT_RADIO_DEFAULT_OPTIONS,\r\n      useValue: { color: 'primary' },\r\n  }],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { DatePipe } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { DateAdapter } from '@angular/material/core';\r\nimport { Sort } from '@angular/material/sort';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport jsPDF from 'jspdf';\r\nimport { Subscription } from 'rxjs';\r\nimport { AppUser } from '../models/app-user';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { ProductService } from '../services/product.service';\r\nimport { StockService } from '../services/stock.service';\r\n\r\n@Component({\r\n  selector: 'app-buys',\r\n  templateUrl: './buys.component.html',\r\n  styleUrls: ['./buys.component.scss']\r\n})\r\nexport class BuysComponent implements OnInit {\r\n  loading: boolean = true;\r\n  sortedData: any;\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n  range = new FormGroup({\r\n    start: new FormControl(),\r\n    end: new FormControl()\r\n  });\r\n\r\n  buys: any;\r\n  filteredBuys: any;\r\n  datefilteredBuys: any;\r\n  dateRangefilteredBuys: any;\r\n  appUser: AppUser;\r\n  date: any;\r\n  dateValue: string;\r\n  clientValue: string;\r\n\r\n  constructor(\r\n    private productService: ProductService,\r\n    private route: ActivatedRoute,\r\n    private auth: AuthService, public datepipe: DatePipe,\r\n    public stockService: StockService, private dateAdapter: DateAdapter<Date>) {\r\n\r\n      this.dateAdapter.setLocale('en-GB'); //dd/MM/yyyy\r\n    }\r\n\r\n    ngOnInit(){\r\n      this.loading = true;\r\n      //this.filter(\"\");\r\n      this.subscription = this.stockService.getBuys().subscribe(buys => {\r\n        this.subscription2 = this.auth.appUser$.subscribe(appUser => {\r\n          this.appUser = appUser;\r\n          //this.buys =  buys;\r\n          this.buys = this.dateRangefilteredBuys = this.datefilteredBuys = this.filteredBuys = buys;\r\n          this.loading = false;\r\n        });\r\n      });\r\n    }\r\n\r\n\r\n    filterByDate(query: string) {\r\n      if (query != \"\") {\r\n        this.filteredBuys = (query) ?\r\n        this.filteredBuys.filter((b: { payload: { val: () => { (): any; new(): any; date: string | number | Date; }; }; }) => this.datepipe.transform(b.payload.val().date, 'dd/MM/yyyy HH:mm')?.includes(query)):\r\n        this.filteredBuys;\r\n      }\r\n      else this.filteredBuys = this.buys;\r\n    }\r\n\r\n    sortData(sort: Sort) {\r\n      const data = this.filteredBuys;\r\n      if (!sort.active || sort.direction === '') {\r\n        this.sortedData = data;\r\n        return;\r\n      }\r\n\r\n      this.sortedData = data.sort((a: any, b: any) => {\r\n        const isAsc = sort.direction === 'asc';\r\n        switch (sort.active) {\r\n          //case 'nroOrder': return this.compare(a.i, b.i, isAsc);\r\n          case 'cliente': return this.compare(a.payload.val().clientFantasyName, b.payload.val().clientFantasyName, isAsc);\r\n          case 'vendedor': return this.compare(a.payload.val().sellerName, b.payload.val().sellerName, isAsc);\r\n          case 'date': return this.compare(a.payload.val().date, b.payload.val().date, isAsc);\r\n          default: return 0;\r\n        }\r\n      });\r\n    }\r\n\r\n    removeBuy(buy: any){\r\n        this.stockService.removeBuy(buy);\r\n    }\r\n\r\n    getTitle(item: any) {\r\n      return item.title;\r\n    }\r\n\r\n\r\n    compare(a: number | string, b: number | string, isAsc: boolean) {\r\n      return (a < b ? -1 : 1) * (isAsc ? 1 : -1);\r\n    }\r\n\r\n    getTotal() {\r\n      let total = 0;\r\n      if (this.filteredBuys) {\r\n        this.filteredBuys.forEach((buy: any) => {\r\n          total += this.stockService.getTotalCost(buy);\r\n        });\r\n      }\r\n      return Math.round(total * 10) / 10;;\r\n    }\r\n\r\n    searchDateRange(range: any) {\r\n      if (range.start) {\r\n        this.filteredBuys = (range) ?\r\n        this.filteredBuys.filter((b: { payload: { val: () => { (): any; new(): any; date: number; }; }; }) => b.payload.val().date > Date.parse(range.start._d) && b.payload.val().date < Date.parse(range.end._d)):\r\n        this.filteredBuys;\r\n      }\r\n      else this.filteredBuys = this.buys;\r\n\r\n\r\n    }\r\n    clearRange() {\r\n      this.range.setValue({\r\n        start: null,\r\n        end: null\r\n      });\r\n\r\n      this.dateValue = \"\";\r\n      this.filteredBuys = this.buys;\r\n    }\r\n\r\n    exportAsPDF(buy: any)  {\r\n\r\n      var doc = new jsPDF();\r\n      doc.text('Cantidad', 10, 20);\r\n      doc.text('Producto', 40, 20);\r\n      doc.text('Importe/uni', 140, 20);\r\n      doc.text('Importe', 180, 20);\r\n\r\n      let cont = 0;\r\n      for (let i=0;i<buy.payload.val().buy.products.length;i++) {\r\n        if (buy.payload.val().buy.products[i].quantity != 0) {\r\n          let total = buy.payload.val().buy.products[i].price * buy.payload.val().product[i].quantity\r\n          doc.text(buy.payload.val().product[i].quantity.toString(), 10, 30 + 10*cont);\r\n          doc.text(buy.payload.val().product[i].product.title, 40, 30 + 10*cont);\r\n          doc.text(buy.payload.val().product[i].price.toString(), 140, 30 + 10*cont);\r\n          doc.text(total.toString(), 180, 30 + 10*cont);\r\n          cont +=1;\r\n        }\r\n      }\r\n\r\n      // Save the PDF\r\n      doc.save('buy.pdf');\r\n    }\r\n\r\n    ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n  }\r\n\r\n}\r\n","<div *ngIf=\"loading\" class=\"SCContainer ml-5 ms-5 spinner-border text-primary\" role=\"status\">\r\n  <span class=\"visually-hidden\"></span>\r\n</div>\r\n<div class=\"BsContainer\" *ngIf=\"appUser\">\r\n  <div>\r\n    <a mat-raised-button color=\"accent\" routerLink=\"/stock/buy\">Nueva Compra</a>\r\n  </div>\r\n\r\n  <div>\r\n    <table><tr>\r\n      <h2 style=\"display: inline;\">Compras&nbsp;&nbsp;</h2>\r\n      <td>\r\n        <mat-icon matSuffix>search</mat-icon>\r\n      </td>\r\n      <td>\r\n        <input [(ngModel)]=\"dateValue\" matInput #Datequery (keyup)=\"filterByDate(Datequery.value)\" type=\"text\" placeholder=\"   fecha...\">\r\n      </td>\r\n      <td>\r\n        <form #f=\"ngForm\" (ngSubmit)=\"searchDateRange(range.value)\">\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>Ingrese un rango de fechas</mat-label>\r\n            <mat-date-range-input [formGroup]=\"range\" [rangePicker]=\"picker\">\r\n              <input matStartDate formControlName=\"start\" placeholder=\"fecha inicio\">\r\n              <input matEndDate formControlName=\"end\" placeholder=\"fecha finalización\">\r\n\r\n            </mat-date-range-input>\r\n            <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n            <mat-date-range-picker #picker></mat-date-range-picker>\r\n\r\n            <mat-error *ngIf=\"range.controls.start.hasError('matStartDateInvalid')\">Invalid start date</mat-error>\r\n            <mat-error *ngIf=\"range.controls.end.hasError('matEndDateInvalid')\">Invalid end date</mat-error>\r\n          </mat-form-field>\r\n\r\n          <button mat-raised-button style=\"margin:5px;\" type=\"submit\" color=\"primary\" >buscar por rango</button>\r\n          <button #query mat-raised-button color=\"accent\" (click)=\"clearRange()\">borrar búsqueda</button>\r\n        </form>\r\n      </td>\r\n    </tr></table>\r\n  </div>\r\n\r\n\r\n\r\n  <table matSort (matSortChange)=\"sortData($event)\">\r\n    <tr>\r\n\r\n      <th mat-sort-header=\"date\">Fecha</th>\r\n      <th mat-sort-header=\"import\">Importe</th>\r\n      <th mat-sort-header=\"detail\">Detalle</th>\r\n      <th mat-sort-header=\"delete\">Eliminar</th>\r\n\r\n    </tr>\r\n\r\n\r\n      <tr *ngFor=\"let b of filteredBuys; let i = index\" >\r\n\r\n        <td *ngIf=\"b.payload.val().buyItemsCount !=0\">{{b.payload.val().date | date:\"dd/MM/yyyy HH:mm\"}}&nbsp;&nbsp;&nbsp;&nbsp;</td>\r\n        <td *ngIf=\"b.payload.val().buyItemsCount !=0\">${{this.stockService.getTotalCost(b) | number:'1.1-1'}}</td>\r\n\r\n         <mat-accordion *ngIf=\"b.payload.val().buyItemCount !=0\">\r\n            <mat-expansion-panel hideToggle>\r\n              <mat-expansion-panel-header>\r\n                <mat-panel-title>\r\n                  Detalle\r\n                </mat-panel-title>\r\n              </mat-expansion-panel-header>\r\n              <tr>\r\n                <th mat-sort-header=\"prodQuantity;{{i}}\">Cantidad</th>\r\n                <th mat-sort-header=\"prodTitle;{{i}}\">Producto</th>\r\n                <th mat-sort-header=\"itemPrice;{{i}}\">Precio unitario</th>\r\n                <th mat-sort-header=\"subTotalPrice;{{i}}\">Subtotal</th>\r\n\r\n              </tr>\r\n              <tr *ngFor=\"let item of b.payload.val().buy; let i = index\">\r\n                <td *ngIf=\"item.quantity !=0\">{{item.quantity}}&nbsp;&nbsp;</td>\r\n                <td *ngIf=\"item.quantity !=0\">{{item.title}}&nbsp;&nbsp;&nbsp;&nbsp;</td>\r\n                <td *ngIf=\"item.quantity !=0\">${{item.price | number:'1.1-1'}}</td>\r\n                <td *ngIf=\"item.quantity !=0\">${{item.price * item.quantity | number:'1.1-1'}}</td>\r\n              </tr>\r\n            </mat-expansion-panel>\r\n          </mat-accordion>\r\n        <td *ngIf =\"appUser.isAdmin\"><button mat-icon-button (click)=\"removeBuy(b)\" color=\"accent\" ><mat-icon>delete</mat-icon></button></td>\r\n    </tr>\r\n\r\n    <tr>\r\n      <th mat-sort-header=\"total\">TOTAL</th>\r\n      <th mat-sort-header=\"showTotal\">${{getTotal()}}</th>\r\n    </tr>\r\n\r\n  </table>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n","import { PrintService } from './../services/print.service';\r\nimport { PaymentsComponent } from './../payments/payments.component';\r\nimport { Component, EventEmitter, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { Sort } from '@angular/material/sort';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { AppUser } from '../models/app-user';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { OrdersService } from '../services/orders.service';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { UtilityService } from '../services/utility.service';\r\nimport {TOLERATED_DAYS} from '../constants'\r\n\r\n@Component({\r\n  selector: 'clients',\r\n  templateUrl: './clients.component.html',\r\n  styleUrls: ['./clients.component.scss']\r\n})\r\nexport class ClientsComponent implements OnInit {\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n\r\n  TOLERATED_DAYS = TOLERATED_DAYS;\r\n  appUser: AppUser;\r\n  clients$: Observable<any>;\r\n  clients: any;\r\n  filteredClients: any;\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n  sortedData: any[];\r\n  includedClients: any[] = [];\r\n\r\n  clientValue: string;\r\n  sellerValue: string;\r\n  currentItemsToShow: any[];\r\n  query: {client: string, seller: string} = {client: \"\", seller: \"\"}\r\n\r\n  constructor(private auth: AuthService, public printService: PrintService,\r\n    public ordersService: OrdersService, public utilityService: UtilityService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.filter(\"\");\r\n    this.subscription = this.auth.appUser$.subscribe(appUser => {\r\n\r\n      this.appUser = appUser;\r\n      this.subscription2 = this.ordersService.getAllClients().subscribe(clients => {\r\n        this.clients = clients;\r\n        this.includedClients = [];\r\n        this.currentItemsToShow = [];\r\n\r\n        this.clients.forEach((client: any)=>{\r\n          let isUserClient = client.payload.val().designatedSeller == this.appUser?.name;\r\n          if (this.appUser && (this.appUser.isAdmin || this.appUser.isSalesManager || isUserClient)) {\r\n            this.includedClients.push(client);\r\n          }\r\n        });\r\n\r\n        this.filteredClients = this.includedClients;\r\n        this.currentItemsToShow = this.filteredClients;\r\n\r\n        this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.filteredClients.length});\r\n        if (this.paginator) this.paginator.pageIndex = 0;\r\n\r\n      });\r\n    });\r\n  }\r\n\r\n  filter(query: string) {\r\n    this.query.client = query;\r\n    this.filteredClients = [];\r\n    this.includedClients.forEach((client) =>{\r\n      if (client.payload.val().fantasyName.toLowerCase().includes(query.toLowerCase())\r\n      && client.payload.val().designatedSeller.toLowerCase().includes(this.query.seller.toLowerCase()))\r\n      this.filteredClients.push(client);\r\n    });\r\n    this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.filteredClients.length});\r\n    if (this.paginator) this.paginator.pageIndex = 0;\r\n  }\r\n\r\n  filterBySeller(query: string) {\r\n    this.query.seller = query;\r\n    this.filteredClients = [];\r\n    this.includedClients.forEach((client)=> {\r\n      if (client.payload.val().fantasyName.toLowerCase().includes(this.query.client.toLowerCase())\r\n      && client.payload.val().designatedSeller.toLowerCase().includes(query.toLowerCase())) {\r\n        this.filteredClients.push(client)\r\n      }\r\n    });\r\n\r\n    this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.filteredClients.length});\r\n    if (this.paginator) this.paginator.pageIndex = 0;\r\n  }\r\n\r\n  sortData(sort: Sort) {\r\n    const data = this.filteredClients;\r\n    if (!sort.active || sort.direction === '') {\r\n      this.sortedData = data;\r\n      return;\r\n    }\r\n\r\n    this.sortedData = data.sort((a: any, b: any) => {\r\n      const isAsc = sort.direction === 'asc';\r\n      switch (sort.active) {\r\n        case 'cliente': return this.compare(a.payload.val().fantasyName, b.payload.val().fantasyName, isAsc);\r\n        default: return 0;\r\n      }\r\n    });\r\n  }\r\n  compare(a: number | string, b: number | string, isAsc: boolean) {\r\n    return (a < b ? -1 : 1) * (isAsc ? 1 : -1);\r\n  }\r\n\r\n  searchPayments(fantasyName: string) {\r\n    this.ordersService.fantasyName = fantasyName;\r\n  }\r\n\r\n  searchOrders(fantasyName: string) {\r\n    this.ordersService.fantasyName = fantasyName;\r\n  }\r\n\r\n  onPageChange($event: any) {\r\n    this.currentItemsToShow = this.filteredClients.slice(\r\n      $event.pageIndex * $event.pageSize,\r\n      $event.pageIndex * $event.pageSize + $event.pageSize\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"SCContainer ms-1\" *ngIf=\"appUser\">\r\n  <div class=\"row\">\r\n    <div class=\"col col-md-3 ms-2 my-2\"><h1>CLIENTES</h1></div>\r\n    <div class=\"col col-md-3 ms-2 my-2\"><button mat-icon-button (click)=\"this.printService.exportClients(this.clients)\" color=\"primary\" >Descargar Listado<mat-icon>picture_as_pdf</mat-icon></button></div>\r\n  </div>\r\n\r\n  <hr>\r\n  <h3>*IMPORTANTE VENDEDORES: La deuda que figura es el remanente del monto de lo/s pedido/s con mas de {{TOLERATED_DAYS}} días y que no quedaron pagos en su totalidad. Por ejemplo si el pedido era de 1000 y se cobró 300, la deuda va a ser de 700.</h3>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col col-md-3 ms-2 my-2\">\r\n      <div class=\"input-group\">\r\n        <div>\r\n          <mat-icon matSuffix>search</mat-icon>\r\n        </div>\r\n        <div><input class=\"border-end-0 border rounded-pill\" [(ngModel)]=\"clientValue\" #query (ngModelChange)=\"filter(query.value)\" (keyup)=\"filter(query.value)\" type=\"text\" placeholder=\"   Nombre de Fantasía...\"></div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col col-md-3 ms-2 my-2\">\r\n      <div class=\"input-group\">\r\n        <div>\r\n          <mat-icon matSuffix>search</mat-icon>\r\n        </div>\r\n        <div><input class=\"border-end-0 border rounded-pill\" [(ngModel)]=\"sellerValue\" #sellerquery (ngModelChange)=\"filterBySeller(sellerquery.value)\" (keyup)=\"filterBySeller(sellerquery.value)\" type=\"text\" placeholder=\"   Vendedor...\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <table class=\"table table-striped table-sm mat-elevation-z8\" matSort (matSortChange)=\"sortData($event)\">\r\n    <thead>\r\n      <tr>\r\n        <th mat-sort-header=\"businessName\">Razón social</th>\r\n        <th mat-sort-header=\"fantasyName\">Nombre de Fantasía</th>\r\n        <th mat-sort-header=\"clientCategory\">Categoría</th>\r\n        <th mat-sort-header=\"seller\">Vendedor</th>\r\n        <th mat-sort-header=\"address\">Dirección</th>\r\n        <th mat-sort-header=\"phone\">Teléfono</th>\r\n        <th mat-sort-header=\"debt\">Deuda {{TOLERATED_DAYS}}d</th>\r\n        <th mat-sort-header=\"presentDebt\">Saldo hoy</th>\r\n        <th mat-sort-header=\"resume\">Estado de cuenta</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let client of currentItemsToShow; let i = index\">\r\n        <td>{{client.payload.val().businessName}}&nbsp;&nbsp;</td>\r\n        <td>{{client.payload.val().fantasyName}}&nbsp;&nbsp;</td>\r\n        <td>{{client.payload.val().clientCategory}}&nbsp;&nbsp;</td>\r\n        <td>{{client.payload.val().designatedSeller}}</td>\r\n        <td>{{client.payload.val().address}}&nbsp;&nbsp;</td>\r\n        <td>{{client.payload.val().phone}}&nbsp;&nbsp;</td>\r\n        <!-- <td>{{this.ordersService.calcDebtGreatherThan30(client.payload.val().fantasyName) | number:'1.1-1'}}</td> -->\r\n        <td>${{this.ordersService.getDebt(client.payload.val().fantasyName) | number:'1.1-1'}}</td>\r\n        <td>${{this.ordersService.calcDebt(client.payload.val().fantasyName) | number:'1.1-1'}}</td>\r\n        <td><button mat-icon-button (click)=\"this.printService.exportResume(client.payload.val())\" color=\"primary\" ><mat-icon>picture_as_pdf</mat-icon></button></td>\r\n        <td><a style=\"margin-left:10px;\" mat-icon-button routerLink=\"/payments/payments\" (click) =\"searchPayments(client.payload.val().fantasyName)\"><mat-icon>control_point</mat-icon></a><span>Ver cobros al cliente</span></td>\r\n        <td><a style=\"margin-left:10px;\" mat-icon-button routerLink=\"/orders/orders\" (click) =\"searchOrders(client.payload.val().fantasyName)\"><mat-icon>control_point</mat-icon></a><span style=\"margin-right:10px;\">Ver pedidos del cliente</span></td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <mat-paginator (page)=\"onPageChange($event)\" [length]=\"this.filteredClients.length\" [pageSize]=\"10\" [pageSizeOptions]=\"[10, 20, 30]\"></mat-paginator>\r\n</div>\r\n\r\n\r\n\r\n","<div class=\"SCContainer ml-3\" *ngIf=\"appUser && (appUser.isAdmin || appUser.isSalesManager)\">\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <div><h1 style=\"display: inline; margin:10px;\">COMISIONES HISTÓRICO</h1></div>\r\n    </div>\r\n    <div class=\"col\">\r\n      <button mat-raised-button  routerLink=\"/commissions/commissionsDash\" color=\"accent\" >Volver a comisiones</button>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n\r\n  <table *ngIf=\"this.commissionsByMonth\" class=\"table table-sm mat-elevation-z8\">\r\n    <thead>\r\n      <tr>\r\n        <th>Fecha</th>\r\n        <th *ngIf=\"!prodCatDetails\">Mín. Fact Minorista</th>\r\n        <th *ngIf=\"!prodCatDetails\">Com. Min.</th>\r\n        <th *ngIf=\"!prodCatDetails\">Com. May.</th>\r\n        <th *ngIf=\"!prodCatDetails\">Tasa Mensual</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let commissionByMonth of this.commissionsByMonth\">\r\n        <td>{{commissionByMonth.payload.val().month}}/{{commissionByMonth.payload.val().year}}</td>\r\n        <td *ngIf=\"!prodCatDetails\">{{commissionByMonth.payload.val().minRetailTotalSales}}</td>\r\n        <td *ngIf=\"!prodCatDetails\">{{commissionByMonth.payload.val().retailPercent}}</td>\r\n        <td *ngIf=\"!prodCatDetails\">{{commissionByMonth.payload.val().wholesalerPercent}}</td>\r\n        <td *ngIf=\"!prodCatDetails\">{{commissionByMonth.payload.val().monthlyRate}}</td>\r\n        <td>\r\n          <mat-accordion>\r\n            <mat-expansion-panel hideToggle (opened)=\"isExpanded = true\" (closed)=\"isExpanded = false\">\r\n              <mat-expansion-panel-header>\r\n                <mat-panel-title>\r\n                  <strong>Información vendedores</strong>\r\n                </mat-panel-title>\r\n              </mat-expansion-panel-header>\r\n              <button *ngIf=\"!prodCatDetails\" mat-raised-button (click)=\"this.prodCatDetails=true\" color=\"primary\" >Detalle</button>\r\n              <button *ngIf=\"prodCatDetails\" mat-raised-button (click)=\"this.prodCatDetails=false\" color=\"secondary\" >Cerrar</button>\r\n              <table class=\"table table-sm mat-elevation-z8\">\r\n                <tr>\r\n                  <th>Vendedor</th>\r\n                  <th *ngIf=\"!prodCatDetails\">Fact. Min.</th>\r\n                  <th *ngIf=\"!prodCatDetails\">Com. Min. ({{commissionByMonth.payload.val().retailPercent*100}}%)</th>\r\n                  <th *ngIf=\"!prodCatDetails\">Fact. May.</th>\r\n                  <th *ngIf=\"!prodCatDetails\">Com. May. ({{commissionByMonth.payload.val().wholesalerPercent*100}}%)</th>\r\n                  <th *ngIf=\"!prodCatDetails\">Total de Premios</th>\r\n                  <th *ngIf=\"!prodCatDetails\">Cobranza</th>\r\n                  <th *ngIf=\"!prodCatDetails\">Comisión final</th>\r\n                  <th *ngIf=\"!prodCatDetails\">Deuda en mora</th>\r\n                </tr>\r\n\r\n                <tr *ngFor=\"let sellersCommissionInfo of commissionByMonth.payload.val().sellersCommissionsInfo\">\r\n                  <td>{{sellersCommissionInfo.sellerName}}</td>\r\n                  <td *ngIf=\"!prodCatDetails\">{{sellersCommissionInfo.retailSalesPMonth}}</td>\r\n                  <td *ngIf=\"!prodCatDetails\">{{sellersCommissionInfo.retailCommission}}</td>\r\n                  <td *ngIf=\"!prodCatDetails\">{{sellersCommissionInfo.wholesalerSalesPMonth}}</td>\r\n                  <td *ngIf=\"!prodCatDetails\">{{sellersCommissionInfo.wholesalerCommission}}</td>\r\n                  <td *ngIf=\"!prodCatDetails\">{{sellersCommissionInfo.TotalRewards}}</td>\r\n                  <td *ngIf=\"!prodCatDetails\">{{sellersCommissionInfo.sellerPenalty}}</td>\r\n                  <td *ngIf=\"!prodCatDetails\">{{sellersCommissionInfo.totalIncome | number:'1.1-1'}}</td>\r\n                  <td *ngIf=\"!prodCatDetails\">{{sellersCommissionInfo.totalSellerDebtDelayed}}</td>\r\n\r\n                    <div *ngIf=\"prodCatDetails\" class=\"row\">\r\n                      <div class=\"col\" *ngFor=\"let prodCategoryReward of sellersCommissionInfo.prodCategoryRewards\">\r\n                        <table class=\"table table-sm mat-elevation-z8\">\r\n                          <thead>\r\n                            <th>Categoría</th>\r\n                            <th>Objetivo</th>\r\n                            <th>Ventas</th>\r\n                            <th>Premio</th>\r\n                          </thead>\r\n                          <tbody>\r\n                            <td>{{prodCategoryReward.prodCategory}}</td>\r\n                            <td>{{prodCategoryReward.categoryAim}}</td>\r\n                            <td>{{prodCategoryReward.prodCategorySales}}</td>\r\n                            <td [ngClass]=\"{\r\n                              'text-primary':prodCategoryReward.prodCategorySales >= prodCategoryReward.categoryAim,\r\n                              'font-weight-bold':prodCategoryReward.prodCategorySales >= prodCategoryReward.categoryAim\r\n                            }\">{{prodCategoryReward.categoryReward}}</td>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                </tr>\r\n              </table>\r\n            </mat-expansion-panel>\r\n          </mat-accordion>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { Subscription } from 'rxjs';\r\nimport { AppUser } from '../models/app-user';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { CommissionsService } from '../services/commissions.service';\r\nimport { OrdersService } from '../services/orders.service';\r\n\r\n@Component({\r\n  selector: 'app-commissions',\r\n  templateUrl: './commissions.component.html',\r\n  styleUrls: ['./commissions.component.scss']\r\n})\r\nexport class CommissionsComponent implements OnInit {\r\n\r\n  appUser: AppUser;\r\n  commissionsByMonth: any[];\r\n  isExpanded: boolean = false;\r\n  prodCatDetails: boolean = false;\r\n  subscription: Subscription;\r\n\r\n  constructor(public ordersService: OrdersService, private auth: AuthService,\r\n    private commissionsService: CommissionsService, private db: AngularFireDatabase ) { }\r\n\r\n  ngOnInit() {\r\n    this.auth.appUser$.subscribe(appUser => {\r\n      this.appUser = appUser;\r\n      this.subscription = this.commissionsService.getCommissionsByMonth().subscribe(commissionsByMonth => {\r\n        this.commissionsByMonth = commissionsByMonth;\r\n        this.clearCommissionsByMonth(this.commissionsByMonth);\r\n        this.subscription = this.commissionsService.getCommissionsByMonth().subscribe(commissionsByMonth => {\r\n          this.commissionsByMonth = commissionsByMonth;\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  clearCommissionsByMonth(commissionsByMonth: any[]) {\r\n    let lastMonth = commissionsByMonth[0].payload.val().month;\r\n    let lastYear = commissionsByMonth[0].payload.val().year;\r\n\r\n    for (let i=1; i<commissionsByMonth.length; i++) {\r\n      if (commissionsByMonth[i].payload.val().month == lastMonth\r\n        && commissionsByMonth[i].payload.val().year == lastYear) {\r\n          console.log('cleaning 1 repited');\r\n          this.db.object('/commissionsByMonth/' +  commissionsByMonth[i].key).remove();\r\n        }\r\n      else {\r\n        lastMonth = commissionsByMonth[i].payload.val().month;\r\n        lastYear = commissionsByMonth[i].payload.val().year;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n  }\r\n}\r\n","import { CommissionsService } from '../services/commissions.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { AppUser } from '../models/app-user';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { OrdersService } from '../services/orders.service';\r\nimport { Router} from '@angular/router';\r\nimport { CategoryService } from '../services/category.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\nimport { Product } from '../models/product';\r\n\r\n@Component({\r\n  selector: 'app-commissions',\r\n  templateUrl: './commissionsDash.component.html',\r\n  styleUrls: ['./commissionsDash.component.scss']\r\n})\r\nexport class CommissionsDashComponent implements OnInit {\r\n\r\n  rewards = [1500, 1000, 500]\r\n  retailPercent: any;\r\n  wholesalerPercent: any;\r\n  monthlyRate: any;\r\n  minRetailTotalSales: any;\r\n  rewardsArray:any;\r\n  rewardsGoalsArray: any\r\n  myGroup: any;\r\n  myRewardsGoalsGroup: any;\r\n\r\n  appUser: AppUser;\r\n  orders: any[];\r\n  monthOrders: any[] = [];\r\n  sellers: any[];\r\n  prodsCategories: any[];\r\n  commissions: any;\r\n  edit: boolean = false;\r\n  loading: boolean = true;\r\n  month: number;\r\n  year: number;\r\n  lastFullMonthOrders: any[];\r\n\r\n  subscription: Subscription;\r\n  subscription2: Subscription\r\n  subscription3: Subscription\r\n  subscription4: Subscription\r\n\r\n\r\n  constructor(public ordersService: OrdersService, private auth: AuthService, public router: Router,\r\n    public commissionsService: CommissionsService, public catService: CategoryService,\r\n    private formBuilder: FormBuilder) {\r\n    }\r\n\r\n  ngOnInit(){\r\n    let today = new Date();\r\n    this.subscription = this.catService.getAllProdsCategories().subscribe(prodsCategories => {\r\n      this.prodsCategories = prodsCategories;\r\n      this.subscription2 = this.commissionsService.getCommissions().subscribe(commissions => {\r\n        this.commissions = commissions;\r\n        if (this.commissions.length == 0) {\r\n          this.commissionsService.createCommissions();\r\n        }\r\n        // Forms groups  --------------------\r\n        let rewardsGoalsArray = [];\r\n        let rewardsArray = [];\r\n        for (let i=0;i<this.prodsCategories.length;i++) {\r\n          rewardsGoalsArray.push(new FormControl(this.commissions[0].payload.val().rewardsGoals[i])) //valor de inicializacion\r\n          rewardsArray.push(new FormControl(this.commissions[0].payload.val().rewards[i])) //valor de inicializacion\r\n        }\r\n        this.rewardsGoalsArray = new FormArray(rewardsGoalsArray);\r\n        this.rewardsArray = new FormArray(rewardsArray);\r\n        this.myGroup = new FormGroup({\r\n          retailPercent: new FormControl(this.commissions[0].payload.val().retailPercent),\r\n          wholesalerPercent: new FormControl(this.commissions[0].payload.val().wholesalerPercent),\r\n          monthlyRate: new FormControl(this.commissions[0].payload.val().monthlyRate),\r\n          minRetailTotalSales: new FormControl(this.commissions[0].payload.val().minRetailTotalSales),\r\n          rewardsGoals: this.rewardsGoalsArray,\r\n          rewards: this.rewardsArray\r\n        });\r\n\r\n        this.subscription3 = this.ordersService.getAllOrders().subscribe(orders => {\r\n          this.orders = this.ordersService.orders = orders;\r\n\r\n          //Me permite calcular y setear fecha de pago completo de pedidos de un vendedor!!!-------------------------\r\n          //this.calculateFullPaymentDates();\r\n\r\n          this.monthOrders = this.getThisMonthOrders();\r\n          // IMPORTANTE!!!! .month es el mes salvado, si guardé febrero vale 2\r\n          this.subscription4 = this.auth.appUser$.subscribe(appUser => {\r\n            this.appUser = appUser;\r\n            //manipulo USER\r\n            // appUser.name = 'Enrique Oyhamburu'\r\n            // appUser.isAdmin = false;\r\n            this.ordersService.getAllSellers().subscribe(sellers => {\r\n              this.sellers = sellers;\r\n              if (this.month != today.getMonth() ||\r\n              this.year != today.getFullYear()) {\r\n                if (this.commissions[0].payload.val().monthCommissionsSavedDate.month != (today.getMonth()))\r\n                //|| this.commissions[0].payload.val().monthCommissionsSavedDate.year != today.getFullYear()\r\n                {\r\n                  this.month = today.getMonth();\r\n                  this.year = today.getFullYear();\r\n                  this.lastFullMonthOrders = this.getLastFullMonthOrders();\r\n                  this.saveCommissionsByMonth();\r\n                  setTimeout(()=>{console.log('salvando comisiones')},1000)\r\n                }\r\n              }\r\n              this.getActiveSellers();\r\n              this.loading = false;\r\n            });\r\n          });\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  getThisMonthOrders() {\r\n    let today = new Date();\r\n    let filteredMonthOrders = this.ordersService.orders.filter(order => {\r\n      let date = new Date(order.payload.val().fullPaymentDate);\r\n      if (date.getMonth() == today.getMonth() && date.getFullYear() == today.getFullYear()){\r\n        return order\r\n      }\r\n    });\r\n\r\n    return filteredMonthOrders\r\n  }\r\n\r\n  getActiveSellers() {\r\n    let activeSellers = this.ordersService.sellers.filter(seller =>\r\n      this.isSellerActive(seller.payload.val().name)\r\n    )\r\n    this.sellers = activeSellers;\r\n  }\r\n\r\n  isSellerActive(name: String) {\r\n    for (let i=this.ordersService.orders.length - 1;i>0;i--) {\r\n      let fullPaymentDate = this.ordersService.orders[i].payload.val().fullPaymentDate;\r\n      let timeAfterOrderPayment = (Date.now() - fullPaymentDate)/(1000*3600*24);\r\n      const d = new Date(Date.now());\r\n      let day = d.getDate()\r\n      if(this.ordersService.orders[i].payload.val().seller == name && timeAfterOrderPayment <= day + 1) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  retailSalesPMonth(seller: string, orders: any[]) {\r\n    let amount = 0;\r\n    if (orders) {\r\n      for (let i=0;i<orders.length;i++) {\r\n        if (orders[i].payload.val().seller == seller\r\n        && this.ordersService.getClientCategory(orders[i].payload.val().fantasyName) != \"Distribuidor\") {\r\n          amount += parseFloat(orders[i].payload.val().amountWithIva)/(1 + (parseFloat(orders[i].payload.val().iva)/100));\r\n        }\r\n      }\r\n    }\r\n\r\n    if (amount) amount = Math.round(amount * 10) / 10;\r\n    return amount;\r\n  }\r\n\r\n  wholesalerSalesPMonth(seller: string, orders: any[]) {\r\n    let amount = 0;\r\n    for (let i=0;i<orders.length;i++) {\r\n      if (orders[i].payload.val().seller == seller\r\n      && this.ordersService.getClientCategory(orders[i].payload.val().fantasyName) == \"Distribuidor\") {\r\n        amount += parseFloat(orders[i].payload.val().amountWithIva)/(1 + (parseFloat(orders[i].payload.val().iva)/100));\r\n      }\r\n    }\r\n    if (amount) amount = Math.round(amount * 10) / 10;\r\n    return amount;\r\n  }\r\n\r\n  prodCategorySales(orders: any, category: string, seller: string) {\r\n    let sales = 0;\r\n    if (orders) {\r\n      for (let i=0;i<orders.length;i++) {\r\n        orders.forEach((order: any) => {\r\n          if (order.payload.val().seller == seller) {\r\n            let products = this.ordersService.getOrderDetail(order.payload.val().orderDetailKey).payload.val().products;\r\n            for (let j=0;j<products.length;j++) {\r\n              if (products[j].category == category)\r\n              sales += parseFloat(products[j].discountPrice)*products[j].quantity;\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n    if (sales) sales = Math.round(sales * 10) / 10;\r\n    return sales\r\n  }\r\n\r\n  retailCommission(retailPercent: number, retailSalesPMonth: number) {\r\n    if (retailSalesPMonth >= this.commissions[0].payload.val().minRetailTotalSales)\r\n    return Math.round((retailSalesPMonth - this.commissions[0].payload.val().minRetailTotalSales)*retailPercent * 10) / 10;\r\n    return 0;\r\n  }\r\n\r\n  wholesalerCommission(wholesalerPercent: number, wholesalerSalesPMonth: number, retailSalesPMonth: number) {\r\n    if (retailSalesPMonth >= this.commissions[0].payload.val().minRetailTotalSales)\r\n    return Math.round(wholesalerSalesPMonth*wholesalerPercent * 10) / 10;\r\n    return 0;\r\n  }\r\n\r\n  save(commissions: any) {\r\n    if (confirm('Está segur@ que quiere guardar/crear estos valores de comisiones?')) {\r\n      if (commissions) {\r\n        this.commissionsService.update(this.commissions, commissions);\r\n      }\r\n    }\r\n    this.edit = false;\r\n    //document.location.reload();\r\n  }\r\n\r\n  back() {\r\n    this.edit = false;\r\n  }\r\n\r\n  rewardCalc(indexx: number, prodCategory: string, seller: string, orders: any[]) {\r\n    let prodCategorySales = this.prodCategorySales(orders, prodCategory, seller);\r\n    if (prodCategorySales >= this.commissions[0].payload.val().rewardsGoals[indexx]\r\n    && this.retailSalesPMonth(seller, orders) >= this.commissions[0].payload.val().minRetailTotalSales)\r\n      return this.commissions[0].payload.val().rewards[indexx]\r\n    return 0;\r\n  }\r\n\r\n  saveCommissionsByMonth() {\r\n    let sellersCommissionsInfo = this.getSellersCommissionsInfo();\r\n    let date = new Date();\r\n    //let date = new Date('2023-01-01T03:24:00');\r\n    let month =  date.getMonth();\r\n    let year = date.getFullYear();\r\n    if (month == 0) {\r\n      month = 12;\r\n      year -= 1;\r\n    }\r\n    let monthCommissions = {\r\n      'month': month,\r\n      'year' : year,\r\n      \"minRetailTotalSales\": this.commissions[0].payload.val().minRetailTotalSales,\r\n      \"retailPercent\": this.commissions[0].payload.val().retailPercent,\r\n      \"wholesalerPercent\": this.commissions[0].payload.val().wholesalerPercent,\r\n      \"monthlyRate\": this.commissions[0].payload.val().monthlyRate,\r\n      //\"productsCategories\" : this.commissions[0].payload.val().productsCategories,\r\n      \"rewards\": this.commissions[0].payload.val().rewards,\r\n      \"rewardsGoals\" : this.commissions[0].payload.val().rewardsGoals,\r\n      'sellersCommissionsInfo' : sellersCommissionsInfo\r\n    }\r\n    this.commissionsService.saveCommissionsByMonth(monthCommissions, this.commissions);\r\n  }\r\n\r\n  getSellersCommissionsInfo() {\r\n    let sellersCommissionsInfo = [];\r\n    for (let i=0;i<this.ordersService.sellers.length;i++) {\r\n      let retailSalesPMonth = this.retailSalesPMonth(this.ordersService.sellers[i].payload.val().name, this.lastFullMonthOrders)\r\n      let retailCommission = this.retailCommission(this.commissions[0].payload.val().retailPercent, retailSalesPMonth);\r\n      let wholesalerSalesPMonth = this.wholesalerSalesPMonth(this.ordersService.sellers[i].payload.val().name, this.lastFullMonthOrders)\r\n      let wholesalerCommission = this.wholesalerCommission(this.commissions[0].payload.val().wholesalerPercent, wholesalerSalesPMonth, retailSalesPMonth);\r\n      let sellerPenalty = this.commissionsService.getSellerPenalty(this.commissions[0].payload.val().monthlyRate, this.sellers[i].payload.val().name, this.ordersService.orders);\r\n      let rewardsObject = this.getProdCategoryRewards(this.ordersService.sellers[i].payload.val().name)\r\n      let prodCategoryRewards = rewardsObject.prodCategoryRewards;\r\n      let totalRewards = rewardsObject.totalRewards\r\n      let totalIncome = retailCommission + wholesalerCommission + totalRewards - sellerPenalty;\r\n      if (this.hasSellerSalesInLastMonth(this.ordersService.sellers[i].payload.val().name)) {\r\n        sellersCommissionsInfo.push({\r\n          \"sellerName\": this.ordersService.sellers[i].payload.val().name,\r\n          \"retailSalesPMonth\": retailSalesPMonth,\r\n          \"retailCommission\": retailCommission,\r\n          \"wholesalerSalesPMonth\": wholesalerSalesPMonth,\r\n          \"wholesalerCommission\": wholesalerCommission,\r\n          \"prodCategoryRewards\": prodCategoryRewards,\r\n          \"TotalRewards\": totalRewards,\r\n          \"sellerPenalty\" : sellerPenalty,\r\n          \"totalIncome\" : totalIncome,\r\n          \"totalSellerDebtDelayed\": this.commissionsService.totalSellerDebtDelayed\r\n        });\r\n      }\r\n    }\r\n\r\n    return sellersCommissionsInfo\r\n  }\r\n\r\n  getLastFullMonthOrders() {\r\n    let lastFullMonthOrders = [];\r\n    let today = new Date();\r\n    let lastMonth = today.getMonth() - 1;\r\n    let lastMonthYear = today.getFullYear();\r\n    if (today.getMonth() == 0) {\r\n      lastMonth = 11;\r\n      lastMonthYear -= 1;\r\n    }\r\n    for (let i=0;i<this.ordersService.orders.length;i++) {\r\n      // var date = new Date(this.ordersService.orders[i].payload.val().date); cambio por ordenes completadas el mes anterior\r\n      var date = new Date(this.ordersService.orders[i].payload.val().fullPaymentDate);\r\n      //miro el mes anterior, today.getMonth() me da el mes anterior porque me da el mes -1\r\n      // if (date.getMonth() == today.getMonth() -1 && date.getFullYear() == today.getFullYear()\r\n      // && parseFloat(this.ordersService.orders[i].payload.val().debt) < 10 ){ no hace flata chequear la deuda por lo anterior\r\n      if (date.getMonth() == lastMonth && date.getFullYear() == lastMonthYear) {\r\n        lastFullMonthOrders.push(this.ordersService.orders[i]);\r\n      }\r\n    }\r\n    return lastFullMonthOrders\r\n  }\r\n\r\n  hasSellerSalesInLastMonth(seller: string) {\r\n    let orders = this.lastFullMonthOrders;\r\n    for (let i=0;i<orders.length;i++) {\r\n      if (orders[i].payload.val().seller == seller) return true\r\n    }\r\n    return false\r\n  }\r\n  getProdCategoryRewards(seller: string) {\r\n    let prodCategoryRewards = [];\r\n    let totalRewards = 0;\r\n    for (let j=0;j<this.prodsCategories.length;j++) {\r\n      totalRewards += parseFloat(this.rewardCalc(j, this.prodsCategories[j].payload.val().name, seller, this.lastFullMonthOrders));\r\n      let categoryReward = 0;\r\n      if (this.retailSalesPMonth(seller, this.lastFullMonthOrders) > this.commissions[0].payload.val().minRetailTotalSales\r\n      && this.commissions[0].payload.val().rewards[j]) {\r\n        categoryReward = this.commissions[0].payload.val().rewards[j];\r\n      };\r\n\r\n      let categoryAim = \"0\";\r\n      this.commissions[0].payload.val().rewardsGoals[j] ? categoryAim = this.commissions[0].payload.val().rewardsGoals[j] : \"0\"\r\n      prodCategoryRewards.push({\r\n        'prodCategory': this.prodsCategories[j].payload.val().name,\r\n        'prodCategorySales': this.prodCategorySales(this.lastFullMonthOrders, this.prodsCategories[j].payload.val().name, seller),\r\n        'categoryAim': parseFloat(categoryAim),\r\n        'categoryReward': categoryReward\r\n      })\r\n    }\r\n    let result = {\r\n      'prodCategoryRewards': prodCategoryRewards,\r\n      'totalRewards': totalRewards\r\n    }\r\n    return result\r\n  }\r\n\r\n  //solo para setear fechas de pedidos con pago completo para un vendedor\r\n  calculateFullPaymentDates() {\r\n    this.ordersService.calculateFullPaymentDates(\"Enrique Oyhamburu\")\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n    this.subscription3.unsubscribe();\r\n    this.subscription4.unsubscribe();\r\n   }\r\n}\r\n\r\n\r\n","<div *ngIf=\"loading || !this.ordersService.clients\" class=\"SCContainer ml-5 ms-5 spinner-border text-primary\" role=\"status\">\r\n  <span class=\"visually-hidden\"></span>\r\n</div>\r\n\r\n<div *ngIf=\"this.commissions && this.ordersService.clients\" class=\"SCContainer ml-3\">\r\n  <h1>COMISIONES</h1>\r\n  <hr>\r\n  <!-- <div *ngIf=\"!loading && appUser && appUser.isAdmin\"></div> -->\r\n\r\n  <div *ngIf=\"edit && commissions\">\r\n    <form (ngSubmit)=\"save(myGroup.value)\" [formGroup]=\"myGroup\">\r\n      <div>\r\n        <input [formControlName]=\"'retailPercent'\" required>\r\n        <label class=\"m-1\">% Minorista</label>\r\n      </div>\r\n      <div>\r\n        <input [formControlName]=\"'wholesalerPercent'\" required>\r\n        <label class=\"m-1\">% Mayorista</label>\r\n      </div>\r\n      <div>\r\n        <input [formControlName]=\"'monthlyRate'\" required>\r\n        <label class=\"m-1\">Tasa Mensual</label>\r\n      </div>\r\n      <div>\r\n        <input [formControlName]=\"'minRetailTotalSales'\" required>\r\n        <label class=\"m-1\">Mínima Facturación Total Minorista</label>\r\n      </div>\r\n\r\n      <div formArrayName=\"rewardsGoals\">\r\n        <div *ngFor=\"let rewardGoal of rewardsGoalsArray.controls; index as i\">\r\n          <input [formControlName]=\"i\" required>\r\n          <label class=\"m-1\" for=\"\">Meta en {{this.prodsCategories[i].payload.val().name}}</label>\r\n        </div>\r\n      </div>\r\n      <div formArrayName=\"rewards\">\r\n        <div *ngFor=\"let reward of rewardsArray.controls; index as i\">\r\n          <input [formControlName]=\"i\" required>\r\n          <label class=\"m-1\" for=\"\">Premio en {{this.prodsCategories[i].payload.val().name}}</label>\r\n        </div>\r\n      </div>\r\n      <button class=\"m-1\" mat-raised-button type=\"submit\" color=\"primary\" >Guardar Premios</button>\r\n      <button (click)=\"back()\" mat-raised-button type=\"button\" color=\"accent\">Volver</button>\r\n    </form>\r\n  </div>\r\n\r\n  <div *ngIf=\"!edit\">\r\n    <div class=\"row\">\r\n      <div class=\"col col-sm-4 col-lg-2\" *ngIf=\"!loading && appUser && appUser.isAdmin\">\r\n        <button class=\"left-btn mb-3\" (click)=\"this.edit = !this.edit\" mat-raised-button color=\"primary\">Editar comisiones y límites </button>\r\n      </div>\r\n      <div *ngIf=\"!loading && appUser && (appUser.isAdmin || appUser.isSalesManager)\" class=\"col\">\r\n        <button  class=\"left-btn mb-3\" (click)=\"this.router.navigate(['/commissions/commissions']);\" mat-raised-button color=\"accent\">Ver histórico comisiones </button>\r\n      </div>\r\n    </div>\r\n\r\n    <h1 *ngIf=\"this.ordersService.orders && commissions && appUser.isAdmin\" >Comisiones del mes en curso</h1>\r\n    <table *ngIf=\"this.ordersService.orders && commissions && appUser.isAdmin\" class=\"table table-striped table-sm mat-elevation-z8\">\r\n      <thead>\r\n        <tr>\r\n          <th>Vendedor</th>\r\n          <th>Fact. Min.</th>\r\n          <th>Com. Min. ({{this.commissions[0].payload.val().retailPercent*100}}%)</th>\r\n          <th>Fact. May.</th>\r\n          <th>Com. May. ({{this.commissions[0].payload.val().wholesalerPercent*100}}%)</th>\r\n          <th>Premios</th>\r\n          <th>Cobranza</th>\r\n          <th>Comisión final</th>\r\n          <th>Deuda en mora</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let seller of sellers\">\r\n          <td>{{seller.payload.val().name}}</td>\r\n          <td>{{this.retailSalesPMonth(seller.payload.val().name, this.monthOrders)}}</td>\r\n          <td>{{this.retailCommission(this.commissions[0].payload.val().retailPercent,\r\n            this.retailSalesPMonth(seller.payload.val().name, this.monthOrders))}}</td>\r\n          <td>{{this.wholesalerSalesPMonth(seller.payload.val().name, this.monthOrders)}}</td>\r\n          <td>{{this.wholesalerCommission(this.commissions[0].payload.val().wholesalerPercent,\r\n            this.wholesalerSalesPMonth(seller.payload.val().name, this.monthOrders), this.retailSalesPMonth(seller.payload.val().name, this.monthOrders))}}</td>\r\n          <td>{{this.getProdCategoryRewards(seller.payload.val().name).totalRewards}}</td>\r\n          <td>{{this.commissionsService.getSellerPenalty(this.commissions[0].payload.val().monthlyRate, seller.payload.val().name, this.ordersService.orders)}}</td>\r\n          <td>{{this.retailCommission(this.commissions[0].payload.val().retailPercent,\r\n            this.retailSalesPMonth(seller.payload.val().name, this.monthOrders)) + this.wholesalerCommission(this.commissions[0].payload.val().wholesalerPercent,\r\n            this.wholesalerSalesPMonth(seller.payload.val().name, this.monthOrders), this.retailSalesPMonth(seller.payload.val().name, this.monthOrders))\r\n             + this.getProdCategoryRewards(seller.payload.val().name).totalRewards - this.commissionsService.getSellerPenalty(this.commissions[0].payload.val().monthlyRate,\r\n             seller.payload.val().name, this.ordersService.orders) | number:'1.1-1'}}  </td>\r\n          <td>{{this.commissionsService.getTotalSellerDebtDelayed(seller.payload.val().name, this.orders)}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <h1 *ngIf=\"appUser.isAdmin\">Premios</h1>\r\n    <table *ngIf=\"this.ordersService.orders && this.commissions && appUser.isAdmin\" class=\"table table-striped table-sm mat-elevation-z8\">\r\n      <thead>\r\n        <tr>\r\n          <th>Vendedor</th>\r\n          <th *ngFor=\"let reward of prodsCategories; index as i\">Fact {{reward.payload.val().name}}</th>\r\n          <th *ngFor=\"let reward of prodsCategories; index as i\">Premio {{reward.payload.val().name}}</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let seller of sellers\">\r\n          <td>{{seller.payload.val().name}}</td>\r\n          <td *ngFor=\"let reward of prodsCategories; index as i\">{{this.prodCategorySales(this.monthOrders, reward.payload.val().name, seller.payload.val().name)}}</td>\r\n          <td *ngFor=\"let reward of prodsCategories; index as i\">{{this.rewardCalc(i, reward.payload.val().name, seller.payload.val().name, this.monthOrders)}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"ml-3\" *ngIf=\"appUser && !appUser.isAdmin\">\r\n  <h1 >Mis Números</h1>\r\n  <table *ngIf=\"this.ordersService.orders && this.commissions\" class=\"table table-striped table-sm mat-elevation-z8\">\r\n    <thead>\r\n      <tr>\r\n        <th>Objetivo Minorista</th>\r\n        <th>Fact. Minorista</th>\r\n        <th>Com. Minorista ({{this.commissions[0].payload.val().retailPercent*100}}%)</th>\r\n        <th>Fact. Mayorista</th>\r\n        <th>Com. Mayorista ({{this.commissions[0].payload.val().wholesalerPercent*100}}%)</th>\r\n        <th>Premios</th>\r\n        <th>Cobranza</th>\r\n        <th>Comisión final</th>\r\n        <th>Deuda en mora</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td>{{this.commissions[0].payload.val().minRetailTotalSales}}</td>\r\n        <td>{{this.retailSalesPMonth(appUser.name, this.monthOrders)}}</td>\r\n        <td>{{this.retailCommission(this.commissions[0].payload.val().retailPercent, this.retailSalesPMonth(appUser.name, this.monthOrders))}}</td>\r\n        <td>{{this.wholesalerSalesPMonth(appUser.name, this.monthOrders)}}</td>\r\n        <td>{{this.wholesalerCommission(this.commissions[0].payload.val().wholesalerPercent,\r\n          this.wholesalerSalesPMonth(appUser.name, this.monthOrders), this.retailSalesPMonth(appUser.name, this.monthOrders))}}</td>\r\n        <td>{{this.getProdCategoryRewards(appUser.name).totalRewards}}</td>\r\n        <td>{{this.commissionsService.getSellerPenalty(this.commissions[0].payload.val().monthlyRate, appUser.name, this.ordersService.orders)}}</td>\r\n        <td>{{this.retailCommission(this.commissions[0].payload.val().retailPercent,\r\n          this.retailSalesPMonth(appUser.name, this.monthOrders)) + this.wholesalerCommission(this.commissions[0].payload.val().wholesalerPercent,\r\n          this.wholesalerSalesPMonth(appUser.name, this.monthOrders), this.retailSalesPMonth(appUser.name, this.monthOrders))\r\n           + this.getProdCategoryRewards(appUser.name).totalRewards -\r\n           this.commissionsService.getSellerPenalty(this.commissions[0].payload.val().monthlyRate, appUser.name, this.ordersService.orders) | number:'1.1-1'}}  </td>\r\n        <td>{{this.commissionsService.getTotalSellerDebtDelayed(appUser.name, this.orders)}}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <h1 >Mis Premios</h1>\r\n  <table *ngIf=\"this.ordersService.orders && this.commissions\" class=\"table table-striped table-sm mat-elevation-z8\">\r\n    <thead>\r\n      <tr>\r\n        <th *ngFor=\"let reward of prodsCategories\">Objetivo {{reward.payload.val().name}}</th>\r\n        <th *ngFor=\"let reward of prodsCategories\">Premio {{reward.payload.val().name}}</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td *ngFor=\"let reward of prodsCategories; index as i\">{{this.commissions[0].payload.val().rewardsGoals[i]}}</td>\r\n        <td *ngFor=\"let reward of prodsCategories; index as i\">{{this.commissions[0].payload.val().rewards[i]}}</td>\r\n      </tr>\r\n    </tbody>\r\n    <thead>\r\n      <tr>\r\n        <th *ngFor=\"let reward of prodsCategories\">Fact {{reward.payload.val().name}}</th>\r\n        <th *ngFor=\"let reward of prodsCategories\">Monto Obtenido {{reward.payload.val().name}}</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td *ngFor=\"let reward of prodsCategories; index as i\">{{this.prodCategorySales(this.monthOrders, reward, appUser.name)}}</td>\r\n        <td *ngFor=\"let reward of prodsCategories; index as i\">{{this.rewardCalc(i, reward, appUser.name, this.monthOrders)}}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n\r\n","export const TOLERATED_DAYS = 14;\r\nexport const TOLERATED_DEBT = 300;\r\n\r\n","import { Component, OnInit,  } from '@angular/core';\r\nimport { ActivatedRoute, Router} from '@angular/router';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { OrdersService } from '../services/orders.service';\r\nimport { FormControl } from '@angular/forms';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { AppUser } from '../models/app-user';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-credit-note',\r\n  templateUrl: './credit-note.component.html',\r\n  styleUrls: ['./credit-note.component.scss']\r\n})\r\nexport class CreditNoteComponent implements OnInit {\r\n\r\n  appUser: AppUser;\r\n  note:any = {};\r\n  myControl = new FormControl();\r\n  filteredOptions:  Observable<any[]>;\r\n  filtrada: any[];\r\n  clientFantasyName:string=\"\";\r\n  creditAmount: number = 0;\r\n  clients:any[] = [];\r\n  filteredClients:any[];\r\n  client: boolean = true;\r\n  noteEmpty: boolean = true;\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n\r\n  constructor(\r\n    public ordersService: OrdersService,\r\n    private auth: AuthService,\r\n    private router: Router,\r\n  ) {}\r\n\r\n  ngOnInit(){\r\n    this.subscription = this.auth.appUser$.subscribe(appUser => {\r\n      this.appUser = appUser;\r\n      this.subscription2 = this.ordersService.getAllClients().subscribe(clients => {\r\n        this.clients = clients;\r\n        this.filteredClients = [];\r\n        for (let i=0;i<this.clients.length;i++) {\r\n          if (this.clients[i].payload.val().designatedSeller == this.appUser.name || this.appUser.isAdmin == true)  {\r\n            this.filteredClients.push(this.clients[i]);\r\n          }\r\n        }\r\n        this.filteredOptions = this.myControl.valueChanges.pipe(startWith(''),\r\n        map(value =>  value? this._filter(value) : this._filter(\"\"))\r\n        )\r\n      });\r\n    });\r\n  }\r\n\r\n  private _filter(value: any): any {\r\n    const filterValue = value.toLowerCase();\r\n    if (!this.filteredClients) return;\r\n    let listFiltrada = this.filteredClients.filter(client => client.payload.val().fantasyName.toLowerCase().includes(filterValue));\r\n    return listFiltrada\r\n  }\r\n\r\n  sendNote(note: any) {\r\n    if (!note.amount || note.amount == 0 ) {\r\n      this.noteEmpty = false;\r\n      setTimeout(()=> {\r\n         this.noteEmpty = true;\r\n        }, 900);\r\n      return;\r\n    }\r\n    if (confirm('Está segur@ que quiere crear la nota de crédito?')) {\r\n\r\n      this.ordersService.createPayment({\r\n        \"amount\": note.amount,\r\n        \"aproved\": true,\r\n        \"client\": this.clientFantasyName,\r\n        \"payWay\": \"Nota de Crédito\",\r\n        \"date\": note.date,\r\n        \"sellerName\": this.appUser.name,\r\n        \"orderNumber\": note.orderNumber\r\n      }, this.clients);\r\n      this.router.navigateByUrl('/payments/payments');\r\n    }\r\n    return;\r\n  }\r\n\r\n  cancel() {\r\n    this.router.navigate(['/payments/payments']);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n  }\r\n}\r\n\r\n","<div id='productsList'>\r\n  <h1>NOTA DE CRÉDITO</h1>\r\n  <hr>\r\n  <form #f=\"ngForm\" (ngSubmit)=\"sendNote(f.value)\" class=\"example-form\">\r\n    <mat-form-field class=\"me-1 example-full-width\" appearance=\"fill\">\r\n      <mat-label>Cliente</mat-label>\r\n      <input name=\"clientFantasyName\" type=\"text\" placeholder=\"Elija uno\" aria-label=\"Number\" matInput required\r\n        [formControl]=\"myControl\" [matAutocomplete]=\"auto\" [(ngModel)]=\"clientFantasyName\">\r\n      <mat-autocomplete #auto=\"matAutocomplete\">\r\n        <mat-option *ngFor=\"let client of this.filteredOptions | async\" [value]=\"client.payload.val().fantasyName\">\r\n          {{client.payload.val().fantasyName}}\r\n        </mat-option>\r\n      </mat-autocomplete>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"me-1 example-full-width\" appearance=\"fill\">\r\n      <mat-label>Ingrese el monto</mat-label>\r\n      <input name=\"amount\" #amount=\"ngModel\" [(ngModel)]=\"note.amount\" type=\"number\" matInput required>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"me-1 example-full-width\" appearance=\"fill\">\r\n      <mat-label>Ingrese el núm. de factura asociado</mat-label>\r\n      <input name=\"orderNumber\" #orderNumber=\"ngModel\" [(ngModel)]=\"note.orderNumber\" type=\"number\" matInput required>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"\" appearance=\"fill\">\r\n      <mat-label>Ingrese la fecha</mat-label>\r\n      <input #date=\"ngModel\" matInput [matDatepicker]=\"picker\" name=\"date\" [(ngModel)]=\"note.date\" required>\r\n      <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n      <mat-datepicker #picker></mat-datepicker>\r\n    </mat-form-field>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-3 col-sm-2 col-lg-1\">\r\n        <button class=\"left-btn\" type=\"submit\" mat-raised-button color=\"primary\">Guardar</button>\r\n      </div>\r\n      <div class=\"col\">\r\n        <button (click)=\"cancel()\" mat-raised-button type=\"button\" color=\"warn\">Descartar</button>\r\n      </div>\r\n    </div>\r\n  </form>\r\n  <div>\r\n    <span *ngIf=\"!noteEmpty\">Debe ingresar un valor!</span>\r\n  </div>\r\n</div>\r\n","import { StockService } from './../services/stock.service';\r\nimport { OrdersService } from '../services/orders.service';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Sort } from '@angular/material/sort';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { AppUser } from '../models/app-user';\r\nimport { DatePipe } from '@angular/common'\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { DateAdapter } from '@angular/material/core';\r\nimport { ChartOptions, ChartType } from 'chart.js';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { Subscription } from 'rxjs';\r\nimport { Product } from '../models/product';\r\n\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.scss']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n\r\n  displayedColumns: string[] = ['client', 'seller', 'amountWithIva'];\r\n  dataSource: any;\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n\r\n  range = new FormGroup({\r\n    start: new FormControl(),\r\n    end: new FormControl()\r\n  });\r\n\r\n  appUser: AppUser;\r\n  orders: any[];\r\n  userOrders: any[] = [];\r\n  filteredOrders:any[];\r\n  currentItemsToShow:any[];\r\n\r\n  dateValue: string;\r\n  clientValue: string;\r\n  sellerValue: string;\r\n\r\n  sortedData: any[];\r\n  query: {client: string, seller: string, date: string, dateRange: {start: Date, end: Date}} = {client: \"\", seller: \"\", date: \"\", dateRange: {start: new Date(2017, 1, 1), end: new Date(2040, 1, 1)}}\r\n\r\n  showGraph: boolean = false;\r\n  loading: boolean = true;\r\n  dashData: any = {};\r\n\r\n  pieChartLabels: Array<string> =[]\r\n  pieChartData: Array<any> = []\r\n  pieChartType: ChartType = 'pie';\r\n  pieChartLegend = true;\r\n  pieChartColors = [\r\n    {\r\n      backgroundColor: ['rgba(164,38,98)'],\r\n    }\r\n  ];\r\n\r\n  aproveFirst:boolean = false;\r\n  color: string[] = ['rgba(255,64,129)', 'rgba(63,81,181)', 'rgba(101,115,193)', 'rgba(244,146,199)', 'rgba(196,202,233)'];\r\n\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n\r\n  constructor(public ordersService: OrdersService,\r\n    private auth: AuthService, public datepipe: DatePipe,\r\n    public stockService: StockService, private dateAdapter: DateAdapter<Date>) {\r\n    this.dateAdapter.setLocale('en-GB'); //dd/MM/yyyy\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.subscription = this.ordersService.getAllOrders().subscribe(orders => {\r\n      this.subscription2 = this.auth.appUser$.subscribe(appUser => {\r\n        this.appUser = appUser;\r\n        this.ordersService.orders = orders;\r\n        this.userOrders = [];\r\n        for (let i=0;i<this.ordersService.orders.length;i++) {\r\n          if (this.appUser?.isAdmin || this.ordersService.orders[i].payload.val().seller == this.appUser?.name) {\r\n            this.userOrders.push(this.ordersService.orders[i]);\r\n          }\r\n        }\r\n        //this.produceDashData(this.userOrders);\r\n        this.filteredOrders = this.userOrders;\r\n        this.produceDashData(this.filteredOrders);\r\n        // this.dataSource = new MatTableDataSource<any>(this.dashData);\r\n        this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.filteredOrders.length})\r\n        this.dataSource = new MatTableDataSource<any>(this.currentItemsToShow);\r\n        this.loading = false;\r\n      });\r\n    });\r\n  }\r\n\r\n  filter(query: string) {\r\n    this.query.client = query;\r\n    this.filteredOrders = [];\r\n    for (let i=0;i<this.userOrders.length;i++) {\r\n      if (this.userOrders[i].payload.val().fantasyName.toLowerCase().includes(query.toLowerCase())\r\n      && this.userOrders[i].payload.val().seller.toLowerCase().includes(this.query.seller.toLowerCase())\r\n      && this.datepipe.transform(this.userOrders[i].payload.val().date, 'dd/MM/yyyy HH:mm')?.includes(this.query.date) )\r\n      this.filteredOrders.push(this.userOrders[i]);\r\n    }\r\n    this.filteredOrders.filter(p => p.payload.val().date > this.query.dateRange.start.getTime() && p.payload.val().date < this.query.dateRange.start.getTime());\r\n\r\n    this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.filteredOrders.length});\r\n    if (this.paginator) this.paginator.pageIndex = 0;\r\n\r\n    this.produceDashData(this.filteredOrders);\r\n    this.dataSource = new MatTableDataSource<any>(this.dashData);\r\n    this.dataSource.paginator = this.paginator;\r\n    if (this.showGraph) this.graphic();  }\r\n\r\n  filterBySeller(query: string) {\r\n    this.query.seller = query;\r\n    this.filteredOrders = [];\r\n    for (let i=0;i<this.userOrders.length;i++) {\r\n      if (this.userOrders[i].payload.val().fantasyName.toLowerCase().includes(this.query.client.toLowerCase())\r\n      && this.userOrders[i].payload.val().seller.toLowerCase().includes(query.toLowerCase())\r\n      && this.datepipe.transform(this.userOrders[i].payload.val().date, 'dd/MM/yyyy HH:mm')?.includes(this.query.date) ) {\r\n        this.filteredOrders.push(this.userOrders[i])\r\n      }\r\n    }\r\n    this.filteredOrders.filter(p => p.payload.val().date > this.query.dateRange.start.getTime() && p.payload.val().date < this.query.dateRange.start.getTime());\r\n\r\n    this.produceDashData(this.filteredOrders);\r\n    this.dataSource = new MatTableDataSource<any>(this.dashData);\r\n    this.dataSource.paginator = this.paginator;\r\n    if (this.showGraph) this.graphic();\r\n  }\r\n\r\n  filterByDate(query: string) {\r\n    this.query.date = query;\r\n    this.filteredOrders = [];\r\n    for (let i=0;i<this.userOrders.length;i++) {\r\n      if (this.userOrders[i].payload.val().fantasyName.toLowerCase().includes(this.query.client.toLowerCase())\r\n      && this.userOrders[i].payload.val().seller.toLowerCase().includes(this.query.seller.toLowerCase())\r\n      && this.datepipe.transform(this.userOrders[i].payload.val().date, 'dd/MM/yyyy HH:mm')?.includes(query) )\r\n      this.filteredOrders.push(this.userOrders[i]);\r\n    }\r\n    this.filteredOrders.filter(p => p.payload.val().date > this.query.dateRange.start.getTime() && p.payload.val().date < this.query.dateRange.start.getTime());\r\n\r\n    this.produceDashData(this.filteredOrders);\r\n    this.dataSource = new MatTableDataSource<any>(this.dashData);\r\n    this.dataSource.paginator = this.paginator;\r\n    if (this.showGraph) this.graphic();\r\n  }\r\n\r\n  searchDateRange(range: any) {\r\n    if (range.start) {\r\n      this.filteredOrders = [];\r\n      for (let i=0;i<this.userOrders.length;i++) {\r\n        if (this.userOrders[i].payload.val().fantasyName.toLowerCase().includes(this.query.client.toLowerCase())\r\n        && this.userOrders[i].payload.val().seller.toLowerCase().includes(this.query.seller.toLowerCase())\r\n        && this.datepipe.transform(this.userOrders[i].payload.val().date, 'dd/MM/yyyy HH:mm')?.includes(this.query.date) )\r\n        this.filteredOrders.push(this.userOrders[i]);\r\n      }\r\n      this.filteredOrders = (range) ?\r\n      this.filteredOrders.filter(p => p.payload.val().date > Date.parse(range.start._d) && p.payload.val().date < Date.parse(range.end._d)):\r\n      this.filteredOrders;\r\n\r\n      this.produceDashData(this.filteredOrders);\r\n      this.dataSource = new MatTableDataSource<any>(this.dashData);\r\n      this.dataSource.paginator = this.paginator;\r\n    }\r\n    this.query.dateRange.start = new Date(Date.parse(range.start._d));\r\n    this.query.dateRange.end = new Date(Date.parse(range.end._d));\r\n    if (this.showGraph) this.graphic();\r\n  }\r\n\r\n  sortData(sort: Sort) {\r\n    const data = this.dashData.slice();\r\n    if (!sort.active || sort.direction === '') {\r\n      this.sortedData = data;\r\n      return;\r\n    }\r\n\r\n    this.sortedData = data.sort((a: any, b: any) => {\r\n      const isAsc = sort.direction === 'asc';\r\n      switch (sort.active) {\r\n        case 'client': return this.compare(a.client, b.client, isAsc);\r\n        case 'seller': return this.compare(a.seller, b.seller, isAsc);\r\n        case 'amountWithIva': return this.compare(a.amountWithIva, b.amountWithIva, isAsc);\r\n        default: return 0;\r\n      }\r\n    });\r\n    this.dataSource = new MatTableDataSource<any>(this.sortedData);\r\n    this.dataSource.paginator = this.paginator;\r\n  }\r\n\r\n  getTitle(item: any) {\r\n    return item.title;\r\n  }\r\n\r\n\r\n  compare(a: number | string, b: number | string, isAsc: boolean) {\r\n    return (a < b ? -1 : 1) * (isAsc ? 1 : -1);\r\n  }\r\n\r\n  clearRange() {\r\n    this.range.setValue({\r\n      start: null,\r\n      end: null\r\n    });\r\n    this.sellerValue = \"\";\r\n    this.clientValue = \"\";\r\n    this.dateValue = \"\";\r\n    this.filteredOrders = this.userOrders;\r\n    this.produceDashData(this.filteredOrders);\r\n    this.dataSource = new MatTableDataSource<any>(this.dashData);\r\n    this.dataSource.paginator = this.paginator;\r\n  }\r\n\r\n  // Pie\r\n  public pieChartOptions: ChartOptions = {\r\n    responsive: true,\r\n    legend: {\r\n      position: 'top',\r\n    },\r\n    plugins: {\r\n      datalabels: {\r\n        formatter: (_value: any, ctx: { chart: { data: { labels: { [x: string]: any; }; }; }; dataIndex: string | number; }) => {\r\n          const label = ctx.chart.data.labels[ctx.dataIndex];\r\n          return label;\r\n        },\r\n      },\r\n    }\r\n  };\r\n\r\n  // events\r\n  public chartClicked({ event, active }: { event: MouseEvent, active: {}[] }): void {\r\n    console.log(event, active);\r\n  }\r\n\r\n  public chartHovered({ event, active }: { event: MouseEvent, active: {}[] }): void {\r\n    console.log(event, active);\r\n  }\r\n\r\n  graphic() {\r\n    this.pieChartLabels = [];\r\n    this.pieChartData = [];\r\n    let categories = this.getCategories(this.filteredOrders);\r\n    this.pieChartLabels = categories;\r\n    let amounts = this.getAmounts(this.filteredOrders, categories);\r\n    this.pieChartData = amounts;\r\n    this.showGraph = true;\r\n  }\r\n\r\n  getCategories(orders: any) {\r\n    let categories: string[] = []\r\n    let colors = []\r\n    for (let i=0;i<orders.length;i++) {\r\n      let products = this.ordersService.getOrderDetail(orders[i].payload.val().orderDetailKey).payload.val().products;\r\n      for (let j=0;j<products.length; j++) {\r\n        if (!this.isCategoryIncluded(categories, products[j].category)) {\r\n          categories.push(products[j].category)\r\n          let col = this.color.pop()\r\n          if (col) {\r\n            this.pieChartColors[0].backgroundColor.push(col);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return categories;\r\n  }\r\n\r\n  isCategoryIncluded(categories: string[], category: string) {\r\n    for (let i=0;i<categories.length; i++) {\r\n      if (categories[i]==category) return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getAmounts(orders: any, categories: string[]) {\r\n    let amounts = [];\r\n    for (let i=0;i<categories.length;i++) {\r\n      let amountWithIva = 0;\r\n      for (let j=0;j<orders.length;j++) {\r\n        let products = this.ordersService.getOrderDetail(orders[j].payload.val().orderDetailKey).payload.val().products;\r\n        products.forEach((p: Product) => {\r\n          if (p.category == categories[i]) {\r\n            amountWithIva += parseFloat(p.discountPrice)*p.quantity*(1+orders[j].payload.val().iva/100)\r\n          }\r\n        });\r\n\r\n        // reemplazado por lo de arriba\r\n        // for (let k=0;k<orders[j].payload.val().order.products.length; k++) {\r\n        //   if (orders[j].payload.val().order.products[k].product.prodsCategory == categories[i]) {\r\n        //     amountWithIva += parseFloat(orders[j].payload.val().order.products[k].discountPrice)*parseInt(orders[j].payload.val().order.products[k].quantity)*(1+orders[j].payload.val().iva/100)\r\n        //   }\r\n        // }\r\n      }\r\n      amounts.push(amountWithIva)\r\n    }\r\n    return amounts;\r\n  }\r\n\r\n  getPercentage(data: any){  //porcentaje de la facturacion de cada categoria sobre el total\r\n    let sum=0;\r\n    for (let i=0;i<this.pieChartData.length;i++) {\r\n      sum += this.pieChartData[i];\r\n    }\r\n    return 100*data/sum\r\n  }\r\n  getTotalCategs(){  //facturacion total de las orders filtradas\r\n    let sum=0;\r\n    for (let i=0;i<this.pieChartData.length;i++) {\r\n      sum += this.pieChartData[i];\r\n    }\r\n    return sum\r\n  }\r\n\r\n  //llena en dashData la lista de clientes con el monto total\r\n  produceDashData(dataArray: any) {\r\n    this.dashData = [];\r\n    for (let i=0;i<dataArray.length;i++) {\r\n      if (!this.isClientInDashData(dataArray[i].payload.val().fantasyName)) {\r\n        this.dashData.push({\r\n          \"client\": dataArray[i].payload.val().fantasyName, \"seller\" : dataArray[i].payload.val().seller, \"amountWithIva\": dataArray[i].payload.val().amountWithIva\r\n        })\r\n      }\r\n      else {\r\n        this.adAmount(dataArray[i].payload.val().fantasyName, dataArray[i].payload.val().amountWithIva);\r\n      }\r\n    }\r\n  }\r\n\r\n  adAmount(client: string, amountWithIva: number) {\r\n    for (let i=0;i<this.dashData.length;i++) {\r\n      if (this.dashData[i].client.toLowerCase().includes(client.toLowerCase())) {\r\n        this.dashData[i].amountWithIva += amountWithIva;\r\n      }\r\n    }\r\n  }\r\n\r\n  isClientInDashData(client: string) {\r\n    for (let i=0;i<this.dashData.length;i++) {\r\n      if (this.dashData[i].client.toLowerCase().includes(client.toLowerCase())) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  onPageChange($event: any) {\r\n    this.currentItemsToShow = this.dashData.slice(\r\n      $event.pageIndex * $event.pageSize,\r\n      $event.pageIndex * $event.pageSize + $event.pageSize\r\n    );\r\n    this.dataSource = new MatTableDataSource<any>(this.dashData);\r\n    this.dataSource.paginator = this.paginator;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n  }\r\n}\r\n\r\n\r\n","<div *ngIf=\"loading\" class=\"SCContainer ml-5 ms-5 spinner-border text-primary\" role=\"status\">\r\n  <span class=\"visually-hidden\"></span>\r\n</div>\r\n\r\n<div class=\"SCContainer ms-1\" *ngIf=\"!loading && appUser\">\r\n  <div *ngIf=\"showGraph\">\r\n    <table class=\"mat-elevation-z8\">\r\n      <tr>\r\n        <th *ngFor=\"let label of pieChartLabels\">{{label}}</th>\r\n        <th>Total</th>\r\n      </tr>\r\n        <tr>\r\n          <td *ngFor=\"let data of pieChartData\">${{data | number:'1.1-1'}}&nbsp;({{getPercentage(data) | number:'1.1-1'}}%)&nbsp;</td>\r\n          <td>{{getTotalCategs() | number:'1.1-1'}}</td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n  <div class=\"chart\" *ngIf=\"showGraph\" style=\"float:left; margin-right:15px\">\r\n    <canvas baseChart height=\"400\"\r\n      [data]=\"pieChartData\"\r\n      [labels]=\"pieChartLabels\"\r\n      [chartType]=\"pieChartType\"\r\n      [options]=\"pieChartOptions\"\r\n      [colors]=\"pieChartColors\"\r\n      [legend]=\"pieChartLegend\">\r\n    </canvas>\r\n  </div>\r\n\r\n  <div class=\"row ms-1\">\r\n    <div class=\"col-12 mx-2 mt-1 mt-sm-2 col-sm-2 me-sm-2 col-lg-2\"><h1>GRÁFICOS&nbsp;&nbsp;</h1></div>\r\n    <div class=\"col-12 m-2 col-sm-2 col-lg-1\"><button mat-raised-button color=\"accent\" (click)=\"graphic()\">Graficar</button></div>\r\n    <div class=\"col m-2\"><button mat-raised-button color=\"basic\" (click)=\"showGraph = false\">Ocultar</button></div>\r\n  </div>\r\n  <hr>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-12 col-md-4 my-1\">\r\n      <div class=\"input-group\">\r\n        <div>\r\n          <mat-icon matSuffix>search</mat-icon>\r\n        </div>\r\n        <input class=\"border-end-0 border rounded-pill\" [(ngModel)]=\"clientValue\" #query (ngModelChange)=\"filter(query.value)\" (keyup)=\"filter(query.value)\" type=\"text\" placeholder=\"   Nombre de Fantasía...\">\r\n      </div>\r\n    </div>\r\n    <div class=\"col-12 col-md-4 my-1\">\r\n      <div class=\"input-group\">\r\n        <div>\r\n          <mat-icon matSuffix>search</mat-icon>\r\n        </div>\r\n        <input class=\"border-end-0 border rounded-pill\" [(ngModel)]=\"sellerValue\" #sellerquery (keyup)=\"filterBySeller(sellerquery.value)\" type=\"text\" placeholder=\"   Vendedor...\">\r\n      </div>\r\n    </div>\r\n    <div class=\"col-6 col-md-4 my-1\">\r\n      <div class=\"input-group\">\r\n        <div>\r\n          <mat-icon matSuffix>search</mat-icon>\r\n        </div>\r\n        <input class=\"border-end-0 border rounded-pill\" [(ngModel)]=\"dateValue\" #Datequery (keyup)=\"filterByDate(Datequery.value)\" type=\"text\" placeholder=\"   Fecha...\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <form #f=\"ngForm\" (ngSubmit)=\"searchDateRange(range.value)\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12 ms-t col-md-4 my-1\">\r\n        <mat-form-field appearance=\"fill\" class=\"m-1\">\r\n          <mat-label>Ingrese un rango de fechas</mat-label>\r\n          <mat-date-range-input [formGroup]=\"range\" [rangePicker]=\"picker\">\r\n            <input matStartDate formControlName=\"start\" placeholder=\"fecha inicio\">\r\n            <input matEndDate formControlName=\"end\" placeholder=\"fecha finalización\">\r\n\r\n          </mat-date-range-input>\r\n          <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n          <mat-date-range-picker #picker></mat-date-range-picker>\r\n\r\n          <mat-error *ngIf=\"range.controls.start.hasError('matStartDateInvalid')\">Invalid start date</mat-error>\r\n          <mat-error *ngIf=\"range.controls.end.hasError('matEndDateInvalid')\">Invalid end date</mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n      <div class=\"col-12 col-md-4 my-1\">\r\n        <button class=\"m-1\" mat-raised-button type=\"submit\" color=\"primary\" >buscar por rango</button>\r\n      </div>\r\n      <div class=\"col my-1\">\r\n        <button class=\"m-1\" #query mat-raised-button color=\"accent\" (click)=\"clearRange()\">borrar búsqueda</button>\r\n      </div>\r\n    </div>\r\n  </form>\r\n  <div class=\"table-wrapper\">\r\n  <table class=\"mt-2 table table-striped mat-elevation-z8\" mat-table [dataSource]=\"dataSource\" matSort (matSortChange)=\"sortData($event)\">\r\n    <!-- client Column -->\r\n    <ng-container matColumnDef=\"client\">\r\n      <th mat-header-cell *matHeaderCellDef mat-sort-header=\"client\"><h3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cliente </h3></th>\r\n      <td mat-cell *matCellDef=\"let c\"> {{c.client}} </td>\r\n    </ng-container>\r\n\r\n    <!-- seller Column -->\r\n    <ng-container matColumnDef=\"seller\">\r\n      <th mat-header-cell *matHeaderCellDef mat-sort-header=\"seller\"><h3> Vendedor</h3></th>\r\n      <td mat-cell *matCellDef=\"let c\"> {{c.seller}} </td>\r\n    </ng-container>\r\n\r\n    <!-- amout Column -->\r\n    <ng-container matColumnDef=\"amountWithIva\">\r\n      <th mat-header-cell *matHeaderCellDef mat-sort-header=\"amountWithIva\"><h2> Importe*</h2></th>\r\n      <td mat-cell *matCellDef=\"let c\">{{c.amountWithIva | number:'1.1-1'}}</td>\r\n    </ng-container>\r\n\r\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n  </table>\r\n  </div>\r\n  <mat-paginator *ngIf=\"this.filteredOrders\" (page)=\"onPageChange($event)\" [length]=\"this.filteredOrders.length\" [pageSize]=\"10\" [pageSizeOptions]=\"[10, 20]\"></mat-paginator>\r\n\r\n</div>\r\n\r\n","<div class=\"SCContainer\">\r\n  <div><h1 style=\"display: inline; margin:10px;\">EDITAR PRECIOS</h1></div>\r\n  <h5 class=\"ms-2\">SOLO PUEDE EDITAR PRECIO Y CATEGORÍA</h5>\r\n<hr>\r\n  <div class=\"col\">\r\n    <button mat-raised-button type=\"button\" routerLink=\"/admin/prods\" color=\"accent\">Volver</button>\r\n  </div>\r\n\r\n  <div class=\"admin-prods-form\" *ngFor=\"let product of filteredProducts; index as i;\">\r\n\r\n    <form #f=\"ngForm\" (ngSubmit)=\"saveProd(f.value, product)\">\r\n      <mat-form-field appearance=\"legacy\" style=\"width:25vw;min-width:320px;margin-right: 10px; \">\r\n        <input #title=\"ngModel\" matInput [(ngModel)]=\"product.payload.val().title\" name=\"title\" placeholder=\"\" readonly>\r\n        <mat-hint>Producto</mat-hint>\r\n        <div class=\"alert alert-danger\" *ngIf=\"title.touched && title.invalid\">El nombre es obligatorio</div>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field appearance=\"legacy\" style=\"width:5vw;min-width:63px;\">\r\n        <input #buyPrice=\"ngModel\" matInput [(ngModel)]=\"product.payload.val().buyPrice\" name=\"buyPrice\" placeholder=\"\" required [min]=\"0\">\r\n        <div class=\"alert alert-danger\" *ngIf=\"buyPrice.touched && buyPrice.invalid\">\r\n          <div *ngIf=\"buyPrice.errors?.required\">Price is required</div>\r\n          <div *ngIf=\"buyPrice.errors?.min\">Precio inválido. Dede usar punto en vez de coma.</div>\r\n        </div>\r\n        <mat-hint>Precio de compra($)</mat-hint>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field appearance=\"legacy\" style=\"width:5vw;min-width:80px;\">\r\n        <mat-label>Categorias</mat-label>\r\n        <mat-select #prodsCategory=\"ngModel\" [(ngModel)]=\"product.payload.val().prodsCategory\" name=\"prodsCategory\" required>\r\n          <mat-option *ngFor=\"let c of prodsCategories\" [value]=\"c.payload.val().name\">\r\n            {{c.payload.val().name}}\r\n          </mat-option>\r\n        </mat-select>\r\n        <div class=\"alert alert-danger\" *ngIf=\"prodsCategory.touched && prodsCategory.invalid\">Category is required</div>\r\n      </mat-form-field>\r\n\r\n      <button mat-raised-button type=\"submit\" color=\"primary\" [disabled]=\"!f.valid\">Guardar</button>\r\n      <button (click)=\"delete(product.key)\" mat-raised-button type=\"button\" color=\"warn\">Eliminar</button>\r\n      <span *ngIf=\"!f.valid\">&nbsp;&nbsp;ERROR: hay datos inválidos! recuerde usar punto en vez de coma para los decimales</span>\r\n    </form>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { CategoryService } from '../services/category.service';\r\nimport { ProductService } from '../services/product.service';\r\n\r\n@Component({\r\n  selector: 'app-edit-product-prices',\r\n  templateUrl: './edit-product-prices.component.html',\r\n  styleUrls: ['./edit-product-prices.component.scss']\r\n})\r\nexport class EditProductPricesComponent implements OnInit {\r\n\r\n  products: any;\r\n  clientCategories: any;\r\n\r\n\r\n  filteredProducts:any[] = [];\r\n  prodsCategories: any[];\r\n  subscription: Subscription;\r\n  subscription2: Subscription\r\n\r\n\r\n  constructor(private productService: ProductService, private categoryService: CategoryService ) {\r\n    this.subscription = this.productService.getAllProducts().subscribe(products => {\r\n      this.filteredProducts = this.products = products;\r\n      this.filteredProducts.sort(this.compareTitle)\r\n      this.filteredProducts.sort(this.compareCategory)\r\n   });\r\n   categoryService.getAllProdsCategories().subscribe((prodsCategories)=>{\r\n    this.prodsCategories = prodsCategories;\r\n  });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  saveProd(formproduct: any, product: any) {\r\n    // if (confirm('Está segur@ que quiere guardar estos valores?')) {\r\n      let prod = {\r\n        \"disc1\": product.payload.val().disc1,\r\n        \"disc2\": product.payload.val().disc2,\r\n        \"disc3\": product.payload.val().disc3,\r\n        \"disc4\": product.payload.val().disc4,\r\n        \"buyPrice\": formproduct.buyPrice,\r\n        \"price1\": product.payload.val().price1,\r\n        \"price2\": product.payload.val().price2,\r\n        \"price3\": product.payload.val().price3,\r\n        \"price4\": product.payload.val().price4,\r\n        \"discPrice1\": product.payload.val().discPrice1,\r\n        \"discPrice2\": product.payload.val().discPrice2,\r\n        \"discPrice3\": product.payload.val().discPrice3,\r\n        \"discPrice4\": product.payload.val().discPrice4,\r\n        \"stock\": product.payload.val().stock,\r\n        \"prodsCategory\": formproduct.prodsCategory,\r\n        \"title\": product.payload.val().title\r\n      }\r\n      this.productService.update(product.key, prod);\r\n  }\r\n\r\n  delete(id: string) {\r\n    if (confirm('Está segur@ que quiere eliminar este producto?')) {\r\n      this.productService.delete(id);\r\n    }\r\n  }\r\n\r\n  compareCategory( a: any, b: any ) {\r\n    if ( a.payload.val().prodsCategory.toLowerCase() < b.payload.val().prodsCategory.toLowerCase()){\r\n      return -1;\r\n    }\r\n    if ( a.payload.val().prodsCategory.toLowerCase() > b.payload.val().prodsCategory.toLowerCase()){\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  compareTitle( a: any, b: any ) {\r\n    if ( a.payload.val().title.toLowerCase() < b.payload.val().title.toLowerCase()){\r\n      return -1;\r\n    }\r\n    if ( a.payload.val().title.toLowerCase() > b.payload.val().title.toLowerCase()){\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n","import { OrdersService } from 'src/app/services/orders.service';\r\nimport { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { CategoryService } from 'src/app/services/category.service';\r\n\r\n@Component({\r\n  selector: 'clients-form',\r\n  templateUrl: './clients-form.component.html',\r\n  styleUrls: ['./clients-form.component.scss']\r\n})\r\nexport class ClientsFormComponent {\r\n  @Output() redirect:EventEmitter<boolean> = new EventEmitter();\r\n  fromEditing:boolean = true;\r\n\r\n  sellConditions:string[] = [\"Contado\", \"Cuenta Corriente\"];\r\n  IVAConditions:string[] = [\"Inscripto\", \"Monotributista\", \"Consumidor Final\"];\r\n  clientsCategories: Observable<any>;\r\n  sellers$: Observable<any>;\r\n  client:any = {};\r\n  id:any;\r\n  subscription: Subscription;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private categoryService: CategoryService,\r\n    private ordersService: OrdersService\r\n    ) {\r\n\r\n    this.clientsCategories = categoryService.getAllClientsCategories();\r\n    this.sellers$ = ordersService.getAllSellers();\r\n    this.id = this.route.snapshot.paramMap.get('id');\r\n    if (this.id) this.subscription = this.ordersService.getClient(this.id).take(1).subscribe(p => {\r\n      this.client = p.payload.val();\r\n    });\r\n   }\r\n\r\n  save(client: any) {\r\n    if (confirm('Está segur@ que quiere guardar/crear este cliente?')) {\r\n      this.ordersService.setFromEditing(true);\r\n      if (this.id) {\r\n        this.ordersService.update(this.id, client);\r\n      }\r\n      else {\r\n        this.ordersService.createClient(client);\r\n      }\r\n      this.router.navigate(['/admin/clients']);\r\n    }\r\n  }\r\n\r\n  delete() {\r\n    if (confirm('Está segur@ que quiere borrar este cliente? No podrá recuperarlo')) {\r\n      this.ordersService.delete(this.id);\r\n      this.router.navigate(['/admin/clients']);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n  }\r\n}\r\n\r\n"," <div class=\"container-form\">\n  <form #f=\"ngForm\" (ngSubmit)=\"save(f.value)\">\n    <p>\n      <mat-form-field appearance=\"legacy\">\n        <mat-label>Razon Social</mat-label>\n        <input #businessName=\"ngModel\" matInput [(ngModel)]=\"client.businessName\" name=\"businessName\" placeholder=\"\" required>\n\n        <mat-hint>Campo requerido</mat-hint>\n        <div class=\"alert alert-danger\" *ngIf=\"businessName.touched && businessName.invalid\">La Razon Social es requerida</div>\n      </mat-form-field>\n\n      <mat-form-field appearance=\"legacy\">\n        <mat-label>Nombre de Fantasía</mat-label>\n        <input #fantasyName=\"ngModel\" matInput [(ngModel)]=\"client.fantasyName\" name=\"fantasyName\" placeholder=\"\" required>\n\n        <mat-hint>Campo requerido</mat-hint>\n        <div class=\"alert alert-danger\" *ngIf=\"fantasyName.touched && fantasyName.invalid\">El Nombre de Fantasia es requerido</div>\n      </mat-form-field>\n    </p>\n    \n      <mat-form-field appearance=\"fill\">\n        <mat-label>Canal de venta</mat-label>\n        <mat-select #clientCategory=\"ngModel\" [(ngModel)]=\"client.clientCategory\" name=\"clientCategory\" required>\n          <mat-option *ngFor=\"let c of clientsCategories | async\" [value]=\"c.name\">\n            {{c.name}}\n          </mat-option>\n        </mat-select>\n        <div class=\"alert alert-danger\" *ngIf=\"clientCategory.touched && clientCategory.invalid\">El canal de venta es requerido</div>\n      </mat-form-field>\n\n      <mat-form-field appearance=\"fill\">\n        <mat-label>Condición de venta</mat-label>\n        <mat-select #sellCondition=\"ngModel\" [(ngModel)]=\"client.sellCondition\" name=\"sellCondition\" required>\n          <mat-option *ngFor=\"let sc of sellConditions\" [value]=\"sc\">\n            {{sc}}\n          </mat-option>\n        </mat-select>\n        <div class=\"alert alert-danger\" *ngIf=\"sellCondition.touched && sellCondition.invalid\">La condición de venta es requerida</div>\n      </mat-form-field>\n\n      <mat-form-field appearance=\"fill\">\n        <mat-label>Vendedor asignado</mat-label>\n        <mat-select #designatedSeller=\"ngModel\" [(ngModel)]=\"client.designatedSeller\" name=\"designatedSeller\" required>\n          <mat-option *ngFor=\"let ds of sellers$ | async\" [value]=\"ds.payload.val().name\">\n            {{ds.payload.val().name}}\n          </mat-option>\n        </mat-select>\n        <div class=\"alert alert-danger\" *ngIf=\"designatedSeller.touched && designatedSeller.invalid\">La condición de venta es requerida</div>\n      </mat-form-field>\n\n      <mat-form-field appearance=\"fill\">\n        <mat-label>Condición IVA</mat-label>\n        <mat-select #IVACondition=\"ngModel\" [(ngModel)]=\"client.IVACondition\" name=\"IVACondition\" required>\n          <mat-option *ngFor=\"let IVACond of IVAConditions\" [value]=\"IVACond\">\n            {{IVACond}}\n          </mat-option>\n        </mat-select>\n        <div class=\"alert alert-danger\" *ngIf=\"IVACondition.touched && IVACondition.invalid\">La condición de IVA es requerida</div>\n      </mat-form-field>\n\n      <p>\n        <mat-form-field appearance=\"legacy\">\n          <mat-label>CUIT</mat-label>\n          <input #cuit=\"ngModel\" matInput [(ngModel)]=\"client.cuit\" name=\"cuit\" placeholder=\"\" required [min]=\"0\">\n          <div class=\"alert alert-danger\" *ngIf=\"cuit.touched && cuit.invalid\">\n            <div *ngIf=\"cuit.errors?.required\">El CUIT es requerido</div>\n            <div *ngIf=\"cuit.errors?.min\">El CUIT debe ser mayor a 0 y sin guiones</div>\n          </div>\n          <mat-hint>Campo requerido</mat-hint>\n        </mat-form-field>\n\n        <mat-form-field appearance=\"legacy\">\n          <mat-label>Dirección</mat-label>\n          <input #address=\"ngModel\" matInput [(ngModel)]=\"client.address\" name=\"address\" placeholder=\"\" required>\n          <mat-hint>Campo requerido</mat-hint>\n          <div class=\"alert alert-danger\" *ngIf=\"address.touched && address.invalid\">La dirección es requerida</div>\n        </mat-form-field>\n      </p>\n\n      <p>\n        <mat-form-field appearance=\"legacy\">\n          <mat-label>Nombre de contacto</mat-label>\n          <input #contactName=\"ngModel\" matInput [(ngModel)]=\"client.contactName\" name=\"contactName\" placeholder=\"\" required>\n          <mat-hint>Campo requerido</mat-hint>\n          <div class=\"alert alert-danger\" *ngIf=\"contactName.touched && contactName.invalid\">El nombre de contacto es requerido</div>\n        </mat-form-field>\n\n        <mat-form-field appearance=\"legacy\">\n          <mat-label>Teléfono</mat-label>\n          <input #phone=\"ngModel\" matInput [(ngModel)]=\"client.phone\" name=\"phone\" placeholder=\"\" required>\n          <mat-hint>Campo requerido</mat-hint>\n          <div class=\"alert alert-danger\" *ngIf=\"phone.touched && phone.invalid\">El teléfono es requerido</div>\n        </mat-form-field>\n      </p>\n\n\n\n    <button class=\"me-2\" mat-raised-button type=\"submit\" color=\"primary\" >Guardar</button>\n    <button (click)=\"delete()\" mat-raised-button type=\"button\" color=\"warn\">Eliminar</button>\n  </form>\n</div>\n\n\n","import { StockService } from './../../services/stock.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { Observable } from 'rxjs';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ProductService } from 'src/app/services/product.service';\r\nimport 'rxjs/add/operator/take';\r\nimport { CategoryService } from 'src/app/services/category.service';\r\n\r\n@Component({\r\n  selector: 'app-product-form',\r\n  templateUrl: './product-form.component.html'\r\n})\r\nexport class ProductFormComponent {\r\n  prodsCategories: any[];\r\n  product:any = {};\r\n  id:any;\r\n  products: any[];\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private categoryService: CategoryService,\r\n    private productService: ProductService,\r\n    private stockService: StockService) {\r\n\r\n\r\n\r\n    this.categoryService.getAllProdsCategories().subscribe(prodsCategories => {\r\n      this.prodsCategories = prodsCategories\r\n    });\r\n    this.id = this.route.snapshot.paramMap.get('id');\r\n    if (this.id) this.productService.get(this.id).take(1).subscribe(p => {\r\n      this.product = p.payload.val();\r\n    });\r\n   }\r\n\r\n  save(product: any) {\r\n    if (confirm('Está segur@ que quiere guardar/crear este producto?')) {\r\n      if (this.id) {\r\n        this.productService.update(this.id, product);\r\n      }\r\n      else {\r\n        this.productService.create(product);\r\n        this.productService.getAllProducts().subscribe(products => {\r\n          this.products = products;\r\n          this.stockService.updateBuy(this.products);\r\n        })\r\n      }\r\n      this.router.navigate(['/admin/prods']);\r\n    }\r\n  }\r\n\r\n  delete() {\r\n    if (confirm('Está segur@ que quiere borrar este producto? No podrá recuperarlo')) {\r\n      this.productService.delete(this.id);\r\n      this.router.navigate(['/admin/prods']);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"container-form\">\r\n  <form #f=\"ngForm\" (ngSubmit)=\"save(f.value)\">\r\n    <p>\r\n      <mat-form-field appearance=\"legacy\">\r\n        <mat-label>Producto</mat-label>\r\n        <input #title=\"ngModel\" matInput [(ngModel)]=\"product.title\" name=\"title\" placeholder=\"\" maxlength=\"40\" required>\r\n\r\n        <mat-hint>Nombre del producto</mat-hint>\r\n        <div class=\"alert alert-danger\" *ngIf=\"title.touched && title.invalid\">El nombre es obligatorio. Máximo 30 caracteres</div>\r\n      </mat-form-field>\r\n    </p>\r\n    <p>\r\n      <mat-form-field appearance=\"legacy\">\r\n        <mat-label>$</mat-label>\r\n        <input #buyPrice=\"ngModel\" matInput [(ngModel)]=\"product.buyPrice\" name=\"buyPrice\" placeholder=\"\" required [min]=\"0\">\r\n        <div class=\"alert alert-danger\" *ngIf=\"buyPrice.touched && buyPrice.invalid\">\r\n          <div *ngIf=\"buyPrice.errors?.required\">Campo obligatorio</div>\r\n          <div *ngIf=\"buyPrice.errors?.min\">Precio inválido. Dede usar punto en vez de coma.</div>\r\n        </div>\r\n        <mat-hint>Precio de Compra</mat-hint>\r\n      </mat-form-field>\r\n    </p>\r\n\r\n\r\n      <mat-form-field appearance=\"fill\">\r\n        <mat-label>Categories</mat-label>\r\n        <mat-select #prodsCategory=\"ngModel\" [(ngModel)]=\"product.prodsCategory\" name=\"prodsCategory\" required>\r\n          <mat-option *ngFor=\"let c of prodsCategories\" [value]=\"c.payload.val().name\">\r\n            {{c.payload.val().name}}\r\n          </mat-option>\r\n        </mat-select>\r\n        <div class=\"alert alert-danger\" *ngIf=\"prodsCategory.touched && prodsCategory.invalid\">Category is required</div>\r\n      </mat-form-field>\r\n\r\n    <button mat-raised-button type=\"submit\" color=\"primary\" [disabled]=\"!f.valid\">Guardar</button>\r\n    <button (click)=\"delete()\" mat-raised-button type=\"button\" color=\"warn\">Eliminar</button>\r\n  </form>\r\n</div>\r\n<mat-card class=\"example-card\">\r\n  <mat-card-footer>\r\n    <mat-card-title>{{product.title}}</mat-card-title>\r\n    <mat-card-subtitle><b>{{product.buyPrice | currency:'$AR ':true}}</b></mat-card-subtitle>\r\n    <mat-card-content>\r\n      <p><b>{{product.prodsCategory}}</b></p>\r\n    </mat-card-content>\r\n  </mat-card-footer>\r\n\r\n</mat-card>\r\n\r\n","<div class=\"container-form\">\n  <form #f=\"ngForm\" (ngSubmit)=\"save(f.value)\">\n    <p>\n      <mat-form-field class=\"m-1\" appearance=\"legacy\">\n        <mat-label>Nombre Completo</mat-label>\n        <input #name=\"ngModel\" matInput [(ngModel)]=\"seller.name\" name=\"name\" placeholder=\"\" required>\n\n        <mat-hint>Campo requerido</mat-hint>\n        <div class=\"alert alert-danger\" *ngIf=\"name.touched && name.invalid\">El nombre es requerido</div>\n      </mat-form-field>\n\n      <mat-form-field class=\"m-1\" appearance=\"legacy\">\n        <mat-label>CUIL</mat-label>\n        <input #cuil=\"ngModel\" matInput [(ngModel)]=\"seller.cuil\" name=\"cuil\" placeholder=\"\" required [min]=\"0\">\n        <div class=\"alert alert-danger\" *ngIf=\"cuil.touched && cuil.invalid\">\n          <div *ngIf=\"cuil.errors?.required\">El CUIL es requerido</div>\n          <div *ngIf=\"cuil.errors?.min\">El CUIL debe ser mayor a 0 y sin guiones</div>\n        </div>\n        <mat-hint>Campo requerido</mat-hint>\n      </mat-form-field>\n    </p>\n\n      <p>\n        <mat-form-field class=\"m-1\" appearance=\"legacy\">\n          <mat-label>Dirección</mat-label>\n          <input #address=\"ngModel\" matInput [(ngModel)]=\"seller.address\" name=\"address\" placeholder=\"\" required>\n          <mat-hint>Campo requerido</mat-hint>\n          <div class=\"alert alert-danger\" *ngIf=\"address.touched && address.invalid\">La dirección es requerida</div>\n        </mat-form-field>\n\n        <mat-form-field class=\"m-1\" appearance=\"legacy\">\n          <mat-label>Teléfono</mat-label>\n          <input #phone=\"ngModel\" matInput [(ngModel)]=\"seller.phone\" name=\"phone\" placeholder=\"\" required>\n          <mat-hint>Campo requerido</mat-hint>\n          <div class=\"alert alert-danger\" *ngIf=\"phone.touched && phone.invalid\">El teléfono es requerido</div>\n        </mat-form-field>\n      </p>\n\n    <button mat-raised-button type=\"submit\" color=\"primary\" >Guardar</button>\n    <button (click)=\"delete()\" mat-raised-button type=\"button\" color=\"warn\">Eliminar</button>\n  </form>\n</div>\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { OrdersService } from 'src/app/services/orders.service';\r\n\r\n@Component({\r\n  selector: 'app-sellers-form',\r\n  templateUrl: './sellers-form.component.html',\r\n  styleUrls: ['./sellers-form.component.scss']\r\n})\r\nexport class SellersFormComponent {\r\n\r\n  sellConditions:string[] = [\"Contado\", \"Cuenta Corriente\"];\r\n  seller:any = {};\r\n  id:any;\r\n  subscription: Subscription;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private ordersService: OrdersService) {\r\n      this.id = this.route.snapshot.paramMap.get('id');\r\n      if (this.id) this.subscription = this.ordersService.getSeller(this.id).take(1).subscribe(p => {\r\n        this.seller = p.payload.val();\r\n      });\r\n    }\r\n\r\n  save(seller: any) {\r\n    if (confirm('Está segur@ que quiere guardar/crear este vendedor?')) {\r\n      if (this.id) {\r\n        this.ordersService.updateSeller(this.id, seller);\r\n      }\r\n      else {\r\n        this.ordersService.createSeller(seller);\r\n      }\r\n      this.router.navigate(['/admin/sellers']);\r\n    }\r\n  }\r\n\r\n  delete() {\r\n    if (confirm('Está segur@ que quiere borrar este vendedor? No podrá recuperarlo')) {\r\n      this.ordersService.deleteSeller(this.id);\r\n      this.router.navigate(['/admin/sellers']);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n  }\r\n}\r\n","export const isMobile = checkIsMobile();\r\n\r\nfunction checkIsMobile(): boolean {\r\n  return window.innerWidth <= 1000;\r\n}\r\n","<div>\r\n  <!-- <div *ngIf=\"loading\" class=\"SCContainer mt-5 ms-5 spinner-border text-primary\" role=\"status\">\r\n    <span class=\"visually-hidden\"></span>\r\n  </div> -->\r\n  <div class=\"login-btn ms-4\" *ngIf=\"!appUser\">\r\n    <button (click)=\"this.auth.login()\" mat-raised-button color=\"accent\">Login with google</button>\r\n  </div>\r\n\r\n  <br><br>\r\n  <div class=\"container mt-5\">\r\n    <img *ngIf=\"utilityService.navBarLoading && appUser\" class=\"img-fluid\" [src]=\"isMobile ? '../../assets/intro-mob.png' : '../../assets/intro.png'\" [ngClass]=\"{ 'move-animation': true }\">\r\n    <img *ngIf=\"!utilityService.navBarLoading && !appUser\" class=\"img-fluid\" [src]=\"isMobile ? '../../assets/intro2-mob.png' : '../../assets/intro2.png'\">\r\n    <img *ngIf=\"utilityService.navBarLoading && !appUser\" class=\"img-fluid\" [src]=\"isMobile ? '../../assets/loguear-mob.png' : '../../assets/loguear.png'\">\r\n    <img *ngIf=\"!utilityService.navBarLoading && appUser\" class=\"img-fluid\" [src]=\"isMobile ? '../../assets/otra-mob.png' : '../../assets/otra.png'\">\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, OnDestroy, HostListener } from '@angular/core';\r\nimport { UtilityService } from '../services/utility.service';\r\nimport { AppUser } from '../models/app-user';\r\nimport { Subscription } from 'rxjs';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-log-check',\r\n  templateUrl: './log-check.component.html',\r\n  styleUrls: ['./log-check.component.scss']\r\n})\r\nexport class LogCheckComponent implements OnInit, OnDestroy {\r\n\r\n  isMobile: boolean;\r\n  appUser: AppUser;\r\n  subscription: Subscription;\r\n  MOBILE_SIZE: number = 1000;\r\n\r\n  constructor(\r\n    public utilityService: UtilityService,\r\n    public auth: AuthService\r\n    ) {\r\n      this.isMobile = window.innerWidth <= this.MOBILE_SIZE;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.subscription = this.auth.appUser$.subscribe(appUser => {\r\n      this.appUser = appUser;\r\n    });\r\n  }\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(event: any) {\r\n    this.isMobile = window.innerWidth <= this.MOBILE_SIZE;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n}\r\n","<h1 *ngIf=\"!production\">-----SITIO EN MANTENIMIENTO DISCULPE LAS MOLESTIAS - REINTENTE MAÑANA SÁBADO POR LA TARDE----</h1>\r\n<mat-toolbar color=\"primary\" *ngIf=\"production && !isMobile\">\r\n  <a *ngIf=\"appUser!=undefined && appUser?.isAdmin\" mat-button class=\"foc\" routerLink=\"/dashboard\">Gráficos</a>\r\n  <div class=\"spacer\"></div>\r\n  <ng-template #anonymousUser>\r\n    <a mat-button routerLink=\"/\" class=\"foc\">Login</a>\r\n  </ng-template>\r\n  <a mat-button class=\"foc\" routerLink=\"orders/orders\" *ngIf=\"appUser\">Pedidos</a>\r\n  <a mat-button class=\"foc\" routerLink=\"payments/payments\" *ngIf=\"appUser\">Cobros</a>\r\n  <a mat-button class=\"foc\" routerLink=\"client/client\" *ngIf=\"appUser\">Clientes</a>\r\n  <a mat-button class=\"foc\" routerLink=\"stock/stock\" *ngIf=\"appUser?.isAdmin\">Stock</a>\r\n  <a mat-button class=\"foc\" routerLink=\"pruebas/prueba\" *ngIf=\"appUser && appUser.name=='Tecnología & Programación'\">Prueba</a>\r\n  <!-- <mat-chip class=\"navbar-chip\" *ngIf=\"getTotalItems() !== 0\" color=\"accent\" selected>&nbsp;&nbsp;&nbsp;{{getTotalItems()}}&nbsp;&nbsp;&nbsp;</mat-chip> -->\r\n\r\n  <a mat-menu-item></a>\r\n\r\n  <button class=\"me-5\" mat-button class=\"foc\" *ngIf=\"appUser; else anonymousUser\" [matMenuTriggerFor]=\"appMenu\">{{appUser.name}}<mat-icon>expand_more</mat-icon></button>\r\n  <mat-menu #appMenu=\"matMenu\" >\r\n    <ng-container *ngIf=\"appUser!=undefined && (appUser.isAdmin || appUser.isSalesManager)\">\r\n      <a *ngIf=\"appUser!=undefined && appUser.isAdmin\" mat-menu-item routerLink=\"/admin/clients\">Administrar Clientes</a>\r\n      <a *ngIf=\"appUser!=undefined && appUser.isAdmin\" mat-menu-item routerLink=\"/admin/prods\">Administrar Productos</a>\r\n      <a *ngIf=\"appUser!=undefined && appUser.isAdmin\" mat-menu-item routerLink=\"/admin/sellers\">Administrar Vendedores</a>\r\n    </ng-container>\r\n    <a *ngIf=\"appUser!=undefined && appUser.isAdmin\" mat-menu-item routerLink=\"replaces/replaces\">Reemplazos</a>\r\n    <a mat-menu-item routerLink=\"commissions/commissionsDash\">Comisiones</a>\r\n    <a mat-menu-item (click)=\"logout()\">Log Out</a>\r\n  </mat-menu>\r\n  <div class=\"ms-5 d-none d-lg-block\">\r\n    <h2 *ngIf=\"appUser\">GENTECH - MAR DEL PLATA</h2>\r\n  </div>\r\n</mat-toolbar>\r\n<div *ngIf=\"loading && appUser\" class=\"SCContainer mt-5 ms-5 spinner-border text-primary\" role=\"status\">\r\n  <span class=\"visually-hidden\"></span>\r\n</div>\r\n<div *ngIf=\"production && !loading\" class=\"version\"><button style=\"color: white; background-color: rgb(63, 82, 180); border: 0px;\">{{VERSION}}</button></div>\r\n","import { Component, HostListener, OnInit } from '@angular/core';\r\nimport { AppUser } from '../models/app-user';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { OrdersService } from '../services/orders.service';\r\nimport { Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { UtilityService } from '../services/utility.service';\r\n\r\n@Component({\r\n  selector: 'mat-navbar',\r\n  templateUrl: './mat-navbar.component.html',\r\n  styleUrls: ['./mat-navbar.component.scss']\r\n})\r\nexport class MatNavbarComponent implements OnInit{\r\n\r\n  VERSION = \"V120021\"\r\n  MOBILE_SIZE: number = 1000;\r\n  appUser: AppUser;\r\n  sellers: any;\r\n  production = true;\r\n  loading = true;\r\n  isMobile = false;\r\n\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n\r\n\r\n  constructor(\r\n    private auth: AuthService,\r\n    private ordersService: OrdersService,\r\n    private router: Router,\r\n    private utilityService: UtilityService\r\n    ) {\r\n      this.isMobile = window.innerWidth <= this.MOBILE_SIZE;\r\n  }\r\n\r\n  logout() {\r\n    this.auth.logout();\r\n  }\r\n\r\n  getTotalItems() {\r\n    // let order = this.ordersService.getOrder();\r\n    // return 0;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.subscription = this.auth.appUser$.subscribe(appUser => {\r\n      this.appUser = appUser;\r\n      if (appUser) {\r\n        this.ordersService.appUser = this.appUser;\r\n        this.subscription2 = this.ordersService.getAllSellers().subscribe(sellers => {\r\n          this.sellers = sellers;\r\n          let create = true;\r\n          for (let i=0;i<this.sellers.length;i++) {\r\n            if (this.sellers[i].payload.val().name == this.appUser.name) create = false;\r\n          }\r\n          if (create) {\r\n            this.ordersService.createSeller({\r\n              \"address\": \"\",\r\n              \"cuil\": \"\",\r\n              \"name\": appUser.name,\r\n              \"phone\": \"\"\r\n            });\r\n          }\r\n          this.loading = false;\r\n          this.utilityService.navBarLoading = false;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(event: any) {\r\n    this.isMobile = window.innerWidth <= this.MOBILE_SIZE;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n  }\r\n}\r\n","<mat-toolbar color=\"primary\" class=\"mat-elevation-z6\">\r\n  <button mat-icon-button (click)=\"toggleMenu()\">\r\n    <mat-icon>menu</mat-icon>\r\n  </button>\r\n  <span *ngIf=\"appUser\" class=\"menu-title\">{{appUser.name}}</span>\r\n</mat-toolbar>\r\n\r\n<mat-sidenav-container class=\"menu-container\">\r\n  <mat-sidenav #sidenav class=\"menu-sidenav\" [mode]=\"'over'\" [opened]=\"isMenuOpen\">\r\n    <mat-nav-list>\r\n      <a mat-list-item routerLink=\"/\" *ngIf=\"!appUser\" (click)=\"isMenuOpen=false\">Login</a>\r\n      <a mat-list-item routerLink=\"orders/orders\" *ngIf=\"appUser\" (click)=\"isMenuOpen=false\">Pedidos</a>\r\n      <a mat-list-item routerLink=\"payments/payments\" *ngIf=\"appUser\" (click)=\"isMenuOpen=false\">Cobros</a>\r\n      <a mat-list-item routerLink=\"client/client\" *ngIf=\"appUser && !appUser?.isAdmin\" (click)=\"isMenuOpen=false\">Clientes</a>\r\n      <a mat-list-item routerLink=\"stock/stock\" *ngIf=\"appUser?.isAdmin\" (click)=\"isMenuOpen=false\">Stock</a>\r\n      <a mat-list-item routerLink=\"admin/clients\" *ngIf=\"appUser?.isAdmin\" (click)=\"isMenuOpen=false\">Clientes</a>\r\n      <a mat-list-item routerLink=\"admin/prods\" *ngIf=\"appUser?.isAdmin\" (click)=\"isMenuOpen=false\">Productos</a>\r\n      <a mat-list-item routerLink=\"admin/sellers\" *ngIf=\"appUser?.isAdmin\" (click)=\"isMenuOpen=false\">Vendedores</a>\r\n      <a mat-list-item routerLink=\"dashboard\" *ngIf=\"appUser?.isAdmin\" (click)=\"isMenuOpen=false\">Gráficos</a>\r\n      <a mat-list-item *ngIf=\"appUser\" (click)=\"logout(); isMenuOpen=false\">Log Out</a>\r\n    </mat-nav-list>\r\n  </mat-sidenav>\r\n\r\n  <mat-sidenav-content class=\"custom-sidenav-content\">\r\n    <router-outlet></router-outlet>\r\n  </mat-sidenav-content>\r\n</mat-sidenav-container>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { OrdersService } from '../services/orders.service';\r\nimport { Router } from '@angular/router';\r\nimport { UtilityService } from '../services/utility.service';\r\nimport { AppUser } from '../models/app-user';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.scss']\r\n})\r\nexport class MenuComponent implements OnInit {\r\n\r\n  isMenuOpen = false;\r\n  MOBILE_SIZE: number = 1000;\r\n  appUser: AppUser;\r\n  sellers: any;\r\n  production = true;\r\n  loading = true;\r\n\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n\r\n  constructor(\r\n    public auth: AuthService,\r\n    private ordersService: OrdersService,\r\n    private utilityService: UtilityService,\r\n    private router: Router\r\n    ) { }\r\n\r\n  ngOnInit() {\r\n    this.subscription = this.auth.appUser$.subscribe(appUser => {\r\n      this.appUser = appUser;\r\n      if (appUser) {\r\n        this.ordersService.appUser = this.appUser;\r\n        this.subscription2 = this.ordersService.getAllSellers().subscribe(sellers => {\r\n          this.sellers = sellers;\r\n          let create = true;\r\n          for (let i=0;i<this.sellers.length;i++) {\r\n            if (this.sellers[i].payload.val().name == this.appUser.name) create = false;\r\n          }\r\n          if (create) {\r\n            this.ordersService.createSeller({\r\n              \"address\": \"\",\r\n              \"cuil\": \"\",\r\n              \"name\": appUser.name,\r\n              \"phone\": \"\"\r\n            });\r\n          }\r\n          this.loading = false;\r\n          this.utilityService.navBarLoading = false;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  toggleMenu() {\r\n    this.isMenuOpen = !this.isMenuOpen\r\n  }\r\n\r\n  logout() {\r\n    this.auth.logout();\r\n    this.appUser = {\r\n      name: \"\"\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport 'rxjs/add/operator/take';\r\nimport { CategoryService } from '../services/category.service';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { AppUser } from '../models/app-user';\r\nimport { OrdersService } from '../services/orders.service';\r\nimport { FormControl } from '@angular/forms';\r\nimport { map, startWith } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-payment',\r\n  templateUrl: './payment.component.html',\r\n  styleUrls: ['./payment.component.scss']\r\n})\r\nexport class PaymentComponent implements OnInit {\r\n\r\n  clients: any;\r\n  payWays: any\r\n  payment:any = {};\r\n  id:any;\r\n  appUser: AppUser;\r\n  filteredClients:any[] = [];\r\n  filteredOptions:  Observable<any[]>;\r\n  orders:any[] = [];\r\n  filteredOrders:any[] = [];\r\n  myControl = new FormControl();\r\n  clientFantasyName:string=\"\";\r\n\r\n\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n  subscription3: Subscription;\r\n  subscription4: Subscription;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private auth: AuthService,\r\n    private categoryService: CategoryService,\r\n    private ordersService: OrdersService)\r\n    {\r\n      this.subscription = this.auth.appUser$.subscribe(appUser => {\r\n        this.appUser = appUser\r\n        this.subscription2 = ordersService.getAllOrders().subscribe(orders => {\r\n          this.ordersService.orders = this.filteredOrders = orders;\r\n        })\r\n        this.subscription3 = ordersService.getAllClients().subscribe(clients =>{\r\n          this.clients = clients;\r\n          this.filteredClients = [];\r\n          for (let i=0;i<this.clients.length;i++) {\r\n            if (appUser.isAdmin || this.clients[i].payload.val().designatedSeller == this.appUser.name) {\r\n              this.filteredClients.push(this.clients[i]);\r\n            }\r\n          }\r\n        });\r\n        this.filteredOptions = this.myControl.valueChanges.pipe(startWith(''),\r\n        map(value =>  value? this._filter(value) : this._filter(\"\"))\r\n        )\r\n        this.subscription4 = categoryService.getAllPaysCategories().subscribe(payWays =>{\r\n          this.payWays = payWays;\r\n        });\r\n      });\r\n    }\r\n\r\n  save(payment: any) {\r\n    if (confirm('Está segur@ que quiere guardar este cobro?')) {\r\n      payment.sellerName = this.appUser.name;\r\n      payment.client = this.clientFantasyName;\r\n      this.ordersService.createPayment(payment, this.clients);\r\n      // IMPORTANTE LO DE ABAJO!!!!!!!!!!!!!!!!!!!!!!!!!\r\n      this.ordersService.setPaymentsToAll(); // aca aseguro que los pedidos pagos queden con fecha de pago.\r\n      this.router.navigate(['/payments/payments']);\r\n    }\r\n  }\r\n\r\n  private _filter(value: any): any {\r\n    const filterValue = value.toLowerCase();\r\n    if (!this.filteredClients) return;\r\n    let listFiltrada = this.filteredClients.filter(client => client.payload.val().fantasyName.toLowerCase().includes(filterValue));\r\n    return listFiltrada\r\n  }\r\n\r\n  cancel() {\r\n    this.router.navigate(['/payments/payments']);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onChooseClient() {\r\n    this.filteredOrders = [];\r\n      for (let i=0;i<this.ordersService.orders.length;i++) {\r\n        if (this.ordersService.orders[i].payload.val().clientFantasyName.toLowerCase().includes(this.payment.client.toLowerCase())) this.filteredOrders.push(this.ordersService.orders[i])\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n    this.subscription3.unsubscribe();\r\n    this.subscription4.unsubscribe();\r\n  }\r\n}\r\n","<div id='productsList'>\r\n  <h1>COBRO</h1>\r\n  <hr>\r\n  <h3>*IMPORTANTE VENDEDORES: Si el cobro fue menor al valor exacto del pedido, porque por ejemplo se redondeoó para abajo, igual deben cargar un monto total que llegué a cubrir la totalidad del pedido, sino se arrastrará una deuda que va a generar inconvenientes para calcular las deudas del cliente. Por ejemplo, si el pedido era de $126.200 y uds le cobraron 126.000, a la hora de cargar el cobro deberán cargar los $126.200 y avisar.</h3>\r\n  <hr>\r\n  <form #f=\"ngForm\" (ngSubmit)=\"save(f.value)\" class=\"example-form\">\r\n\r\n    <mat-form-field class=\"example-full-width\" appearance=\"fill\">\r\n      <mat-label>Cliente</mat-label>\r\n      <input name=\"client\" type=\"text\" placeholder=\"Elija uno\" matInput required\r\n      [formControl]=\"myControl\" [matAutocomplete]=\"auto\" [(ngModel)]=\"clientFantasyName\">\r\n      <mat-autocomplete #auto=\"matAutocomplete\">\r\n        <mat-option *ngFor=\"let client of this.filteredOptions | async\" [value]=\"client.payload.val().fantasyName\">\r\n          {{client.payload.val().fantasyName}}\r\n        </mat-option>\r\n      </mat-autocomplete>\r\n      <mat-hint>Seleccione el cliente</mat-hint>\r\n    </mat-form-field>\r\n\r\n\r\n    <mat-form-field class=\"example-full-width m-sm-1\" appearance=\"fill\">\r\n      <mat-label>Monto</mat-label>\r\n      <input matInput  [(ngModel)]=\"payment.amount\" name=\"amount\" placeholder=\"Monto\" [min]=\"0\" required>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"example-full-width\" appearance=\"fill\">\r\n      <mat-label>Nº de factura asociado</mat-label>\r\n      <mat-select #orderNumber=\"ngModel\" [(ngModel)]=\"payment.orderNumber\" name=\"orderNumber\">\r\n        <mat-option *ngFor=\"let order of filteredOrders\" [value]=\"order.payload.val().orderNumber\">\r\n          {{order.payload.val().orderNumber}}\r\n        </mat-option>\r\n      </mat-select>\r\n      <mat-hint>Dato Opcional</mat-hint>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"example-full-width ms-lg-1\" appearance=\"fill\">\r\n      <mat-label>Modo de Pago</mat-label>\r\n      <mat-select #payWay=\"ngModel\" [(ngModel)]=\"payment.payWay\" name=\"payWay\" required>\r\n        <mat-option *ngFor=\"let p of payWays\" [value]=\"p.name\">\r\n          {{p.name}}\r\n        </mat-option>\r\n      </mat-select>\r\n      <mat-hint>Seleccione el modo de pago</mat-hint>\r\n\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"example-full-width m-sm-1\" appearance=\"fill\">\r\n      <mat-label>Ingrese la fecha</mat-label>\r\n      <input matInput [(ngModel)]=\"payment.date\" [matDatepicker]=\"picker\" name=\"date\" required>\r\n      <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n      <mat-datepicker #picker></mat-datepicker>\r\n    </mat-form-field>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-3 col-lg-1\">\r\n        <button mat-raised-button type=\"submit\" color=\"primary\" [disabled]=\"!f.valid\">Guardar</button>\r\n      </div>\r\n      <div class=\"col\">\r\n        <button (click)=\"cancel()\" mat-raised-button type=\"button\" color=\"warn\">Descartar</button>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n\r\n\r\n","import { OrdersService } from 'src/app/services/orders.service';\r\nimport { StockService } from '../services/stock.service';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Sort } from '@angular/material/sort';\r\nimport { ProductService } from '../services/product.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { AppUser } from '../models/app-user';\r\nimport { DatePipe } from '@angular/common'\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { DateAdapter } from '@angular/material/core';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-payments',\r\n  templateUrl: './payments.component.html',\r\n  styleUrls: ['./payments.component.scss'],\r\n})\r\nexport class PaymentsComponent implements OnInit {\r\n\r\n  range = new FormGroup({\r\n    start: new FormControl(),\r\n    end: new FormControl()\r\n  });\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n\r\n  appUser: AppUser;\r\n\r\n  payment: any;\r\n  payments: any[];\r\n  userPayments: any[] = [];\r\n  clients: any;\r\n  userClients: string[];\r\n  titles: string[]=[];\r\n  query: {client: string, seller: string, date: string, dateRange: {start: Date, end: Date}} = {client: \"\", seller: \"\", date: \"\", dateRange: {start: new Date(2017, 1, 1), end: new Date(2040, 1, 1)}}\r\n  filteredPayments: any[];\r\n  dateRangefilteredPayments: any[];\r\n  datefilteredPayments: any[];\r\n  products:any[];\r\n  date: any;\r\n  dateValue: string;\r\n  clientValue: string;\r\n  sellerValue: string;\r\n  currentItemsToShow: any[];\r\n  title: string;\r\n  quantity: number;\r\n  sortedData: any[];\r\n  aproved: string[] = [\"NO\", \"SI\"];\r\n  selected: string = \"NO\";\r\n  aproveFirst:boolean = false;\r\n  loading: boolean = true;\r\n\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n  subscription3: Subscription;\r\n\r\n  constructor(private productService: ProductService, private route: ActivatedRoute,\r\n    private auth: AuthService, public datepipe: DatePipe, public stockService: StockService,\r\n    private dateAdapter: DateAdapter<Date>, private ordersService: OrdersService) {\r\n    this.dateAdapter.setLocale('en-GB'); //dd/MM/yyyy\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.filter(\"\");\r\n    this.subscription = this.auth.appUser$.subscribe(appUser => {\r\n      this.subscription2 = this.ordersService.getAllPayments().subscribe(payments => {\r\n        this.appUser = appUser;\r\n        this.subscription3 = this.ordersService.getAllClients().subscribe(clients => {\r\n          this.clients = clients;\r\n          this.userClients = this.ordersService.getUserClients(appUser?.name);\r\n          this.payments = payments;\r\n          this.userPayments = [];\r\n          this.dateRangefilteredPayments = [];\r\n          this.currentItemsToShow = [];\r\n\r\n          for (let i=0;i<this.payments.length;i++) {\r\n            let isUserPayment = this.payments[i].payload.val().sellerName == this.appUser?.name;\r\n            let isUserClient = this.isClientInUserClients(this.payments[i].payload.val().client, this.userClients);\r\n            if (this.appUser && (this.appUser.isAdmin || this.appUser.isSalesManager || isUserPayment || isUserClient)) {\r\n              this.userPayments.push(this.payments[i]);\r\n            }\r\n          }\r\n\r\n          this.dateRangefilteredPayments = this.datefilteredPayments = this.filteredPayments = this.userPayments; //ver que hace??\r\n\r\n          if (this.ordersService.fantasyName) { // esto es para desde clientes ver los cobros de un cliente en particular\r\n            this.filter(this.ordersService.fantasyName); // idem\r\n            this.clientValue = this.ordersService.fantasyName; // idem\r\n            this.ordersService.fantasyName = \"\"; // idem\r\n          }\r\n\r\n          //this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.filteredPayments.length})\r\n          if (this.ordersService.fantasyName) { // esto es para desde clientes ver los cobros de un cliente en particular\r\n            // this.dateValue = \"\";\r\n            this.clientValue = this.ordersService.fantasyName; // idem\r\n            this.filter(this.ordersService.fantasyName); // idem\r\n            this.ordersService.fantasyName = \"\"; // idem\r\n            this.filterByDate(\"\");\r\n          }\r\n          this.currentItemsToShow = this.filteredPayments;\r\n          this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.filteredPayments.length})\r\n          if (this.paginator) this.paginator.pageIndex = 0;\r\n          this.loading = false;\r\n          //this.clearRange();\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  filter(query: string) {\r\n    this.query.client = query;\r\n    this.filteredPayments = [];\r\n    for (let i=0;i<this.userPayments.length;i++) {\r\n      if (this.userPayments[i].payload.val().client.toLowerCase().includes(query.toLowerCase())\r\n      && this.userPayments[i].payload.val().sellerName.toLowerCase().includes(this.query.seller.toLowerCase())\r\n      && this.datepipe.transform(this.userPayments[i].payload.val().date, 'dd/MM/yyyy HH:mm')?.includes(this.query.date) )\r\n      this.filteredPayments.push(this.userPayments[i]);\r\n    }\r\n    this.filteredPayments.filter(p => p.payload.val().date > this.query.dateRange.start.getTime() && p.payload.val().date < this.query.dateRange.start.getTime());\r\n    this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.filteredPayments.length});\r\n    if (this.paginator) this.paginator.pageIndex = 0;\r\n  }\r\n\r\n  filterBySeller(query: string) {\r\n    this.query.seller = query;\r\n    this.filteredPayments = [];\r\n    for (let i=0;i<this.userPayments.length;i++) {\r\n      if (this.userPayments[i].payload.val().client.toLowerCase().includes(this.query.client.toLowerCase())\r\n      && this.userPayments[i].payload.val().sellerName.toLowerCase().includes(query.toLowerCase())\r\n      && this.datepipe.transform(this.userPayments[i].payload.val().date, 'dd/MM/yyyy HH:mm')?.includes(this.query.date) ) {\r\n        this.filteredPayments.push(this.userPayments[i])\r\n      }\r\n    }\r\n    this.filteredPayments.filter(p => p.payload.val().date > this.query.dateRange.start.getTime() && p.payload.val().date < this.query.dateRange.start.getTime());\r\n\r\n    this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.filteredPayments.length});\r\n    if (this.paginator) this.paginator.pageIndex = 0;\r\n  }\r\n\r\n  filterByDate(query: string) {\r\n    this.query.date = query;\r\n    this.filteredPayments = [];\r\n    for (let i=0;i<this.userPayments.length;i++) {\r\n      if (this.userPayments[i].payload.val().client.toLowerCase().includes(this.query.client.toLowerCase())\r\n      && this.userPayments[i].payload.val().sellerName.toLowerCase().includes(this.query.seller.toLowerCase())\r\n      && this.datepipe.transform(this.userPayments[i].payload.val().date, 'dd/MM/yyyy HH:mm')?.includes(query) )\r\n      this.filteredPayments.push(this.userPayments[i]);\r\n    }\r\n    this.filteredPayments.filter(p => p.payload.val().date > this.query.dateRange.start.getTime() && p.payload.val().date < this.query.dateRange.start.getTime());\r\n    this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.filteredPayments.length});\r\n    if (this.paginator) this.paginator.pageIndex = 0;\r\n  }\r\n\r\n  searchDateRange(range: any) {\r\n    if (range.start) {\r\n      this.filteredPayments = [];\r\n      for (let i=0;i<this.userPayments.length;i++) {\r\n        if (this.userPayments[i].payload.val().client.toLowerCase().includes(this.query.client.toLowerCase())\r\n        && this.userPayments[i].payload.val().sellerName.toLowerCase().includes(this.query.seller.toLowerCase())\r\n        && this.datepipe.transform(this.userPayments[i].payload.val().date, 'dd/MM/yyyy HH:mm')?.includes(this.query.date) )\r\n        this.filteredPayments.push(this.userPayments[i]);\r\n      }\r\n      this.filteredPayments = (range) ?\r\n      this.filteredPayments.filter(p => p.payload.val().date >= Date.parse(range.start._d) && p.payload.val().date <= Date.parse(range.end._d)):\r\n      this.filteredPayments;\r\n      this.query.dateRange.start = new Date(Date.parse(range.start?._d));\r\n      this.query.dateRange.end = new Date(Date.parse(range.end?._d));\r\n    }\r\n    this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.filteredPayments.length});\r\n    if (this.paginator) this.paginator.pageIndex = 0;\r\n  }\r\n\r\n  isClientInUserClients(fantasyName: string, userClients: string[]): boolean {\r\n    for (let i=0;i<userClients.length;i++) {\r\n      if (fantasyName.toLowerCase().includes(userClients[i].toLowerCase().trim())) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  sortData(sort: Sort) {\r\n    const data = this.filteredPayments;\r\n    if (!sort.active || sort.direction === '') {\r\n      this.sortedData = data;\r\n      return;\r\n    }\r\n\r\n    this.sortedData = data.sort((a: any, b: any) => {\r\n      const isAsc = sort.direction === 'asc';\r\n      switch (sort.active) {\r\n        case 'cliente': return this.compare(a.payload.val().client, b.payload.val().client, isAsc);\r\n        case 'amount': return this.compare(a.payload.val().amount, b.payload.val().amount, isAsc);\r\n        case 'payWay': return this.compare(a.payload.val().payWay, b.payload.val().payWay, isAsc);\r\n        case 'seller': return this.compare(a.payload.val().sellerName, b.payload.val().sellerName, isAsc);\r\n        case 'date': return this.compare(a.payload.val().date, b.payload.val().date, isAsc);\r\n        default: return 0;\r\n      }\r\n    });\r\n  }\r\n\r\n  onPageChange($event: any) {\r\n    this.currentItemsToShow = this.filteredPayments.slice(\r\n      $event.pageIndex * $event.pageSize,\r\n      $event.pageIndex * $event.pageSize + $event.pageSize\r\n    );\r\n  }\r\n\r\n  getTitle(item: any) {\r\n    return item.title;\r\n  }\r\n\r\n  compare(a: number | string, b: number | string, isAsc: boolean) {\r\n    return (a < b ? -1 : 1) * (isAsc ? 1 : -1);\r\n  }\r\n\r\n  getTotal() {\r\n    let total = 0;\r\n    if (this.filteredPayments) {\r\n\r\n      this.filteredPayments.forEach(payment => {\r\n        total += parseFloat(payment.payload.val().amount);\r\n      });\r\n    }\r\n    return total;\r\n  }\r\n\r\n  removePayment(paymentId: any) {\r\n    this.ordersService.removePayment(paymentId);\r\n  }\r\n\r\n  aprove(payment: any) {\r\n    if (confirm('Está segur@ que quiere aprobar el pedido para que pueda ser entregada la mercadería?')) {\r\n      this.stockService.aprove(payment);\r\n      this.ordersService.aprovePayment(payment);\r\n    }\r\n  }\r\n\r\n  clearRange() {\r\n    this.range.setValue({\r\n      start: null,\r\n      end: null\r\n    });\r\n    this.sellerValue = \"\";\r\n    this.clientValue = \"\";\r\n    this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.filteredPayments.length});\r\n    if (this.paginator) this.paginator.pageIndex = 0;\r\n\r\n  }\r\n\r\n  remove(pay: any) {\r\n    if (confirm('Está segur@ que quiere eliminar este cobro?')) {\r\n      //if (pay.payload.val().orderNumber > 0) this.ordersService.restoreOrderAmount(pay);\r\n      this.ordersService.removePayment(pay.key);\r\n      //this.ordersService.addPaymentAmount(pay.payload.val().client, -1*pay.payload.val().amount, this.clients)\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription?.unsubscribe();\r\n    this.subscription2?.unsubscribe();\r\n    this.subscription3?.unsubscribe();\r\n  }\r\n}\r\n","<div *ngIf=\"loading\" class=\"SCContainer ml-5 ms-5 spinner-border text-primary\" role=\"status\">\r\n  <span class=\"visually-hidden\"></span>\r\n</div>\r\n\r\n<div class=\"SCContainer ms-1\" *ngIf=\"!loading && appUser\">\r\n  <div class=\"row\">\r\n    <div class=\"col-6 col-md-4 ms-2 mt-1\"><h1>COBROS</h1></div>\r\n    <div class=\"col-6 col-md-4\">\r\n      <a mat-icon-button routerLink=\"/payments/payment\"><mat-icon>control_point</mat-icon><span>Cargar Cobro</span></a>\r\n    </div>\r\n    <div class=\"col\" *ngIf=\"appUser.isAdmin\">\r\n      <a mat-icon-button routerLink=\"/payments/creditNote\"><mat-icon>control_point</mat-icon><span>Nota de Crédito</span></a>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n\r\n  <div>\r\n    <div class=\"row\">\r\n      <div class=\"col-6 col-md-4 my-1\">\r\n        <div class=\"input-group\">\r\n          <div>\r\n            <mat-icon matSuffix>search</mat-icon>\r\n          </div>\r\n          <input class=\"border-end-0 border rounded-pill\" [(ngModel)]=\"clientValue\" #query (ngModelChange)=\"filter(query.value)\" (keyup)=\"filter(query.value)\" type=\"text\" placeholder=\"   Nombre de Fantasía...\">\r\n        </div>\r\n      </div>\r\n      <div class=\"col-6 col-md-4 my-1\">\r\n        <div class=\"input-group\">\r\n          <div>\r\n            <mat-icon matSuffix>search</mat-icon>\r\n          </div>\r\n          <input class=\"border-end-0 border rounded-pill\" [(ngModel)]=\"sellerValue\" #sellerquery (keyup)=\"filterBySeller(sellerquery.value)\" type=\"text\" placeholder=\"   Vendedor...\">\r\n        </div>\r\n      </div>\r\n      <div class=\"col-6 col-md-4 my-1\">\r\n        <div class=\"input-group\">\r\n          <div>\r\n            <mat-icon matSuffix>search</mat-icon>\r\n          </div>\r\n          <input class=\"border-end-0 border rounded-pill\" [(ngModel)]=\"dateValue\" #Datequery (keyup)=\"filterByDate(Datequery.value)\" type=\"text\" placeholder=\"   Fecha...\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row row m-3\">\r\n      <form #f=\"ngForm\" (ngSubmit)=\"searchDateRange(range.value)\">\r\n        <mat-form-field appearance=\"fill\" class=\"m-1\">\r\n          <mat-label>Ingrese un rango de fechas</mat-label>\r\n          <mat-date-range-input [formGroup]=\"range\" [rangePicker]=\"picker\">\r\n            <input matStartDate formControlName=\"start\" placeholder=\"fecha inicio\">\r\n            <input matEndDate formControlName=\"end\" placeholder=\"fecha finalización\">\r\n\r\n          </mat-date-range-input>\r\n          <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n          <mat-date-range-picker #picker></mat-date-range-picker>\r\n\r\n          <mat-error *ngIf=\"range.controls.start.hasError('matStartDateInvalid')\">Invalid start date</mat-error>\r\n          <mat-error *ngIf=\"range.controls.end.hasError('matEndDateInvalid')\">Invalid end date</mat-error>\r\n        </mat-form-field>\r\n\r\n        <button class=\"m-1\" mat-raised-button type=\"submit\" color=\"primary\" >buscar por rango</button>\r\n        <button #query mat-raised-button color=\"accent\" (click)=\"clearRange()\">borrar búsqueda</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <table class=\"table table-striped table-sm mat-elevation-z8\" matSort (matSortChange)=\"sortData($event)\">\r\n    <thead>\r\n      <tr>\r\n        <th mat-sort-header=\"client\">Cliente</th>\r\n        <th mat-sort-header=\"amount\">Monto</th>\r\n        <th mat-sort-header=\"payWay\">Forma de Pago</th>\r\n        <th mat-sort-header=\"seller\">Vendedor</th>\r\n        <th mat-sort-header=\"date\">Fecha</th>\r\n        <th mat-sort-header=\"orderNumber\">Nro. Fact</th>\r\n        <th mat-sort-header=\"delete\" *ngIf =\"appUser.isAdmin\">Eliminar</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let pay of currentItemsToShow; let i = index\" >\r\n\r\n        <td>{{pay.payload.val().client}}&nbsp;&nbsp;</td>\r\n        <td>{{pay.payload.val().amount}}&nbsp;&nbsp;</td>\r\n        <td>{{pay.payload.val().payWay}}&nbsp;&nbsp;</td>\r\n        <td>{{pay.payload.val().sellerName}}&nbsp;&nbsp;</td>\r\n        <td>{{pay.payload.val().date | date:\"dd/MM/yyyy HH:mm\"}}&nbsp;&nbsp;&nbsp;&nbsp;</td>\r\n        <td>{{pay.payload.val().orderNumber}}&nbsp;&nbsp;</td>\r\n        <td *ngIf =\"appUser.isAdmin\"><button mat-icon-button (click)=\"remove(pay)\" color=\"accent\"><mat-icon>delete</mat-icon></button></td>\r\n    </tr>\r\n    <tr *ngIf=\"this.filteredPayments != this.userPayments\">\r\n      <th ms-3>TOTAL</th>\r\n      <th>${{getTotal() | number:'1.1-1'}}</th>\r\n    </tr>\r\n    </tbody>\r\n  </table>\r\n  <mat-paginator (page)=\"onPageChange($event)\" [length]=\"this.filteredPayments.length\" [pageSize]=\"10\" [pageSizeOptions]=\"[10, 20, 30]\"></mat-paginator>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n","import { OrdersService } from 'src/app/services/orders.service';\r\nimport { Component, Input, OnInit } from '@angular/core';\r\nimport { ChartOptions, ChartType } from 'chart.js';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-chart',\r\n  templateUrl: './pieChart.component.html',\r\n  styleUrls: ['./pieChart.component.scss']\r\n})\r\n\r\n\r\nexport class PieChartComponent implements OnInit {\r\n  @Input(\"orders\") orders: Array<any>;\r\n\r\n  // Pie\r\n  public pieChartOptions: ChartOptions = {\r\n    responsive: true,\r\n    legend: {\r\n      position: 'top',\r\n    },\r\n    plugins: {\r\n      datalabels: {\r\n        formatter: (_value: any, ctx: { chart: { data: { labels: { [x: string]: any; }; }; }; dataIndex: string | number; }) => {\r\n          const label = ctx.chart.data.labels[ctx.dataIndex];\r\n          return label;\r\n        },\r\n      },\r\n    }\r\n  };\r\n  public pieChartLabels: Array<string> =[]//= ['Barras', 'Proteinas', 'Quemadores', 'Recuperadores', 'Otros'];\r\n  public pieChartData: Array<any> = []//= [10, 20, 12, 6, 21];\r\n  public pieChartType: ChartType = 'pie';\r\n  public pieChartLegend = true;\r\n  // public pieChartColors = [\r\n  //   {\r\n  //     backgroundColor: ['rgba(255,0,0)', 'rgba(0,255,0)', 'rgba(0,0,255)', 'rgba(0,255,255)', 'rgba(255,255,0)'],\r\n  //   },\r\n  // ];\r\n\r\n  constructor(private ordersService: OrdersService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.pieChartLabels = [];\r\n    this.pieChartData = [];\r\n    let categories = this.getCategories(this.orders);\r\n    this.pieChartLabels = categories;\r\n    let amounts = this.getAmounts(this.orders, categories);\r\n    this.pieChartData = amounts;\r\n  }\r\n\r\n  // events\r\n  public chartClicked({ event, active }: { event: MouseEvent, active: {}[] }): void {\r\n    console.log(event, active);\r\n  }\r\n\r\n  public chartHovered({ event, active }: { event: MouseEvent, active: {}[] }): void {\r\n    console.log(event, active);\r\n  }\r\n\r\n  graphic(orders: any) {\r\n    this.pieChartLabels = [];\r\n    this.pieChartData = [];\r\n    let categories = this.getCategories(orders);\r\n    this.pieChartLabels = categories;\r\n    let amounts = this.getAmounts(orders, categories);\r\n    this.pieChartData = amounts;\r\n  }\r\n\r\n\r\n\r\n  getCategories(orders: any) {\r\n    let categories: string[] = []\r\n    for (let i=0;i<orders.length;i++) {\r\n      let products = this.ordersService.getOrderDetail(orders[i].key).payload.val().products;\r\n      for (let j=0;j<products.length; j++) {\r\n        if (!this.isCategoryIncluded(categories, products[j].category)) {\r\n          categories.push(products[j].category)\r\n        }\r\n      }\r\n    }\r\n    return categories;\r\n  }\r\n\r\n  isCategoryIncluded(categories: string[], category: string) {\r\n    for (let i=0;i<categories.length; i++) {\r\n      if (categories[i]==category) return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getAmounts(orders: any, categories: string[]) {\r\n    let amounts = [];\r\n    for (let i=0;i<categories.length;i++) {\r\n      let amount = 0;\r\n      for (let j=0;j<orders.length;j++) {\r\n        let products = this.ordersService.getOrderDetail(orders[j].key).payload.val().products;\r\n        for (let k=0;k<products.length; k++) {\r\n          if (products[k].category == categories[i]) {\r\n            amount += parseFloat(products[k].discountPrice)\r\n          }\r\n        }\r\n      }\r\n      amounts.push(amount)\r\n    }\r\n    return amounts;\r\n  }\r\n}\r\n","<div>\n  <div>\n    <div class=\"chart\">\n      <canvas baseChart\n        [data]=\"pieChartData\"\n        [labels]=\"pieChartLabels\"\n        [chartType]=\"pieChartType\"\n        [options]=\"pieChartOptions\"\n        [legend]=\"pieChartLegend\">\n      </canvas>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-prueba',\r\n  templateUrl: './prueba.component.html',\r\n  styleUrls: ['./prueba.component.scss']\r\n})\r\nexport class PruebaComponent implements OnInit {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n","<div class=\"container-form\">\r\n  <form #f=\"ngForm\" (ngSubmit)=\"replaceSeller(f.value)\">\r\n    <p>\r\n      <mat-form-field appearance=\"legacy\">\r\n        <mat-label>Vendedor Actual</mat-label>\r\n        <input #oldSeller=\"ngModel\" [(ngModel)]=\"form.oldSeller\" matInput name=\"oldSeller\" placeholder=\"\" required>\r\n        <mat-hint>Campo requerido</mat-hint>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field appearance=\"legacy\">\r\n        <mat-label>Nuevo Vendedor</mat-label>\r\n        <input #newSeller=\"ngModel\" [(ngModel)]=\"form.newSeller\" matInput name=\"newSeller\" placeholder=\"\" required>\r\n        <mat-hint>Campo requerido</mat-hint>\r\n      </mat-form-field>\r\n    </p>\r\n\r\n    <button mat-raised-button type=\"submit\" color=\"primary\" >Reemplazar</button>\r\n    <span *ngIf=\"finishShow\" class=\"ms-3\">***Reemplazo terminado***</span>\r\n    <span *ngIf=\"noMatch\" class=\"ms-3\">***No hubo coincidencias***</span>\r\n\r\n  </form>\r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { AppUser } from '../models/app-user';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { OrdersService } from '../services/orders.service';\r\n\r\n@Component({\r\n  selector: 'app-replaces',\r\n  templateUrl: './replaces.component.html',\r\n  styleUrls: ['./replaces.component.scss']\r\n})\r\nexport class ReplacesComponent implements OnInit {\r\n\r\n  appUser: AppUser;\r\n  clients: any;\r\n  finishShow: boolean = false;\r\n  noMatch: boolean = false;\r\n  form: any = {};\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n\r\n  constructor(private ordersService: OrdersService, private auth: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    this.subscription = this.ordersService.getAllClients().subscribe(clients => {\r\n      this.subscription2 = this.auth.appUser$.subscribe(appUser => {\r\n        this.appUser = appUser;\r\n        this.clients = clients;\r\n      });\r\n    });\r\n  }\r\n\r\n  replaceSeller(form: any) {\r\n    for (let i=0;i<this.clients.length;i++) {\r\n      if (this.clients[i].payload.val().designatedSeller == form.oldSeller.toString()) {\r\n        this.ordersService.update(this.clients[i].key, {\"designatedSeller\": form.newSeller.toString()})\r\n        this.finishShow = true;\r\n      }\r\n    }\r\n    if (this.finishShow == false) this.noMatch = true\r\n    setTimeout(()=> {\r\n      this.finishShow = false;\r\n      this.noMatch = false\r\n     }, 800);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport { UserService } from './user.service';\nimport { AuthService } from './auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdminAuthGuard implements CanActivate {\n\n  constructor(private auth: AuthService, private userService: UserService) { }\n\n  canActivate(): Observable<boolean> {\n   return this.auth.appUser$\n    .map((appUser :any) => appUser.isAdmin);\n }\n\n}\n","import { Injectable } from '@angular/core';\r\nimport {CanActivate, Router, RouterStateSnapshot} from '@angular/router'\r\nimport { AuthService } from './auth.service';\r\nimport 'rxjs/add/operator/map';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n\r\n  constructor(private auth: AuthService, private router: Router) { }\r\n\r\n  canActivate(route:any, state: RouterStateSnapshot) {\r\n    return this.auth.user$.map(user => {\r\n      if (user) return true;\r\n      this.router.navigate(['/'], {queryParams: { returnUrl: state.url }})\r\n      return false\r\n    });\r\n  }\r\n}\r\n","import { OrdersService } from './orders.service';\r\nimport { Injectable } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport firebase from 'firebase/app';\r\nimport { Observable } from 'rxjs';\r\nimport { UserService } from './user.service';\r\nimport 'rxjs/add/operator/switchMap';\r\nimport 'rxjs/add/observable/of';\r\nimport { AppUser } from '../models/app-user';\r\nimport { environment } from '../../environments/environment';\r\n\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n\r\n  user$: Observable<firebase.User | null>;\r\n  appUser: AppUser;\r\n  isAdmin: boolean;\r\n\r\n  constructor(public afAuth: AngularFireAuth, private route: ActivatedRoute, private router: Router, private userService: UserService) {\r\n      // if (!environment.production) {\r\n      //       this.afAuth.useEmulator('http://localhost:9099/');\r\n      // }\r\n\r\n\r\n      this.user$ = afAuth.authState;\r\n      //borrar desde aca\r\n      // const ordersRef = firebase.database().ref('orders');\r\n      // ordersRef.once('value')\r\n      // .then((snapshot) => {\r\n      //   const numChildren = snapshot.numChildren();\r\n      //   console.log('numero de orders:', numChildren);\r\n      // })\r\n\r\n      // const ordersDetail = firebase.database().ref('ordersDetail');\r\n      // ordersDetail.once('value')\r\n      // .then((snapshot) => {\r\n      //   const numChildren = snapshot.numChildren();\r\n      //   console.log('numero de ordersDetail:', numChildren);\r\n      // })\r\n\r\n    //borrar hasta aca\r\n  }\r\n\r\n\r\n  login() {\r\n    let returnUrl = this.route.snapshot.queryParamMap.get('returnUrl') || '';\r\n    localStorage.setItem('returnUrl', returnUrl);\r\n    return this.afAuth.signInWithPopup(new firebase.auth.GoogleAuthProvider()).then(()=> {\r\n      let returnUrl = localStorage.getItem('returnUrl');\r\n      if (returnUrl) {\r\n        this.router.navigateByUrl(returnUrl);\r\n      }\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    this.afAuth.signOut()\r\n    //location.reload();\r\n    this.router.navigateByUrl('/');\r\n  }\r\n\r\n  get appUser$() : Observable<AppUser> {\r\n    return this.user$\r\n    .switchMap(user => {\r\n      if (user) return this.userService.get(user.uid);\r\n\r\n      return Observable.of(null);\r\n    })\r\n  }\r\n\r\n}\r\n","import { CommissionsService } from './commissions.service';\r\nimport { Injectable } from '@angular/core';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CategoryService {\r\n\r\n  categories: any;\r\n\r\n  constructor(private db: AngularFireDatabase) { }\r\n\r\n\r\n  getAllClientsCategories() {\r\n    return this.db.list('clientsCategories').valueChanges();\r\n  }\r\n\r\n  // getAllProdsCategories() {\r\n  //   return this.db.list('categories').valueChanges();\r\n  // }\r\n\r\n\r\n  getAllProdsCategories() {\r\n    return this.db.list('/productsCategories').snapshotChanges();\r\n\r\n  }\r\n\r\n  getAllPaysCategories() {\r\n    return this.db.list('payWay').valueChanges();\r\n  }\r\n\r\n  // setNewProdCategory(category: String) {\r\n  //   return this.db.list('/productsCategories').push({name: category});\r\n  // }\r\n\r\n  addProdCategory(category: String) {\r\n    return this.db.list('/productsCategories').push({name: category});\r\n  }\r\n}\r\n","import { CategoryService } from 'src/app/services/category.service';\r\nimport { AngularFireDatabase  } from '@angular/fire/database';\r\nimport { Injectable } from '@angular/core';\r\nimport firebase from 'firebase';\r\nimport { Observable } from 'rxjs';\r\nimport { OrdersService } from './orders.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CommissionsService {\r\n\r\n  totalSellerDebtDelayed: number;\r\n  prodsCategories: any[];\r\n  commissions: any[];\r\n\r\n  constructor(private db: AngularFireDatabase, private prodsCatService: CategoryService) {\r\n    console.log('commissions service constructor');\r\n    this.prodsCatService.getAllProdsCategories().subscribe((prodsCategories)=>{\r\n      this.prodsCategories = prodsCategories;\r\n      this.getCommissions().subscribe((commissions) => {\r\n        this.commissions = commissions\r\n      })\r\n    })\r\n   }\r\n\r\n  createCommissions() {\r\n    let rewardsArray = []\r\n    let prodsCat = []\r\n    for (let i=0; i<this.prodsCategories.length; i++) {\r\n      rewardsArray.push(\"0\");\r\n      prodsCat.push(this.prodsCategories[i].payload.val().name)\r\n    }\r\n    let today = new Date();\r\n\r\n    //SavedMonth is\r\n    let result = this.db.list('/commissions/').push({\r\n      \"minRetailTotalSales\": 700000,\r\n      \"retailPercent\": 0.05,\r\n      \"wholesalerPercent\": 0.01,\r\n      \"monthlyRate\": 0.07,\r\n      \"productsCategories\" : prodsCat,\r\n      \"rewardsGoals\": rewardsArray, //uso el mismo porque pongo 0 en todos y tienen el mismo length\r\n      \"rewards\": rewardsArray, //uso el mismo porque pongo 0 en todos y tienen el mismo length\r\n      \"monthCommissionsSavedDate\" : {\r\n        'month' : today.getMonth() + 1,\r\n        'year' : today.getFullYear()\r\n      }\r\n    });\r\n  }\r\n\r\n  public getCommissions() {\r\n    let result = this.db.list('/commissions').snapshotChanges();\r\n    return result;\r\n  }\r\n\r\n  public getCommissionsByMonth() {\r\n    let result = this.db.list('/commissionsByMonth').snapshotChanges();\r\n    return result;\r\n  }\r\n\r\n  update(commissions: any, commissionsForm: any) {\r\n    return this.db.object('/commissions/' + commissions[0].key).update({\r\n      \"minRetailTotalSales\": commissionsForm.minRetailTotalSales,\r\n      \"retailPercent\": commissionsForm.retailPercent,\r\n      \"wholesalerPercent\": commissionsForm.wholesalerPercent,\r\n      \"monthlyRate\": commissionsForm.monthlyRate,\r\n      \"rewards\" : commissionsForm.rewards,\r\n      \"rewardsGoals\" : commissionsForm.rewardsGoals,\r\n      //\"productsCategories\" : commissions[0].payload.val().productsCategories,\r\n      \"monthCommissionsSavedDate\" : {\r\n        'month' : commissions[0].payload.val().monthCommissionsSavedDate.month,\r\n        'year' : commissions[0].payload.val().monthCommissionsSavedDate.year\r\n      }\r\n    });\r\n  }\r\n\r\n  // este metodo no se usa\r\n  // addProdCategory(productsCategories: any) {\r\n  //   return this.db.object('/commissions/' + this.commissions[0].key).update({\r\n  //     \"minRetailTotalSales\": this.commissions[0].payload.val().minRetailTotalSales,\r\n  //     \"retailPercent\": this.commissions[0].payload.val().retailPercent,\r\n  //     \"wholesalerPercent\": this.commissions[0].payload.val().wholesalerPercent,\r\n  //     \"monthlyRate\": this.commissions[0].payload.val().monthlyRate,\r\n  //     \"rewards\" : this.commissions[0].payload.val().rewards,\r\n  //     \"rewardsGoals\" : this.commissions[0].payload.val().rewardsGoals,\r\n  //     \"productsCategories\" : productsCategories,\r\n  //     \"monthCommissionsSavedDate\" : {\r\n  //       'month' : this.commissions[0].payload.val().monthCommissionsSavedDate.month,\r\n  //       'year' : this.commissions[0].payload.val().monthCommissionsSavedDate.year\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  saveCommissionsByMonth(monthCommissions: any, commissions: any[]) {\r\n    let today = new Date();\r\n    let month = today.getMonth();\r\n    let year = today.getFullYear();\r\n    if (month == 0) {\r\n      month = 12;\r\n      year -= 1;\r\n    }\r\n    let result = this.db.object('/commissions/' + commissions[0].key).update({\r\n      \"minRetailTotalSales\": commissions[0].payload.val().minRetailTotalSales,\r\n      \"retailPercent\": commissions[0].payload.val().retailPercent,\r\n      \"wholesalerPercent\": commissions[0].payload.val().wholesalerPercent,\r\n      \"monthlyRate\": commissions[0].payload.val().monthlyRate,\r\n      //\"productsCategories\": commissions[0].payload.val().productsCategories,\r\n      \"rewardsGoals\": commissions[0].payload.val().rewardsGoals,\r\n      \"rewards\": commissions[0].payload.val().rewards,\r\n      \"monthCommissionsSavedDate\" : {\r\n        'month' : month,\r\n        'year' : year\r\n      }\r\n    });\r\n    this.db.list('/commissionsByMonth/').push(monthCommissions);\r\n  }\r\n\r\n  getSellerPenalty(monthlyRate: number, seller: string, orders: any[]) {\r\n    let today = new Date();\r\n    let monthPenalty = 0;\r\n    this.totalSellerDebtDelayed = 0;\r\n    for (let i=0;i<orders.length;i++) {\r\n\r\n      if (orders[i].payload.val().fantasyName.toLowerCase().includes(\"red line constituci\")) continue;else;\r\n      if (orders[i].payload.val().seller == seller && !orders[i].payload.val().fullPaymentDate) {\r\n        let delay = (today.getTime() - orders[i].payload.val().date)/(1000*60*60*24);\r\n        if (delay > 366) continue; else;\r\n        if (delay > 30 && delay < 60) {\r\n          monthPenalty += ((delay-30)/30) * monthlyRate * parseFloat(orders[i].payload.val().amountWithIva) / (1 + (parseFloat(orders[i].payload.val().iva)/100));\r\n          this.totalSellerDebtDelayed += parseFloat(orders[i].payload.val().amountWithIva);\r\n        }\r\n        else if (delay >= 60) {\r\n          monthPenalty += monthlyRate * parseFloat(orders[i].payload.val().amountWithIva);\r\n          //if (isNaN(monthPenalty)) console.log('es else', \" i \", i);\r\n          this.totalSellerDebtDelayed += parseFloat(orders[i].payload.val().amountWithIva);\r\n        }\r\n        else;\r\n      }\r\n      else;\r\n      //if (orders[i].payload.val().seller == \"Enrique Oyhamburu\") console.log('totalSellerDebtDelayed ', this.totalSellerDebtDelayed);\r\n    }\r\n    this.totalSellerDebtDelayed = Math.round(this.totalSellerDebtDelayed * 100) / 100;\r\n    monthPenalty = Math.round(monthPenalty * 10) / 10;\r\n    return monthPenalty;\r\n  }\r\n\r\n  getTotalSellerDebtDelayed(seller: string, orders: any) {\r\n    let today = new Date();\r\n    let totalSellerDebtDelayed = 0;\r\n    for (let i=0;i<orders.length;i++) {\r\n      if (orders[i].payload.val().seller == seller && !orders[i].payload.val().fullPaymentDate) {\r\n        let delay = (today.getTime() - orders[i].payload.val().date)/(1000*60*60*24);\r\n        if (delay > 366) continue; else;\r\n        if (delay > 30) {\r\n          totalSellerDebtDelayed += parseFloat(orders[i].payload.val().amountWithIva);\r\n        }\r\n        else;\r\n      }\r\n      else;\r\n    }\r\n    totalSellerDebtDelayed = Math.round(totalSellerDebtDelayed * 100) / 100;\r\n    return totalSellerDebtDelayed;\r\n  }\r\n}\r\n","import { EventEmitter, Injectable, OnChanges, OnDestroy, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { AngularFireDatabase, AngularFireObject } from '@angular/fire/database';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Subscription, forkJoin } from 'rxjs';\r\nimport 'rxjs/add/operator/take';\r\nimport { AppUser } from '../models/app-user';\r\nimport { AuthService } from './auth.service';\r\nimport { ProductService } from './product.service';\r\nimport { TOLERATED_DAYS, TOLERATED_DEBT } from '../constants';\r\nimport { Product } from '../models/product';\r\nimport { OrderDetail } from '../models/order-detail';\r\nimport { Order } from '../models/order';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n//...........concentra operaciones de pedidos, pagos, clientes y vendedors..............\r\nexport class OrdersService implements OnDestroy {\r\n\r\n  appUser: AppUser;\r\n  clientPageIndex: number;\r\n  clientPageSize: number;\r\n  clients: any[] = [];\r\n  clientsCurrentItemsToShow: any[];\r\n  clientsPaginator: {\"pageIndex\": number, \"pageSize\": number, \"length\": number} = {\"pageIndex\": 0, \"pageSize\": 10, \"length\": 0};\r\n  fantasyName: string;\r\n  filteredClients: any[];\r\n  filteredProducts: any[];\r\n  fromEditing: boolean;\r\n  itemsPerPage: number;\r\n  orders: any[];\r\n  ordersDetail: any[];\r\n  payment: any;\r\n  paymentId: any;\r\n  paymentIndex: number;\r\n  payments: any[];\r\n  products: any[];\r\n  prodsCategory: any;\r\n  query: any;\r\n  sellers: any[] = [];\r\n  subscriptions: Subscription[] = [];\r\n\r\n  constructor(\r\n    private db: AngularFireDatabase,\r\n    private productService: ProductService,\r\n    private auth: AuthService,\r\n    private route: ActivatedRoute\r\n    ) {\r\n\r\n      console.log('orders service constructor');\r\n      const sub = this.getAllSellers().subscribe(sellers => {\r\n        this.sellers = sellers;\r\n      });\r\n      this.subscriptions.push(sub)\r\n      const sub2 = this.auth.appUser$.subscribe(appUser => {\r\n        this.appUser = appUser;\r\n        //this.appUser = {name : \"Natalia Guevara\"}\r\n        this.filteredProducts = [];\r\n        const sub3 = this.productService.getAllProducts().subscribe(products => {\r\n          this.filteredProducts = this.products = products;\r\n          const sub4 = this.route.queryParamMap.subscribe(params => {\r\n            this.prodsCategory = params.get('prodsCategory');\r\n            if (this.products) {\r\n              this.filteredProducts = (this.prodsCategory) ?\r\n              this.products.filter((p: any) =>\r\n                p.payload.val().prodsCategory == this.prodsCategory) :\r\n              this.products;\r\n            }\r\n          });\r\n          this.subscriptions.push(sub4)\r\n        });\r\n        this.subscriptions.push(sub3)\r\n      });\r\n      this.subscriptions.push(sub2)\r\n      const sub6 = this.getAllClients().subscribe(clients => {\r\n        this.clients = clients;\r\n      });\r\n      this.subscriptions.push(sub6)\r\n      const sub7 = this.getAllOrders().subscribe(orders => {\r\n        this.orders = orders;\r\n\r\n        //NO BORRAR********************************************************\r\n        //---------------------------------------------------------\r\n        // if (this.orders[0].payload.val().order) { //borrar luego\r\n        //this.createOrdersdetails(this.orders)\r\n        // }\r\n        //---------------------------------------------------------\r\n\r\n      });\r\n      this.subscriptions.push(sub7)\r\n      const sub8 = this.getAllPayments().subscribe(payments => {\r\n        this.payments = payments;\r\n      });\r\n      this.subscriptions.push(sub8)\r\n      const sub9 = this.getAllOrdersDetail().subscribe(ordersDetail => {\r\n        this.ordersDetail = ordersDetail;\r\n      });\r\n      this.subscriptions.push(sub9)\r\n  }\r\n    //---------------------------------------------------------\r\n\r\n    //NO BORRAR********************************************************\r\n  // createOrdersdetails(orders: any[]): void { //borrar luego metodo redisenio\r\n\r\n  //   console.log('crea ordersDetail solo para migrar');\r\n  //   orders.forEach((order)=>{\r\n  //     if (!order.payload.val().fantasyName) {\r\n  //       let products: Product[]= []\r\n  //       order.payload.val().order.products.forEach((p: any) => {\r\n  //         let product: Product = {\r\n  //           title: p.product.title,\r\n  //           category: p.product.prodsCategory,\r\n  //           discountPrice: p.discountPrice,\r\n  //           quantity: p.quantity\r\n  //         }\r\n  //         p.discount ? product.discount = p.discount: 0;\r\n  //         products.push(product)\r\n  //       });\r\n  //         //console.log('orders[0].payload.val() ', order.payload.val());\r\n\r\n  //       let orderDetail: OrderDetail = {\r\n  //         products: products\r\n  //       }\r\n  //       let result = this.db.list('/ordersDetail/').push(orderDetail);\r\n\r\n  //       if (result.key) {\r\n  //         let ord: Order = {\r\n  //           amountWithIva: order.payload.val().amount,\r\n  //           aproved: order.payload.val().aproved,\r\n  //           date: order.payload.val().date,\r\n  //           fantasyName: order.payload.val().clientFantasyName,\r\n  //           iva: order.payload.val().iva,\r\n  //           orderDetailKey: result.key,\r\n  //           seller: order.payload.val().order.sellerName\r\n  //         }\r\n\r\n  //         order.payload.val().fullPaymentDate ? ord.fullPaymentDate = order.payload.val().fullPaymentDate: undefined;\r\n  //         order.payload.val().hasDiscount ? ord.hasDiscount = order.payload.val().hasDiscount: undefined;\r\n  //         order.payload.val().clientInDebt ? ord.clientInDebt = order.payload.val().clientInDebt: undefined;\r\n\r\n  //         this.db.object('/orders/' + order.key).remove();\r\n  //         this.db.object('/orders/' + order.key).update(ord);\r\n  //       }\r\n  //       else console.log('la operacion fallo');\r\n  //     }\r\n  //     else console.log('');\r\n  //   })\r\n  // }\r\n  // //NO BORRAR********************************************************\r\n\r\n\r\n  // ................................................orders methods................................................\r\n\r\n\r\n  getOrderDetail(key: string) {\r\n    return this.ordersDetail.find(od => od.key === key);\r\n  }\r\n\r\n  async removeOrder(order: any) {\r\n    let orderProducts = this.getOrderDetail(order.payload.val().orderDetailKey).payload.val().products;\r\n    await this.productService.restoreStock(order, this.products, orderProducts);\r\n    await this.db.object('/ordersDetail/' + order.payload.val().orderDetailKey).remove();\r\n    await this.db.object('/orders/' + order.key).remove();\r\n\r\n\r\n    //this.addPaymentAmount(order.payload.val().fantasyName, order.payload.val().debt, this.clients);\r\n  }\r\n\r\n  getAllOrders() {\r\n    return this.db.list('/orders').snapshotChanges();\r\n  }\r\n\r\n  getAllOrdersDetail() {\r\n    return this.db.list('/ordersDetail').snapshotChanges();\r\n  }\r\n\r\n\r\n\r\n  // discount(order:any, product:any, discount: number, orderIndex: number) {\r\n  //   let products = []\r\n  //     for (let i=0;i<order[this.orderIndex].payload.val().products.length;i++) {\r\n  //       if (product.productId == order[this.orderIndex].payload.val().products[i].productId) {\r\n  //         this.db.object('/order/' + order[orderIndex].key +'/products/' + i).update({\r\n  //           \"discountPrice\": order[this.orderIndex].payload.val().products[i].price * (1 - discount/100),\r\n  //           \"discount\": discount\r\n  //         });\r\n  //         break;\r\n  //       }\r\n  //     }\r\n  // }\r\n\r\n  getTotalAmount(products: any) {\r\n    let totalAmount = 0;\r\n    if (products) {\r\n      for (let i = 0;i < products.length;i++) {\r\n        totalAmount += products[i].discountPrice * products[i].quantity\r\n      }\r\n    }\r\n    return totalAmount;\r\n  }\r\n\r\n  aproveOrder(order:any) {\r\n    this.updateOrder(order.key, {\"aproved\": true})\r\n  }\r\n\r\n  updateOrder(key: any, order:any) {\r\n    return this.db.object('/orders/' + key).update(order);\r\n  }\r\n\r\n  isClientInDebt(fantasyName: string, orders: any[]) {\r\n    let ordersInDebt = false;\r\n    for (let i=0;i<orders.length;i++) {\r\n      if (orders[i].payload.val().fantasyName?.toLowerCase().includes(fantasyName?.toLowerCase()) &&\r\n      this.isOrderInDebt(orders[i])) ordersInDebt = true;\r\n    }\r\n    if (ordersInDebt && this.getDebt(fantasyName) > TOLERATED_DEBT) return true\r\n    return false;\r\n  }\r\n\r\n  //inDebt true es para que me calcule la deuda de los pedidos de fecha mayor a dias tolerados, sino trae el monto total de pedidos\r\n  getClientOrdersAmount(fantasyName: string, inDebt: boolean) {\r\n    let amount = 0;\r\n    if (this.orders) {\r\n      for (let i=0;i<this.orders.length;i++) {\r\n        if (this.orders[i].payload.val().fantasyName.toLowerCase().includes(fantasyName.toLowerCase()) && (!inDebt || this.isOrderInDebt(this.orders[i]))) {\r\n          amount += parseFloat(this.orders[i].payload.val().amountWithIva)\r\n        }\r\n      }\r\n    }\r\n    return amount\r\n  }\r\n\r\n\r\n  // ................................................clients methods................................................\r\n\r\n  createClient(client: any) {\r\n    client.debt = 0;\r\n    return this.db.list('/clients').push(client);\r\n  }\r\n\r\n  getAllClients() {\r\n    return this.db.list('/clients').snapshotChanges();\r\n  }\r\n\r\n  getUserClients(seller: string): any[] {\r\n    let userClients: any[] = [];\r\n    for (let i=0;i<this.clients.length;i++) {\r\n      if (this.clients[i].payload.val().designatedSeller == seller) userClients.push(this.clients[i].payload.val().fantasyName)\r\n    }\r\n    return userClients\r\n  }\r\n\r\n  getClient(clientId:any) {\r\n    return this.db.object('/clients/' + clientId).snapshotChanges();\r\n  }\r\n\r\n  update(clientId: any, client:any) {\r\n    return this.db.object('/clients/' + clientId).update(client);\r\n  }\r\n\r\n  updateFilteredClients(clientId: any, client:any) {\r\n    for (let i=0; i< this.filteredClients.length;i++) {\r\n      if (this.filteredClients[i].key == clientId) {\r\n      }\r\n    }\r\n  }\r\n\r\n  delete(clientId:any) {\r\n    return this.db.object('/clients/' + clientId).remove();\r\n  }\r\n\r\n  // addPaymentAmount(fantasyName: string, amount: number, clients: any) {\r\n  //   for (let i=0;i<clients.length;i++) {\r\n  //     if (clients[i].payload.val().fantasyName == fantasyName) {\r\n  //       let debt = 0;\r\n  //       if (clients[i].payload.val().debt) debt = parseFloat(clients[i].payload.val().debt) - amount;\r\n  //       else debt = -amount\r\n  //       let client = {\"debt\": debt}\r\n  //       this.update(clients[i].key, client)\r\n  //       break\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  getClientsInDebt(clients: any[], orders: any[]) {\r\n    let result = [];\r\n    for (let i=0;i<clients.length;i++) {\r\n      if (this.isClientInDebt(clients[i].payload.val().fantasyName, orders))\r\n      result.push(clients[i])\r\n    }\r\n    return result;\r\n  }\r\n\r\n  isOrderInDebt(order: any) {\r\n    let today = new Date();\r\n    if((Date.parse(today.toString()) - order.payload.val().date > TOLERATED_DAYS*24*60*60*1000) && !order.payload.val().fullPaymentDate) { //que pasen los dias tolerados\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getClientLastPayment(fantasyName: string, payments: any[]) {\r\n    let payment = payments[0];\r\n    payment.payload.val().date = 1\r\n    for (let i=0;i<payments.length;i++) {\r\n      if (payments[i].payload.val().client.toLowerCase().includes(fantasyName.toLowerCase()) && payments[i].payload.val().date > payment.payload.val().date)\r\n      payment = payments[i];\r\n    }\r\n    return payment;\r\n  }\r\n\r\n  getAddress(fantasyName: string) {\r\n    for (let i=0;i<this.clients.length;i++) {\r\n      if (this.clients[i].payload.val().fantasyName.toLowerCase().includes(fantasyName.toLowerCase())) {\r\n        return this.clients[i].payload.val().address;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getClientCategory(fantasyName: any) {\r\n    let clientCategory = \"\";\r\n    if (this.clients) {\r\n      for (let i = 0;i < this.clients.length;i++) {\r\n        if (this.clients[i].payload.val().fantasyName.toLowerCase().includes(fantasyName.toLowerCase())) {\r\n          clientCategory = this.clients[i].payload.val().clientCategory;\r\n          return clientCategory\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  calcDebt(fantasyName: any) {\r\n    let result = 0;\r\n    let ordersAmount = this.getClientOrdersAmount(fantasyName, false);\r\n    let paymentsAmount = this.getClientPaymentsAmount(fantasyName);\r\n    result = ordersAmount - paymentsAmount;\r\n    return result\r\n  }\r\n\r\n  // calcDebtGreatherThanToleratedDays(fantasyName: any) {\r\n  //   let ordersAmount = this.getClientOrdersAmount(fantasyName, true);\r\n  //   return ordersAmount\r\n  // }\r\n\r\n  // ................................................payments methods................................................\r\n\r\n  // createPayment(payment: any, clients: any) {\r\n  //   payment.aproved = false;\r\n  //   //this.addPaymentAmount(payment.client, payment.amount, clients)\r\n  //   //antes le ponia la fecha del dia, ahora puede elegirla, por eso comento lo de abajo\r\n\r\n  //   payment.date = payment.date.unix()*1000;\r\n\r\n  //   //el cobro no es para una factura en particular\r\n  //   if (!payment.orderNumber) {\r\n  //     payment.orderNumber = 0;\r\n  //     this.clearDebts(payment.client, payment.amount, payment.date)\r\n  //   }\r\n  //   //el cobro es para una factura en particular\r\n  //   else if (payment.orderNumber >= 0) {\r\n  //     this.clearOrderDebt(payment)\r\n  //   }\r\n  //   return this.db.list('/payments').push(payment);\r\n  // }\r\n\r\n  createPayment(payment: any, clients: any) {\r\n    payment.date = payment.date.unix()*1000;\r\n    this.setOrdersPaymentDate(payment)\r\n        //el cobro no es para una factura en particular\r\n    if (!payment.orderNumber) {\r\n      payment.orderNumber = 0;\r\n    }\r\n    return this.db.list('/payments').push(payment);\r\n  }\r\n\r\n  setOrdersPaymentDate(payment: any) { //arreglar\r\n    let totalPayments = this.getTotalPayments(payment)\r\n    let amounts = 0;\r\n    this.orders.forEach((order) =>{\r\n      if (order.payload.val().fantasyName.toLowerCase().includes(payment.client.toLowerCase())\r\n      && order.payload.val().aproved) {\r\n        amounts += parseFloat(order.payload.val().amount);\r\n        if (!order.payload.val().fullPaymentDate && totalPayments > amounts - TOLERATED_DEBT) {\r\n          this.updateOrder(order.key, {\r\n            \"fantasyName\": order.payload.val().fantasyName,\r\n            \"seller\": order.payload.val().seller,\r\n            \"date\": order.payload.val().date,\r\n            \"aproved\": order.payload.val().aproved,\r\n            \"amount\": order.payload.val().amount,\r\n            \"clientInDebt\": order.payload.val().clientInDebt,\r\n            \"hasDiscount\": order.payload.val().hasDiscount,\r\n            \"iva\": order.payload.val().iva,\r\n            \"order\": order.payload.val().order,\r\n            \"orderNumber\": order.payload.val().orderNumber,\r\n            \"fullPaymentDate\": Date.now()\r\n          })\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  getTotalPayments(payment: any) {\r\n    let totalPayments = 0;\r\n    this.payments.forEach((pay) => {\r\n      if (pay.payload.val().client.toLowerCase().includes(payment.client.toLowerCase())) {\r\n        totalPayments += parseFloat(pay.payload.val().amount);\r\n      }\r\n    });\r\n    if (payment.amount) {\r\n      totalPayments += payment.amount;\r\n    }\r\n    return totalPayments\r\n  }\r\n\r\n  setPaymentsToAll() {\r\n    const today = new Date().getTime();\r\n    this.clients.forEach((client)=> {\r\n      let payment = {\r\n        client: client.payload.val().fantasyName,\r\n\t      amount: 0,\r\n        payWay: \"Efectivo\",\r\n\t      date: today\r\n      }\r\n      this.setOrdersPaymentDate(payment);\r\n    });\r\n  }\r\n\r\n\r\n  updatePayment(key: any, payment:any) {\r\n    return this.db.object('/payments/' + key).update(payment);\r\n  }\r\n\r\n  removePayment(paymentId: any) {\r\n    this.db.object('/payments/' + paymentId).remove();\r\n  }\r\n\r\n  resetPayment(paymentIndex: any){\r\n    this.db.object('/payment/'+ this.payment[paymentIndex].key).remove();\r\n  }\r\n\r\n  clearPayment() {\r\n    if (!this.payment) return;\r\n    for (let i=0;i<this.payment.length;i++) {\r\n      if (this.payment[i].payload.val().sellerName == this.appUser.name) this.db.object('/payment/'+ this.payment[i].key).remove();\r\n    }\r\n  }\r\n\r\n  public getPayment() {\r\n    let result = this.db.list('/payment').snapshotChanges();\r\n    return result;\r\n  }\r\n\r\n  public getAllPayments() {\r\n    return this.db.list('/payments').snapshotChanges();\r\n  }\r\n\r\n  aprovePayment(payment:any) {\r\n    this.updatePayment(payment.key, {\"aproved\": true})\r\n  }\r\n\r\n  getClientPaymentsAmount(fantasyName: string) {\r\n    let amount = 0;\r\n    if (this.payments) {\r\n      for (let i = 0;i < this.payments.length;i++) {\r\n        if (this.payments[i].payload.val().client.toLowerCase().includes(fantasyName.toLowerCase())) {\r\n          amount += parseFloat(this.payments[i].payload.val().amount)\r\n        }\r\n      }\r\n    }\r\n    return amount\r\n  }\r\n  // ................................................seller methods................................................\r\n\r\n  createSeller(seller: any) {\r\n    seller.retailSalesAdded = 0;\r\n    seller.wholesalerSalesAdded = 0;\r\n    return this.db.list('/sellers').push(seller);\r\n  }\r\n\r\n  getAllSellers() {\r\n    return this.db.list('/sellers').snapshotChanges();\r\n  }\r\n\r\n  getSeller(sellerId:any) {\r\n    return this.db.object('/sellers/' + sellerId).snapshotChanges();\r\n  }\r\n\r\n  updateSeller(sellerId: any, seller:any) {\r\n    return this.db.object('/sellers/' + sellerId).update(seller);\r\n  }\r\n\r\n  deleteSeller(sellerId:any) {\r\n    return this.db.object('/sellers/' + sellerId).remove();\r\n  }\r\n\r\n  getSellerByName(seller: string) {\r\n    if (this.sellers) {\r\n      for (let i=0;i<this.sellers.length;i++) {\r\n        if (this.sellers[i].payload.val().name == seller)\r\n        return this.sellers[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  addSaleToSeller(order: any, amount: any, fantasyName: string) {\r\n    if (!this.isDateInThisMonth(parseInt(order.payload.val().date))) {\r\n      let sellerN = order.payload.val().seller;\r\n      amount = Math.round(parseFloat(amount) * 10) / 10;\r\n      let seller = this.getSellerByName(sellerN);\r\n      let category = this.getClientCategory(fantasyName);\r\n      if (category == \"Distribuidor\") {\r\n        let updatedWholesalerSalesAdded = parseFloat(seller.payload.val().wholesalerSalesAdded)\r\n          + parseFloat(amount);\r\n        this.updateSeller(seller.key, {\"wholesalerSalesAdded\": updatedWholesalerSalesAdded})\r\n      }\r\n      else {\r\n        let updatedRetailSalesAdded = parseFloat(seller.payload.val().retailSalesAdded)\r\n          + parseFloat(amount);\r\n        this.updateSeller(seller.key, {\"retailSalesAdded\": updatedRetailSalesAdded})\r\n      }\r\n    }\r\n  }\r\n  isDateInThisMonth(date: number) {\r\n    let daysFromOrderCreation = (Date.now() - date)/(1000*3600*24);\r\n    let today = new Date(Date.now())\r\n    return daysFromOrderCreation < today.getDate();\r\n  }\r\n  //mas vieja al principio\r\n  sortArrayPayloadByDate(array: any) {\r\n    if (!array) return [];\r\n    array.sort((a: any, b: any) => {\r\n      if (b.payload.val().date < a.payload.val().date) return 1;\r\n      if (b.payload.val().date > a.payload.val().date) return -1;\r\n      return 0;\r\n    });\r\n    return array;\r\n  }\r\n\r\n  //usado manualmente para corregir la falta de fecha de pago completado\r\n  calculateFullPaymentDates(seller: String) {\r\n\r\n    for (let k=0;k<this.clients.length;k++) {\r\n      while (this.clients[k].payload.val().fantasyName != \"Carlos Fox\") k++;\r\n      let payments = this.sortArrayPayloadByDate(this.getClientPayments(this.clients[k].payload.val().fantasyName))\r\n      let orders = this.sortArrayPayloadByDate(this.getClientOrders(this.clients[k].payload.val().fantasyName))\r\n      let i = 0;\r\n      let j = 0;\r\n      let ordersAmount = 0;\r\n      let paymentsAmount = 0;\r\n      while (i < payments.length && j < orders.length) {\r\n        paymentsAmount += parseFloat(payments[i].payload.val().amount)\r\n        while (j < orders.length) {\r\n          ordersAmount += parseFloat(orders[j].payload.val().amount)\r\n          if (paymentsAmount > ordersAmount - 200) {\r\n            this.updateOrder(orders[j].key, {\r\n              \"amount\": orders[j].payload.val().amount,\r\n              \"aproved\": orders[j].payload.val().aproved,\r\n              \"fantasyName\": orders[j].payload.val().fantasyName,\r\n              \"clientInDebt\": orders[j].payload.val().clientInDebt,\r\n              \"date\": orders[j].payload.val().date,\r\n              \"hasDiscount\": orders[j].payload.val().hasDiscount,\r\n              \"iva\": orders[j].payload.val().iva,\r\n              \"order\": orders[j].payload.val().order,\r\n              \"orderNumber\": orders[j].payload.val().orderNumber,\r\n              \"fullPaymentDate\": payments[i].payload.val().date\r\n            })\r\n            j++\r\n            if (j == orders.length) i = payments.length //esta linea corta el bucle de los payments cuando ya se pagaron todos los pedidos\r\n          }\r\n          else {\r\n            i++\r\n            ordersAmount -= parseFloat(orders[j].payload.val().amount);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  getClientOrders(fantasyName: String) {\r\n    let result = [];\r\n    if (this.orders) {\r\n      for (let i=0;i<this.orders.length;i++) {\r\n        if (this.orders[i].payload.val().fantasyName.toLowerCase().includes(fantasyName.toLowerCase())) {\r\n          result.push(this.orders[i])\r\n        }\r\n      }\r\n    }\r\n    else console.log('Problemas en orders Service metodo getClientOrders');\r\n    return result\r\n  }\r\n  getClientPayments(fantasyName: String) {\r\n    let result = [];\r\n    if (this.payments) {\r\n      for (let i=0;i<this.payments.length;i++) {\r\n        if (this.payments[i].payload.val().client.toLowerCase().includes(fantasyName.toLowerCase())) {\r\n          result.push(this.payments[i])\r\n        }\r\n      }\r\n    }\r\n    else console.log('Problemas en orders Service metodo getClientPayments');\r\n    return result\r\n  }\r\n\r\n  getSellerClients(seller: String) {\r\n    let clientsSellerNames = [];\r\n    for (let i=0;i<this.clients.length;i++) {\r\n      if (this.clients[i].payload.val().designatedSeller == seller)\r\n      clientsSellerNames.push(this.clients[i].payload.val().fantasyName)\r\n    }\r\n    return clientsSellerNames\r\n  }\r\n\r\n  getSellerOrders(seller: String, fantasyName: String) {\r\n    let sellerOrders = [];\r\n    if (this.orders) {\r\n      for (let i=0;i<this.orders.length;i++) {\r\n        if (this.orders[i].payload.val().seller == seller\r\n        && this.orders[i].payload.val().fantasyName.toLowerCase().includes(fantasyName.toLowerCase()))\r\n        sellerOrders.push(this.orders[i]);\r\n      }\r\n    }\r\n    else console.log('falla en OrdersService, metodo getSellerOrders');\r\n    return sellerOrders\r\n  }\r\n  getSellerPayments(seller: String, fantasyName: String) {\r\n    let sellerPayments = [];\r\n    if (this.payments[0]) {\r\n      for (let i=0;i<this.payments.length;i++) {\r\n        if (this.payments[i].payload.val().sellerName == seller\r\n        && this.payments[i].payload.val().client.toLowerCase().includes(fantasyName.toLowerCase()))\r\n        sellerPayments.push(this.payments[i]);\r\n      }\r\n\r\n    }\r\n    else console.log('falla en OrdersService, metodo getSellerPayments');\r\n    return sellerPayments\r\n  }\r\n\r\n  setClientsCurrentItemsToShow(clientsCurrentItemsToShow: any[]) {\r\n    this.clientsCurrentItemsToShow = clientsCurrentItemsToShow;\r\n  }\r\n\r\n  getClientsCurrentItemsToShow() {\r\n    return this.clientsCurrentItemsToShow;\r\n  }\r\n\r\n  setFromEditing(fromEditing: boolean) {\r\n    this.fromEditing = fromEditing;\r\n  }\r\n\r\n  getFromEditing() {\r\n    return this.fromEditing;\r\n  }\r\n\r\n  setQuery(query: any) {\r\n    this.query = query;\r\n  }\r\n\r\n  getQuery() {\r\n    return this.query;\r\n  }\r\n\r\n  setClientsActualPage(clientPageIndex: number) {\r\n    this.clientPageIndex = clientPageIndex;\r\n  }\r\n\r\n  getClientsActualPage() {\r\n    return this.clientPageIndex;\r\n  }\r\n\r\n  setClientsTotalPages(clientPageSize: number) {\r\n    this.clientPageSize = clientPageSize;\r\n  }\r\n\r\n  getClientsTotalPages() {\r\n    return this.clientPageSize;\r\n  }\r\n\r\n  setClientItemsPerPage(itemsPerPage: number){\r\n    this.itemsPerPage = itemsPerPage;\r\n  }\r\n\r\n  getClientItemsPerPage() {\r\n    return this.itemsPerPage;\r\n  }\r\n\r\n  // ................................................common methods................................................\r\n  // deuda mayor a los dias tolerados\r\n  getDebt(fantasyName: string) {\r\n    let today = new Date().getTime();\r\n    let totalPayments = this.getTotalPayments({\"client\": fantasyName })\r\n    let amounts = 0;\r\n    let result = 0;\r\n    let keepAdding = false;\r\n    this.orders.forEach((order) => {\r\n      if (order.payload.val().fantasyName.toLowerCase().includes(fantasyName.toLowerCase())) {\r\n        amounts += parseFloat(order.payload.val().amountWithIva);\r\n        if (keepAdding && (today - order.payload.val().date > TOLERATED_DAYS*24*60*60*1000) && !order.payload.val().fullPaymentDate) result += parseFloat(order.payload.val().amountWithIva);\r\n        else;\r\n        if (totalPayments < amounts - TOLERATED_DEBT && !order.payload.val().fullPaymentDate && result == 0\r\n        && (today - order.payload.val().date > TOLERATED_DAYS*24*60*60*1000)) {\r\n          result = amounts - totalPayments;\r\n          keepAdding = true;\r\n        }\r\n        else;\r\n      }\r\n      else;\r\n    });\r\n    return result;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.forEach(sub => sub.unsubscribe());\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport jsPDF from 'jspdf';\r\nimport { Subscription } from 'rxjs';\r\nimport { OrdersService } from './orders.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PrintService {\r\n  orders: any;\r\n  payments: any;\r\n  orderOrPayment: boolean;\r\n  clients: any;\r\n  filteredClients: any;\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n  subscription3: Subscription;\r\n  subscription4: Subscription;\r\n  subscription5: Subscription;\r\n\r\n  constructor( private ordersService: OrdersService) { }\r\n\r\n    ngOnInit() {\r\n      this.subscription = this.ordersService.getAllClients().subscribe(clients => {\r\n        this.filteredClients = this.clients = clients;\r\n        // this.dataSource = new MatTableDataSource<any>(this.filteredClients);\r\n        // this.dataSource.paginator = this.paginator;\r\n        // if (this.ordersService.clientsPaginator.pageIndex > 0 || this.ordersService.clientsPaginator.pageSize != 10) {\r\n        // this.paginator.pageIndex = this.ordersService.clientsPaginator.pageIndex;\r\n        // this.paginator.pageSize = this.ordersService.clientsPaginator.pageSize;\r\n        // this.dataSource.paginator = this.paginator\r\n        // }\r\n      });\r\n      this.subscription2 = this.ordersService.getAllOrders().subscribe(orders => {\r\n        this.ordersService.orders = orders;\r\n      });\r\n      this.subscription3 = this.ordersService.getAllPayments().subscribe(payments => {\r\n        this.payments = payments;\r\n      });\r\n    }\r\n\r\n  exportResume(client: any) {\r\n    if (confirm('Descargar PDF')) {\r\n      const line1 = 20;\r\n      const line2 = line1 + 10;\r\n      const line3 = line2 + 20;\r\n      const col1 = 10;\r\n      const col2 = 45;\r\n      const col3 = 80;\r\n      const col4 = 115;\r\n      const col5 = 150;\r\n      const col6 = 175;\r\n\r\n      var doc = new jsPDF();\r\n      let pageHeight= 0;\r\n      doc.setFontSize(9);\r\n      doc.text('GENTECH - MAR DEL PLATA', 10, 10);\r\n      doc.text('RESUMEN DE CUENTA', 10, line1);\r\n      doc.text('CLIENTE: ' + client.fantasyName, 60, line1);\r\n      doc.text('DIRECCIÓN: ' + client.address, 112, line1);\r\n      doc.text('TELÉFONO: ' + client.phone, 164, line1);\r\n\r\n      doc.text('FECHA', col1, line2);\r\n      doc.text('TIPO', col2, line2);\r\n      doc.text('NÚMERO', col3 - 1, line2);\r\n      doc.text('HABER', col4, line2);\r\n      doc.text('DEBE', col5, line2);\r\n      doc.text('SALDO', col6, line2);\r\n      doc.setFontSize(7);\r\n\r\n      this.subscription4 = this.ordersService.getAllOrders().subscribe(ordrs => {\r\n        this.ordersService.orders = ordrs;\r\n        this.subscription5 = this.ordersService.getAllPayments().subscribe(paymnts => {\r\n          this.payments = paymnts;\r\n          let orders = [];\r\n          let payments = [];\r\n          let stringDate= \"\"\r\n          for (let i=0;i<this.ordersService.orders.length;i++) {\r\n            if (this.ordersService.orders[i].payload.val().fantasyName == client.fantasyName) {\r\n              orders.push(this.ordersService.orders[i].payload.val())\r\n            }\r\n          }\r\n          for (let i=0;i<this.payments.length;i++) {\r\n            if (this.payments[i].payload.val().client.toLowerCase().includes(client.fantasyName.toLowerCase())) payments.push(this.payments[i].payload.val())\r\n          }\r\n          orders = this.sortArrayByDate(orders);\r\n          payments = this.sortArrayByDate(payments);\r\n\r\n          let y = 0;\r\n          let k = 0;\r\n          //let balance = 0;\r\n          let loopSize = orders.length + payments.length\r\n\r\n          let balance = this.getBalance(orders, payments);\r\n          for (let i=0;i<loopSize;i++) {\r\n            pageHeight = doc.internal.pageSize.height\r\n            if (y >= pageHeight -70 ) {\r\n\r\n              doc.addPage();\r\n              k = i;\r\n            }\r\n            y = 7*(i+1-k) - line1;\r\n\r\n            let pos1 = 0;\r\n            let pos2 = 0;\r\n\r\n            if (orders.length > 0 && payments.length > 0) {\r\n              // pos1 = this.getMinPos(orders);\r\n              // pos2 = this.getMinPos(payments);\r\n              pos1 = this.getMaxPos(orders);\r\n              pos2 = this.getMaxPos(payments);\r\n              this.orderOrPayment = orders[pos1].date >= payments[pos2].date;\r\n            }\r\n            else if (orders.length > 0) {\r\n              this.orderOrPayment = true;\r\n              // pos1 = this.getMinPos(orders);\r\n              pos1 = this.getMaxPos(orders);\r\n            }\r\n            else {\r\n              this.orderOrPayment = false;\r\n              // pos2 = this.getMinPos(payments);\r\n              pos2 = this.getMaxPos(payments);\r\n            }\r\n\r\n            if (this.orderOrPayment && orders.length > 0) {\r\n              if (orders[pos1].date) {\r\n                let humanDateFormat = new Date(orders[pos1].date);\r\n                let dd = humanDateFormat.getDate();\r\n                let mm = humanDateFormat.getMonth() + 1;\r\n                let day;\r\n                let month;\r\n                let yyyy = humanDateFormat.getFullYear().toString();\r\n                if (dd < 10) {\r\n                  day = '0' + dd.toString();\r\n                }\r\n                else day = dd.toString();\r\n                if (mm < 10) {\r\n                    month = '0' + mm.toString();\r\n                }\r\n                else month = mm.toString();\r\n                stringDate = day + '/' + month + '/' + yyyy;\r\n                doc.text(stringDate, col1, line3 + y);\r\n                doc.text(\"FACTURA\", col2, line3 + y);\r\n                let orderNum: string = orders[pos1].orderNumber && parseInt(orders[pos1].orderNumber) != 0 ? parseInt(orders[pos1].orderNumber).toString(): \"-\";\r\n                doc.text(orderNum, col3, line3 + y);\r\n                doc.text(parseFloat(orders[pos1].amountWithIva).toFixed(2).toString(), col5, line3 + y);\r\n                // doc.text(balance.toFixed(2).toString(), col6, line3 + y);\r\n                doc.text(balance[i].toFixed(2).toString(), col6, line3 + y);\r\n\r\n              } else stringDate = \"Sin datos\" //esto nunca se imprime\r\n              orders = this.splice2(orders, pos1);\r\n              doc.text('- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -', 10, line3+y+3);\r\n            }\r\n            else if (!this.orderOrPayment && payments.length > 0) {\r\n              if (payments[pos2].date) {\r\n                let humanDateFormat = new Date(payments[pos2].date);\r\n                let dd = humanDateFormat.getDate();\r\n                let mm = humanDateFormat.getMonth() + 1;\r\n                let day;\r\n                let month;\r\n                let yyyy = humanDateFormat.getFullYear().toString();\r\n                if (dd < 10) {\r\n                    day = '0' + dd.toString();\r\n                }\r\n                else day = dd.toString();\r\n                if (mm < 10) {\r\n                    month = '0' + mm.toString();\r\n                }\r\n                else month = mm.toString();\r\n                stringDate = day + '/' + month + '/' + yyyy;\r\n                doc.text(stringDate, col1, line3 + y);\r\n                let orderNum: string = payments[pos2].orderNumber && parseInt(payments[pos2].orderNumber) != 0 ? parseInt(payments[pos2].orderNumber).toString(): \"-\";\r\n                doc.text(orderNum, col3, line3 + y);\r\n                doc.text(parseFloat(payments[pos2].amount).toFixed(2).toString(), col4, line3 + y);\r\n                doc.text(balance[i].toFixed(2).toString(), col6, line3 + y);\r\n                doc.text('- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -', 10, line3+y+3);\r\n                if (payments[pos2].payWay == \"Nota de Crédito\") doc.text(\"NOTA CRED.\", col2, line3 + y);\r\n                else doc.text(\"RECIBO\", col2, line3 + y);\r\n              } else stringDate = \"Sin datos\" //esto nunca se imprime\r\n              payments = this.splice2(payments, pos2);\r\n            }\r\n          }\r\n\r\n          doc.setFontSize(8);\r\n          let documentName = \"Estado_de_Cuenta_\" + client.fantasyName + \".pdf\"\r\n\r\n          // Save the PDF\r\n          doc.save(documentName);\r\n        });\r\n      });\r\n    }\r\n  }\r\n  getBalance(ord: any[], pay: any[]) {\r\n    let orders = ord;\r\n    let payments = pay;\r\n    let pos1 = 0;\r\n    let pos2 = 0;\r\n    let loopSize = orders.length + payments.length;\r\n    let balance: number[] = [];\r\n\r\n    for (let i=0;i<loopSize;i++) {\r\n      if (orders.length > 0 && payments.length > 0) {\r\n        pos1 = this.getMinPos(orders);\r\n        pos2 = this.getMinPos(payments);\r\n        this.orderOrPayment = orders[pos1].date <= payments[pos2].date;\r\n      }\r\n      else if (orders.length > 0) {\r\n        this.orderOrPayment = true;\r\n        pos1 = this.getMinPos(orders);\r\n      }\r\n      else {\r\n        this.orderOrPayment = false;\r\n        pos2 = this.getMinPos(payments);\r\n      }\r\n\r\n      if (this.orderOrPayment && orders.length > 0) {\r\n        if (i==0) balance[0] = parseFloat(orders[pos1].amountWithIva);\r\n        else {\r\n          balance[i] =  balance[i-1] + parseFloat(orders[pos1].amountWithIva)\r\n        }\r\n        orders = this.splice2(orders, pos1);\r\n      }\r\n\r\n      else if (!this.orderOrPayment && payments.length > 0) {\r\n        if (i==0) balance[0] = - parseFloat(payments[pos2].amount);\r\n        else {\r\n          balance[i] =  balance[i-1] - parseFloat(payments[pos2].amount)\r\n        }\r\n        payments = this.splice2(payments, pos2);\r\n      }\r\n    }\r\n    let result = [];\r\n    for (let i=balance.length-1;i>=0;i--) {\r\n      result.push(balance[i]);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  getMinPos(arr: any[]) {\r\n    let pos = arr.length;\r\n    let result = pos-1;\r\n    let min = parseInt(arr[pos-1].date);\r\n    while (pos--){\r\n        if(parseInt(arr[pos].date) < min){\r\n            min = arr[pos].date\r\n            result = pos\r\n        }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  getMaxPos(arr: any[]) {\r\n    let pos = 0;\r\n    let result = 0;\r\n    let max = parseInt(arr[0].date);\r\n    while (++pos < arr.length){\r\n        if(parseInt(arr[pos].date) > max){\r\n          max = arr[pos].date\r\n            result = pos\r\n        }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  splice2(arr: any[], pos: number) {\r\n    let result = []\r\n    for (let i=0;i<arr.length;i++) {\r\n      if (i != pos) result.push(arr[i])\r\n    }\r\n    return result\r\n  }\r\n\r\n  exportClients(clients: any) {\r\n    if (confirm('Descargar PDF')) {\r\n\r\n      const line1 = 20;\r\n      const line2 = line1 + 10;\r\n      const line3 = line2 + 10;\r\n      const col1 = 10;\r\n      const col2 = 60;\r\n      const col3 = 112;\r\n      const col4 = 164;\r\n\r\n      var doc = new jsPDF();\r\n      let pageHeight= 0;\r\n      doc.setFontSize(9);\r\n      doc.text('CLIENTES - GENTECH MAR DEL PLATA', col1, line1);\r\n      doc.text('RAZÓN SOCIAL', col1, line2);\r\n      doc.text('N. FANTASIA', col2, line2);\r\n      doc.text('DIRECCIÓN', col3, line2);\r\n      doc.text('TELÉFONO', col4, line2);\r\n      doc.setFontSize(8);\r\n\r\n      let cont = 0;\r\n      let price = 0;\r\n      let yLimit = 400 // Height position of new content\r\n      let j = 0;\r\n      let y = 0;\r\n\r\n      for (let i=0;i<clients.length;i++) {\r\n        pageHeight = doc.internal.pageSize.height\r\n        if (y >= pageHeight -70 ) {\r\n          doc.addPage();\r\n          j = i;\r\n          cont = line1;\r\n        }\r\n        y = 7*(i+1-j) - cont;\r\n        doc.text(clients[i].payload.val().businessName, col1, line3 + y);\r\n        doc.text(clients[i].payload.val().fantasyName, col2, line3 + y);\r\n        doc.text(clients[i].payload.val().address, col3, line3 + y);\r\n        doc.text(clients[i].payload.val().phone, col4, line3 + y);\r\n      }\r\n      doc.setFontSize(8);\r\n\r\n      // Save the PDF\r\n      doc.save('ClientesGentech.pdf');\r\n    }\r\n  }\r\n\r\n  sortArrayByDate(array: any) {\r\n    array.sort((a: any, b: any) => {\r\n      if (b.date > a.date) return 1;\r\n      if (b.date < a.date) return -1;\r\n      return 0;\r\n    });\r\n    return array;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n    this.subscription3.unsubscribe();\r\n    this.subscription4.unsubscribe();\r\n    this.subscription5.unsubscribe();\r\n  }\r\n}\r\n","import { AngularFireDatabase } from '@angular/fire/database';\r\nimport { Injectable, OnInit } from '@angular/core';\r\nimport { OrdersService } from './orders.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { Product } from '../models/product';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProductService implements OnInit{\r\n  recharges: any;\r\n  rechargeKey: string;\r\n  products: any;\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n  subscription3: Subscription;\r\n  subscription4: Subscription;\r\n\r\n  constructor(private db: AngularFireDatabase) {\r\n    this.subscription = this.getAllProducts().subscribe(products => {\r\n      this.products = products;\r\n    });\r\n    this.subscription2 = this.getAllRecharges().subscribe(recharges => {\r\n      this.recharges = recharges;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  create(product: any) {\r\n    this.subscription4 = this.getAllRecharges().subscribe(recharges => {\r\n      this.recharges = recharges;\r\n\r\n      product.disc1=0;\r\n      product.disc2=0;\r\n      product.disc3=0;\r\n      product.disc4=0;\r\n      product.price1=product.buyPrice*(1 + (this.recharges[0].payload.val().distRecharge/100));\r\n      product.price2=product.buyPrice*(1 + (this.recharges[0].payload.val().comRecharge/100));\r\n      product.price3=product.buyPrice*(1 + (this.recharges[0].payload.val().kiosRecharge/100));\r\n      product.price4=product.buyPrice*(1 + (this.recharges[0].payload.val().gymRecharge/100));\r\n      product.discPrice1=product.price1;\r\n      product.discPrice2=product.price2;\r\n      product.discPrice3=product.price3;\r\n      product.discPrice4=product.price4;\r\n      product.stock = 0;\r\n      return this.db.list('/products').push(product);\r\n    });\r\n\r\n  }\r\n\r\n  createRecharge() {\r\n    this.recharges = {\r\n      distRecharge: 15,\r\n      comRecharge: 30,\r\n      kiosRecharge: 60,\r\n      gymRecharge: 44\r\n    }\r\n    let result = this.db.list('/recharges').push(this.recharges);\r\n    if (result.key) this.rechargeKey = result.key;\r\n    return result;\r\n  }\r\n\r\n  getAllProducts() {\r\n    return this.db.list('/products').snapshotChanges();\r\n  }\r\n\r\n  get(productId:any) {\r\n    return this.db.object('/products/' + productId).snapshotChanges();\r\n  }\r\n\r\n  getAllRecharges() {\r\n    let result = this.db.list('/recharges').snapshotChanges();\r\n    if (!result)\r\n    {\r\n      let result = this.createRecharge();\r\n    }\r\n    return result;\r\n  }\r\n\r\n  update(productId: any, product:any) {\r\n    return this.db.object('/products/' + productId).update(product);\r\n  }\r\n\r\n  delete(productId:any) {\r\n    return this.db.object('/products/' + productId).remove();\r\n  }\r\n\r\n  recharge(products:any, recharges: any) {\r\n    let result = new Promise(() => {});\r\n    for (let i=0;i<products.length;i++) {\r\n      let prod = {\r\n        \"disc1\": products[i].payload.val().disc1,\r\n        \"disc2\": products[i].payload.val().disc2,\r\n        \"disc3\": products[i].payload.val().disc3,\r\n        \"disc4\": products[i].payload.val().disc4,\r\n        \"buyPrice\": products[i].payload.val().buyPrice,\r\n        \"price1\": products[i].payload.val().buyPrice * (1 + recharges.distRecharge/100),\r\n        \"price2\": products[i].payload.val().buyPrice * (1 + recharges.comRecharge/100),\r\n        \"price3\": products[i].payload.val().buyPrice * (1 + recharges.kiosRecharge/100),\r\n        \"price4\": products[i].payload.val().buyPrice * (1 + recharges.gymRecharge/100),\r\n        \"discPrice1\": 0,\r\n        \"discPrice2\": 0,\r\n        \"discPrice3\": 0,\r\n        \"discPrice4\": 0,\r\n        \"prodsCategory\": products[i].payload.val().prodsCategory,\r\n        \"title\": products[i].payload.val().title\r\n      }\r\n      prod.discPrice1 = prod.price1*(1-prod.disc1/100);\r\n      prod.discPrice2 = prod.price2*(1-prod.disc2/100);\r\n      prod.discPrice3 = prod.price3*(1-prod.disc3/100);\r\n      prod.discPrice4 = prod.price4*(1-prod.disc4/100);\r\n      result = this.db.object('/products/' + products[i].key).update(prod);\r\n    }\r\n    return result;\r\n\r\n    // this.recharges = {\r\n    //   \"distRecharge\": distRecharge,\r\n    //   \"comRecharge\": comRecharge,\r\n    //   \"kiosRecharge\": kiosRecharge,\r\n    //   \"gymRecharge\": gymRecharge\r\n    // }\r\n    // let result = this.getAllRecharges().subscribe(result => {\r\n    //   this.db.object('/recharges/' + result[0].key).update(this.recharges);\r\n    // });\r\n  }\r\n\r\n  saveRecharges(recharges: any) {\r\n    this.getAllRecharges().subscribe(result => {\r\n      this.db.object('/recharges/' + result[0].key).update(recharges);\r\n    });\r\n  }\r\n\r\n  applyDiscount(p:any, priceNumber:string, disc:any) {\r\n    let product = {\r\n      \"disc1\": p.payload.val().disc1,\r\n      \"disc2\": p.payload.val().disc2,\r\n      \"disc3\": p.payload.val().disc3,\r\n      \"disc4\": p.payload.val().disc4,\r\n      \"buyPrice\": p.payload.val().buyPrice,\r\n      \"prodsCategory\": p.payload.val().prodsCategory,\r\n      \"title\": p.payload.val().title,\r\n      \"price1\": p.payload.val().price1,\r\n      \"price2\": p.payload.val().price2,\r\n      \"price3\": p.payload.val().price3,\r\n      \"price4\": p.payload.val().price4,\r\n      \"discPrice1\": p.payload.val().discPrice1,\r\n      \"discPrice2\": p.payload.val().discPrice2,\r\n      \"discPrice3\": p.payload.val().discPrice3,\r\n      \"discPrice4\": p.payload.val().discPrice4\r\n      }\r\n      if (priceNumber == \"price1\") {\r\n        product.discPrice1 = p.payload.val().price1 * (1 - disc/100);\r\n        product.disc1 = disc;\r\n      }\r\n      else if (priceNumber == \"price2\") {\r\n        product.discPrice2 = p.payload.val().price2 * (1 - disc/100);\r\n        product.disc2 = disc;\r\n      }\r\n      else if (priceNumber == \"price3\") {\r\n        product.discPrice3 = p.payload.val().price3 * (1 - disc/100);\r\n        product.disc3 = disc;\r\n      }\r\n      else if (priceNumber == \"price4\") {\r\n        product.discPrice4 = p.payload.val().price4 * (1 - disc/100);\r\n        product.disc4 = disc;\r\n      }\r\n    this.db.object('/products/' + p.key).update(product);\r\n  }\r\n\r\n  applyDiscountToAll() {\r\n    this.subscription3 = this.getAllProducts().subscribe(products=> {\r\n      this.products = products;\r\n      for (let i=0;i<this.products.length;i++) {\r\n        let product = this.products[i].payload.val();\r\n          product.discPrice1 = product.price1*(1-product.disc1/100);\r\n          product.discPrice2 = product.price1*(1-product.disc2/100);\r\n          product.discPrice3 = product.price1*(1-product.disc3/100);\r\n          product.discPrice4 = product.price1*(1-product.disc4/100);\r\n          this.db.object('/products/' + this.products[i].key).update(product);\r\n        }\r\n    });\r\n  }\r\n\r\n  updateStocks(cartProducts: any, thisProducts: any, adding: boolean) {\r\n    for (let i=0;i<cartProducts.length;i++) {\r\n      for (let j=0;j<thisProducts.length;j++) {\r\n        if (cartProducts[i].productId == thisProducts[j].key) {\r\n          let quantity;\r\n          if (adding) quantity = parseInt(thisProducts[j].payload.val().stock) + parseInt(cartProducts[i].quantity);\r\n          else quantity = parseInt(thisProducts[j].payload.val().stock) - parseInt(cartProducts[i].quantity);\r\n          this.db.object('/products/' + thisProducts[j].key).update({\r\n            \"stock\": quantity\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async restoreStock(order: any, products: any, orderProducts: Product[]) {\r\n    let prods = [];\r\n    for (let i=0;i<orderProducts.length;i++) {\r\n      for (let j=0;j<products.length;j++) {\r\n        if (orderProducts[i].title == products[j].payload.val().title)\r\n        await this.db.object('/products/' + products[j].key).update({\r\n          \"stock\": parseInt(products[j].payload.val().stock) + orderProducts[i].quantity\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n    this.subscription3.unsubscribe();\r\n    this.subscription4.unsubscribe();\r\n  }\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { AppUser } from '../models/app-user';\r\nimport { AuthService } from './auth.service';\r\nimport { ProductService } from './product.service';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StockService {\r\n\r\n  appUser: AppUser;\r\n  stock: any;\r\n  buy: any;\r\n  buyId:any;\r\n  filteredProducts:any;\r\n  products:any;\r\n  orderProducts: any;\r\n  prodsCategory: string | null;\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n  subscription3: Subscription;\r\n  subscription4: Subscription;\r\n\r\n  constructor(private db: AngularFireDatabase, private productService: ProductService,\r\n    private auth: AuthService, private route: ActivatedRoute, private router: Router) {\r\n\r\n      this.subscription = this.auth.appUser$.subscribe(appUser => {\r\n        this.appUser = appUser;\r\n      });\r\n\r\n      this.filteredProducts = [];\r\n      this.subscription2 = this.productService.getAllProducts().subscribe(products => {\r\n        this.filteredProducts = this.products = products;\r\n        this.subscription3 = this.route.queryParamMap.subscribe(params => {\r\n          this.prodsCategory = params.get('prodsCategory');\r\n          if (this.products) {\r\n            this.filteredProducts = (this.prodsCategory) ?\r\n            this.products.filter((p: { payload: { val: () => { (): any; new(): any; prodsCategory: string | null; }; }; }) =>\r\n              p.payload.val().prodsCategory == this.prodsCategory) :\r\n            this.products;\r\n          }\r\n          this.subscription4 = this.getBuy().subscribe(buy => {\r\n            this.buy = buy;\r\n            if (this.buy.length == 0) {\r\n              this.createBuy(this.products);\r\n            }\r\n          });\r\n          // this.getStock().subscribe(stock => {\r\n          //   this.stock = stock;\r\n          //   if (this.stock.length == 0) {\r\n          //     this.create();\r\n          //   }\r\n          // });\r\n        });\r\n      });\r\n     }\r\n\r\n  // public create() {\r\n  //   for (let i=0;i<this.products.length;i++) {\r\n  //     this.db.list('/stock').push({\r\n  //       product: this.products[i].payload.val(),\r\n  //       \"quantity\": 0\r\n  //     });\r\n  //   }\r\n  //   let result = this.db.list('/stock').snapshotChanges();\r\n  //   return result;\r\n  // }\r\n\r\n  public createBuy(products: any[]) {\r\n    let productBuy = []\r\n    for (let i=0;i<products.length;i++) {\r\n      productBuy.push({\r\n        \"price\": products[i].payload.val().buyPrice,\r\n        \"product\": products[i].payload.val(),\r\n        \"productId\":products[i].key,\r\n        \"quantity\": 0\r\n      });\r\n    }\r\n    let result = this.db.list('/buy/').push({\r\n      \"buyItemsCount\": 0,\r\n      \"products\": productBuy\r\n    });\r\n    this.buyId = result.key;\r\n  }\r\n\r\n  // public getStock() {\r\n  //   let result = this.db.list('/stock').snapshotChanges();\r\n  //   return result;\r\n  // }\r\n\r\n  public getBuy() {\r\n    let result = this.db.list('/buy').snapshotChanges();\r\n    return result;\r\n  }\r\n\r\n  updateBuy(products: any) {\r\n    if (this.buy) {\r\n      let productsBuy = [];\r\n    for (let i=0;i<products.length;i++) {\r\n      productsBuy.push({\r\n        \"price\": products[i].payload.val().buyPrice,\r\n        \"product\": products[i].payload.val(),\r\n        \"productId\": products[i].key,\r\n        \"quantity\": 0,\r\n      })\r\n    }\r\n\r\n      return this.db.object('/buy/' + this.buy[0].key).update({\r\n        \"buyItemsCount\": 0,\r\n        \"products\": productsBuy\r\n      });\r\n    }\r\n    return null\r\n  }\r\n\r\n  public getBuys() {\r\n    return this.db.list('/buys').snapshotChanges();\r\n  }\r\n\r\n  sendBuy(orderProducts: any) {\r\n\r\n    let prods: any[] = [];\r\n    orderProducts.products.forEach((p: any) => {\r\n      if (p.quantity != 0) {\r\n        prods.push({\"title\": p.product.title, \"quantity\": p.quantity, \"price\": p.product.buyPrice} )\r\n      }\r\n    });\r\n    let time = new Date().getTime();\r\n    let result = this.db.list('/buys/').push({\r\n      \"buyItemsCount\": orderProducts.buyItemsCount,\r\n      \"buy\": prods,\r\n      \"date\": time\r\n    });\r\n    this.db.object('/buy/').remove();\r\n  }\r\n\r\n  reset() {\r\n    this.db.object('/buy/').remove();\r\n  }\r\n\r\n  removeBuy(buy: any) {\r\n    this.db.object('/buys/'+ buy.key).remove();\r\n  }\r\n\r\n  getQuantityOfP(pBuy: any) {\r\n    if (this.products) {\r\n      for (let i=0;i<this.products.length;i++) {\r\n        if (pBuy.product.title == this.products[i].payload.val().title) {\r\n          return this.products[i].payload.val().stock;\r\n        }\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  aprove(order: any) {\r\n\r\n    // for (let i=0;i<order.payload.val().order.products.length;i++) {\r\n    //   for (let j=0;j<this.stock.length;j++) {\r\n    //     if (this.stock[j].payload.val().product.title == order.payload.val().order.products[i].product.title) {\r\n    //         let quantity = this.stock[j].payload.val().quantity - order.payload.val().order.products[i].quantity;\r\n    //         this.updateItemQuantity(this.stock[j].payload.val().product, quantity, this.stock[j].key)\r\n    //     }\r\n    //   }\r\n    // }\r\n  }\r\n\r\n  getTotalCost(buy: any) {\r\n    let totalCost = 0\r\n    if (buy && buy.payload.val().buy) {\r\n      for (let i=0;i<buy.payload.val().buy.length;i++) {\r\n        totalCost += parseInt(buy.payload.val().buy[i].quantity) * parseFloat(buy.payload.val().buy[i].price);\r\n      }\r\n    }\r\n    return Math.round(totalCost * 10) / 10;;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n    this.subscription3.unsubscribe();\r\n    this.subscription4.unsubscribe();\r\n  }\r\n}\r\n","import { AngularFireDatabase  } from '@angular/fire/database';\nimport { Injectable } from '@angular/core';\nimport firebase from 'firebase';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class UserService {\n\n  constructor(private db: AngularFireDatabase) { }\n\n  save(user: firebase.User) {\n   this.db.object('/users/' + user.uid).update({\n     name: user.displayName,\n     email: user.email\n   });\n  }\n\n  get(uid: string): Observable<any> {\n    return this.db.object('/users/' + uid).valueChanges();\n }\n}\n","import { Injectable } from \"@angular/core\";\r\n\r\n@Injectable()\r\nexport class UtilityService{\r\n  navBarLoading = true;\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Sort } from '@angular/material/sort';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { AppUser } from '../models/app-user';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { ProductService } from '../services/product.service';\r\nimport { StockService } from '../services/stock.service';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\n\r\n@Component({\r\n  selector: 'stock',\r\n  templateUrl: './stock.component.html',\r\n  styleUrls: ['./stock.component.scss']\r\n})\r\nexport class StockComponent implements OnInit {\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n\r\n  appUser: AppUser;\r\n  currentItemsToShow: any[];\r\n  alertProducts: any[] = [];\r\n  filteredStock: any;\r\n  filteredProducts: any;\r\n  products: any;\r\n  stock: any;\r\n  sortedData: any[];\r\n  subscription: Subscription;\r\n  subscription2: Subscription;\r\n\r\n\r\n  constructor(public stockService: StockService,\r\n    private productService: ProductService,\r\n    private route: ActivatedRoute,\r\n    private auth: AuthService) {\r\n    }\r\n\r\n  ngOnInit(){\r\n    this.subscription = this.auth.appUser$.subscribe(appUser => {\r\n      this.appUser = appUser;\r\n      this.subscription2 = this.productService.getAllProducts().subscribe(products => {\r\n        this.products = this.filteredProducts = products;\r\n        this.currentItemsToShow = this.filteredProducts;\r\n        this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.products.length})\r\n        let alertProducts = []\r\n        for (let i=0;i<this.products.length;i++) {\r\n          if (this.products[i].payload.val().stock < 5) {\r\n            alertProducts.push(this.products[i].payload.val());\r\n          }\r\n        }\r\n        this.alertProducts = alertProducts;\r\n      });\r\n    // this.stockService.getStock().subscribe(stock => {\r\n    //   this.stock = this.filteredStock = stock;\r\n    //   let alertProducts = []\r\n    //   for (let i=0;i<this.stock.length;i++) {\r\n    //     if (this.stock[i].payload.val().quantity < 5) {\r\n    //       alertProducts.push(this.stock[i]);\r\n    //     }\r\n    //   }\r\n    //   this.alertProducts = alertProducts;\r\n    //  });\r\n    });\r\n  }\r\n\r\n  filter(query: string) {\r\n    // this.filteredStock = (query) ?\r\n    //   this.stock.filter( (p: { payload: { val: () => { (): any; new(): any; product: { (): any; new(): any; title: string; }; }; }; }) => p.payload.val().product.title.toLowerCase().includes(query.toLowerCase())) :\r\n    //   this.stock;\r\n    this.filteredProducts = (query) ?\r\n      this.products.filter( (p: { payload: { val: () => { (): any; new(): any; title: string; }; }; }) => p.payload.val().title.toLowerCase().includes(query.toLowerCase())) :\r\n      this.products;\r\n    this.onPageChange({previousPageIndex: 0, pageIndex: 0, pageSize: 10, length: this.filteredProducts.length});\r\n    if (this.paginator) this.paginator.pageIndex = 0;\r\n  }\r\n\r\n  sortData(sort: Sort) {\r\n    // const data = this.stock;\r\n    // if (!sort.active || sort.direction === '') {\r\n    //   this.sortedData = data;\r\n    //   return;\r\n    // }\r\n\r\n    // this.sortedData = data.sort((a: any, b: any) => {\r\n    //   const isAsc = sort.direction === 'asc';\r\n    //   switch (sort.active) {\r\n    //     case 'title': return this.compare(a.payload.val().product.title, b.payload.val().product.title, isAsc);\r\n    //     case 'quantity': return this.compare(a.payload.val().quantity, b.payload.val().quantity, isAsc);\r\n    //     default: return 0;\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  compare(a: number | string, b: number | string, isAsc: boolean) {\r\n    return (a < b ? -1 : 1) * (isAsc ? 1 : -1);\r\n  }\r\n\r\n  onPageChange($event: any) {\r\n    this.currentItemsToShow = this.filteredProducts.slice(\r\n      $event.pageIndex * $event.pageSize,\r\n      $event.pageIndex * $event.pageSize + $event.pageSize\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n    this.subscription2.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"SCContainer\" *ngIf=\"appUser\">\r\n  <div class=\"ms-3\"><h1>STOCK</h1></div>\r\n  <hr>\r\n  <div>\r\n    <div class=\"ms-3\">\r\n      <a *ngIf=\"appUser.isAdmin\" mat-raised-button color=\"primary\" routerLink=\"/stock/buy\">Nueva compra</a>\r\n      <a *ngIf=\"appUser.isAdmin\" class=\"ms-2\" mat-raised-button color=\"accent\" routerLink=\"/buys\">Ver compras</a>\r\n    </div>\r\n\r\n    <div class=\"input-group ms-3 my-4\">\r\n      <div>\r\n        <mat-icon matSuffix>search</mat-icon>\r\n      </div>\r\n      <div><input class=\"border-end-0 border rounded-pill\" #query (keyup)=\"filter(query.value)\" type=\"text\" placeholder=\"   Buscar producto...\"></div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"ms-3\">\r\n    <mat-accordion *ngIf=\"alertProducts.length >0\">\r\n      <mat-expansion-panel>\r\n        <mat-expansion-panel-header>\r\n          <mat-panel-title>\r\n            Faltantes\r\n          </mat-panel-title>\r\n        </mat-expansion-panel-header>\r\n        <table class=\"table table-striped table-sm mat-elevation-z8\">\r\n          <tbody>\r\n            <tr *ngFor=\"let p of alertProducts\">\r\n              <td>\r\n                <span><b>Comprar: </b> {{p.title}},&nbsp;quedan <b>{{p.stock}} unidades</b></span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </mat-expansion-panel>\r\n    </mat-accordion>\r\n\r\n  </div>\r\n\r\n  <div>&nbsp;</div>\r\n  <div class=\"ms-3\">\r\n    <h2>Existencias:</h2>\r\n    <table class=\"table table-striped table-sm mat-elevation-z8\" matSort (matSortChange)=\"sortData($event)\">\r\n      <thead>\r\n        <tr>\r\n          <th mat-sort-header=\"title\">Producto</th>\r\n          <th mat-sort-header=\"quantity\">Cantidad</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let p of currentItemsToShow\">\r\n          <td>{{p.payload.val().title}}&nbsp;&nbsp;&nbsp;&nbsp;</td>\r\n          <td>{{p.payload.val().stock}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <mat-paginator (page)=\"onPageChange($event)\" [length]=\"this.products?.length\" [pageSize]=\"10\" [pageSizeOptions]=\"[10, 20, 30]\"></mat-paginator>\r\n  </div>\r\n\r\n</div>\r\n\r\n","export const environment = {\r\n  production: false,\r\n  firebase: {\r\n    apiKey: \"AIzaSyDQFsWCl9FGxEr0BB6f-Bhp9h3eRQsCbHY\",\r\n    authDomain: \"distribuidora-nb.firebaseapp.com\",\r\n    //authDomain: \"http://localhost:9099\",\r\n    databaseURL: 'http://localhost:9000',\r\n    projectId: \"distribuidora-nb\",\r\n    storageBucket: \"distribuidora-nb.appspot.com\",\r\n    messagingSenderId: \"763137673585\",\r\n    appId: \"1:763137673585:web:f9194415b214fddd014ed0\"\r\n  }\r\n};\r\n// debo cambiar de proyecto en firebase haciendo firebase use --add distribuidora-nb\r\n// para que despliegue en la url correcta\r\n\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","var map = {\n\t\"./af\": 26431,\n\t\"./af.js\": 26431,\n\t\"./ar\": 81286,\n\t\"./ar-dz\": 1616,\n\t\"./ar-dz.js\": 1616,\n\t\"./ar-kw\": 9759,\n\t\"./ar-kw.js\": 9759,\n\t\"./ar-ly\": 43160,\n\t\"./ar-ly.js\": 43160,\n\t\"./ar-ma\": 62551,\n\t\"./ar-ma.js\": 62551,\n\t\"./ar-sa\": 79989,\n\t\"./ar-sa.js\": 79989,\n\t\"./ar-tn\": 6962,\n\t\"./ar-tn.js\": 6962,\n\t\"./ar.js\": 81286,\n\t\"./az\": 15887,\n\t\"./az.js\": 15887,\n\t\"./be\": 14572,\n\t\"./be.js\": 14572,\n\t\"./bg\": 3276,\n\t\"./bg.js\": 3276,\n\t\"./bm\": 93344,\n\t\"./bm.js\": 93344,\n\t\"./bn\": 58985,\n\t\"./bn-bd\": 83990,\n\t\"./bn-bd.js\": 83990,\n\t\"./bn.js\": 58985,\n\t\"./bo\": 94391,\n\t\"./bo.js\": 94391,\n\t\"./br\": 46728,\n\t\"./br.js\": 46728,\n\t\"./bs\": 5536,\n\t\"./bs.js\": 5536,\n\t\"./ca\": 41043,\n\t\"./ca.js\": 41043,\n\t\"./cs\": 70420,\n\t\"./cs.js\": 70420,\n\t\"./cv\": 33513,\n\t\"./cv.js\": 33513,\n\t\"./cy\": 6771,\n\t\"./cy.js\": 6771,\n\t\"./da\": 47978,\n\t\"./da.js\": 47978,\n\t\"./de\": 46061,\n\t\"./de-at\": 25204,\n\t\"./de-at.js\": 25204,\n\t\"./de-ch\": 2653,\n\t\"./de-ch.js\": 2653,\n\t\"./de.js\": 46061,\n\t\"./dv\": 85,\n\t\"./dv.js\": 85,\n\t\"./el\": 8579,\n\t\"./el.js\": 8579,\n\t\"./en-au\": 25724,\n\t\"./en-au.js\": 25724,\n\t\"./en-ca\": 10525,\n\t\"./en-ca.js\": 10525,\n\t\"./en-gb\": 52847,\n\t\"./en-gb.js\": 52847,\n\t\"./en-ie\": 67216,\n\t\"./en-ie.js\": 67216,\n\t\"./en-il\": 39305,\n\t\"./en-il.js\": 39305,\n\t\"./en-in\": 73364,\n\t\"./en-in.js\": 73364,\n\t\"./en-nz\": 79130,\n\t\"./en-nz.js\": 79130,\n\t\"./en-sg\": 11161,\n\t\"./en-sg.js\": 11161,\n\t\"./eo\": 50802,\n\t\"./eo.js\": 50802,\n\t\"./es\": 40328,\n\t\"./es-do\": 45551,\n\t\"./es-do.js\": 45551,\n\t\"./es-mx\": 75615,\n\t\"./es-mx.js\": 75615,\n\t\"./es-us\": 64790,\n\t\"./es-us.js\": 64790,\n\t\"./es.js\": 40328,\n\t\"./et\": 96389,\n\t\"./et.js\": 96389,\n\t\"./eu\": 52961,\n\t\"./eu.js\": 52961,\n\t\"./fa\": 26151,\n\t\"./fa.js\": 26151,\n\t\"./fi\": 7997,\n\t\"./fi.js\": 7997,\n\t\"./fil\": 58898,\n\t\"./fil.js\": 58898,\n\t\"./fo\": 37779,\n\t\"./fo.js\": 37779,\n\t\"./fr\": 28174,\n\t\"./fr-ca\": 3287,\n\t\"./fr-ca.js\": 3287,\n\t\"./fr-ch\": 38867,\n\t\"./fr-ch.js\": 38867,\n\t\"./fr.js\": 28174,\n\t\"./fy\": 50452,\n\t\"./fy.js\": 50452,\n\t\"./ga\": 45014,\n\t\"./ga.js\": 45014,\n\t\"./gd\": 74127,\n\t\"./gd.js\": 74127,\n\t\"./gl\": 72124,\n\t\"./gl.js\": 72124,\n\t\"./gom-deva\": 6444,\n\t\"./gom-deva.js\": 6444,\n\t\"./gom-latn\": 37953,\n\t\"./gom-latn.js\": 37953,\n\t\"./gu\": 76604,\n\t\"./gu.js\": 76604,\n\t\"./he\": 1222,\n\t\"./he.js\": 1222,\n\t\"./hi\": 74235,\n\t\"./hi.js\": 74235,\n\t\"./hr\": 622,\n\t\"./hr.js\": 622,\n\t\"./hu\": 37735,\n\t\"./hu.js\": 37735,\n\t\"./hy-am\": 90402,\n\t\"./hy-am.js\": 90402,\n\t\"./id\": 59187,\n\t\"./id.js\": 59187,\n\t\"./is\": 30536,\n\t\"./is.js\": 30536,\n\t\"./it\": 35007,\n\t\"./it-ch\": 94667,\n\t\"./it-ch.js\": 94667,\n\t\"./it.js\": 35007,\n\t\"./ja\": 62093,\n\t\"./ja.js\": 62093,\n\t\"./jv\": 80059,\n\t\"./jv.js\": 80059,\n\t\"./ka\": 66870,\n\t\"./ka.js\": 66870,\n\t\"./kk\": 80880,\n\t\"./kk.js\": 80880,\n\t\"./km\": 1083,\n\t\"./km.js\": 1083,\n\t\"./kn\": 68785,\n\t\"./kn.js\": 68785,\n\t\"./ko\": 21721,\n\t\"./ko.js\": 21721,\n\t\"./ku\": 37851,\n\t\"./ku.js\": 37851,\n\t\"./ky\": 1727,\n\t\"./ky.js\": 1727,\n\t\"./lb\": 40346,\n\t\"./lb.js\": 40346,\n\t\"./lo\": 93002,\n\t\"./lo.js\": 93002,\n\t\"./lt\": 64035,\n\t\"./lt.js\": 64035,\n\t\"./lv\": 56927,\n\t\"./lv.js\": 56927,\n\t\"./me\": 5634,\n\t\"./me.js\": 5634,\n\t\"./mi\": 94173,\n\t\"./mi.js\": 94173,\n\t\"./mk\": 86320,\n\t\"./mk.js\": 86320,\n\t\"./ml\": 11705,\n\t\"./ml.js\": 11705,\n\t\"./mn\": 31062,\n\t\"./mn.js\": 31062,\n\t\"./mr\": 92805,\n\t\"./mr.js\": 92805,\n\t\"./ms\": 11341,\n\t\"./ms-my\": 59900,\n\t\"./ms-my.js\": 59900,\n\t\"./ms.js\": 11341,\n\t\"./mt\": 37734,\n\t\"./mt.js\": 37734,\n\t\"./my\": 19034,\n\t\"./my.js\": 19034,\n\t\"./nb\": 9324,\n\t\"./nb.js\": 9324,\n\t\"./ne\": 46495,\n\t\"./ne.js\": 46495,\n\t\"./nl\": 70673,\n\t\"./nl-be\": 76272,\n\t\"./nl-be.js\": 76272,\n\t\"./nl.js\": 70673,\n\t\"./nn\": 72486,\n\t\"./nn.js\": 72486,\n\t\"./oc-lnc\": 46219,\n\t\"./oc-lnc.js\": 46219,\n\t\"./pa-in\": 2829,\n\t\"./pa-in.js\": 2829,\n\t\"./pl\": 78444,\n\t\"./pl.js\": 78444,\n\t\"./pt\": 53170,\n\t\"./pt-br\": 66117,\n\t\"./pt-br.js\": 66117,\n\t\"./pt.js\": 53170,\n\t\"./ro\": 96587,\n\t\"./ro.js\": 96587,\n\t\"./ru\": 39264,\n\t\"./ru.js\": 39264,\n\t\"./sd\": 42135,\n\t\"./sd.js\": 42135,\n\t\"./se\": 95366,\n\t\"./se.js\": 95366,\n\t\"./si\": 93379,\n\t\"./si.js\": 93379,\n\t\"./sk\": 46143,\n\t\"./sk.js\": 46143,\n\t\"./sl\": 196,\n\t\"./sl.js\": 196,\n\t\"./sq\": 21082,\n\t\"./sq.js\": 21082,\n\t\"./sr\": 91621,\n\t\"./sr-cyrl\": 98963,\n\t\"./sr-cyrl.js\": 98963,\n\t\"./sr.js\": 91621,\n\t\"./ss\": 41404,\n\t\"./ss.js\": 41404,\n\t\"./sv\": 55685,\n\t\"./sv.js\": 55685,\n\t\"./sw\": 3872,\n\t\"./sw.js\": 3872,\n\t\"./ta\": 54106,\n\t\"./ta.js\": 54106,\n\t\"./te\": 39204,\n\t\"./te.js\": 39204,\n\t\"./tet\": 83692,\n\t\"./tet.js\": 83692,\n\t\"./tg\": 86361,\n\t\"./tg.js\": 86361,\n\t\"./th\": 31735,\n\t\"./th.js\": 31735,\n\t\"./tk\": 1568,\n\t\"./tk.js\": 1568,\n\t\"./tl-ph\": 96129,\n\t\"./tl-ph.js\": 96129,\n\t\"./tlh\": 13759,\n\t\"./tlh.js\": 13759,\n\t\"./tr\": 81644,\n\t\"./tr.js\": 81644,\n\t\"./tzl\": 90875,\n\t\"./tzl.js\": 90875,\n\t\"./tzm\": 16878,\n\t\"./tzm-latn\": 11041,\n\t\"./tzm-latn.js\": 11041,\n\t\"./tzm.js\": 16878,\n\t\"./ug-cn\": 74357,\n\t\"./ug-cn.js\": 74357,\n\t\"./uk\": 74810,\n\t\"./uk.js\": 74810,\n\t\"./ur\": 86794,\n\t\"./ur.js\": 86794,\n\t\"./uz\": 28966,\n\t\"./uz-latn\": 77959,\n\t\"./uz-latn.js\": 77959,\n\t\"./uz.js\": 28966,\n\t\"./vi\": 35386,\n\t\"./vi.js\": 35386,\n\t\"./x-pseudo\": 23156,\n\t\"./x-pseudo.js\": 23156,\n\t\"./yo\": 68028,\n\t\"./yo.js\": 68028,\n\t\"./zh-cn\": 9330,\n\t\"./zh-cn.js\": 9330,\n\t\"./zh-hk\": 89380,\n\t\"./zh-hk.js\": 89380,\n\t\"./zh-mo\": 60874,\n\t\"./zh-mo.js\": 60874,\n\t\"./zh-tw\": 96508,\n\t\"./zh-tw.js\": 96508\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;"],"sourceRoot":"webpack:///"}